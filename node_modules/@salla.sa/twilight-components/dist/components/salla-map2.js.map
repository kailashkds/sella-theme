{"file":"salla-map2.js","mappings":"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","names":[],"sources":["./src/components/salla-map/map-styles.ts","./node_modules/google-maps/lib/esm/loader.js","./src/components/salla-map/salla-map.scss?tag=salla-map","./src/components/salla-map/salla-map.tsx"],"sourcesContent":["// export json\nconst light: google.maps.MapTypeStyle[] = [\n  {\n    featureType: 'water',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#e9e9e9',\n      },\n      {\n        lightness: 17,\n      },\n    ],\n  },\n  {\n    featureType: 'landscape',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#f5f5f5',\n      },\n      {\n        lightness: 20,\n      },\n    ],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#ffffff',\n      },\n      {\n        lightness: 17,\n      },\n    ],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        color: '#ffffff',\n      },\n      {\n        lightness: 29,\n      },\n      {\n        weight: 0.2,\n      },\n    ],\n  },\n  {\n    featureType: 'road.arterial',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#ffffff',\n      },\n      {\n        lightness: 18,\n      },\n    ],\n  },\n  {\n    featureType: 'road.local',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#ffffff',\n      },\n      {\n        lightness: 16,\n      },\n    ],\n  },\n  {\n    featureType: 'poi',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#f5f5f5',\n      },\n      {\n        lightness: 21,\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#dedede',\n      },\n      {\n        lightness: 21,\n      },\n    ],\n  },\n  {\n    elementType: 'labels.text.stroke',\n    stylers: [\n      {\n        visibility: 'on',\n      },\n      {\n        color: '#ffffff',\n      },\n      {\n        lightness: 16,\n      },\n    ],\n  },\n  {\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        saturation: 36,\n      },\n      {\n        color: '#333333',\n      },\n      {\n        lightness: 40,\n      },\n    ],\n  },\n  {\n    elementType: 'labels.icon',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'transit',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#f2f2f2',\n      },\n      {\n        lightness: 19,\n      },\n    ],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.fill',\n    stylers: [\n      {\n        color: '#fefefe',\n      },\n      {\n        lightness: 20,\n      },\n    ],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        color: '#fefefe',\n      },\n      {\n        lightness: 17,\n      },\n      {\n        weight: 1.2,\n      },\n    ],\n  },\n];\nconst dark: google.maps.MapTypeStyle[] = [\n  {\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#242f3e',\n      },\n    ],\n  },\n  {\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#746855',\n      },\n    ],\n  },\n  {\n    elementType: 'labels.text.stroke',\n    stylers: [\n      {\n        color: '#242f3e',\n      },\n    ],\n  },\n  {\n    featureType: 'administrative.locality',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#d59563',\n      },\n    ],\n  },\n  {\n    featureType: 'poi',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#d59563',\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#263c3f',\n      },\n    ],\n  },\n  {\n    featureType: 'poi.park',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#6b9a76',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#38414e',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        color: '#212a37',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#9ca5b3',\n      },\n    ],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#746855',\n      },\n    ],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'geometry.stroke',\n    stylers: [\n      {\n        color: '#1f2835',\n      },\n    ],\n  },\n  {\n    featureType: 'road.highway',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#f3d19c',\n      },\n    ],\n  },\n  {\n    featureType: 'transit',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#2f3948',\n      },\n    ],\n  },\n  {\n    featureType: 'transit.station',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#d59563',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'geometry',\n    stylers: [\n      {\n        color: '#17263c',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'labels.text.fill',\n    stylers: [\n      {\n        color: '#515c6d',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'labels.text.stroke',\n    stylers: [\n      {\n        color: '#17263c',\n      },\n    ],\n  },\n];\nexport default {\n  light,\n  dark,\n};\n","export class Loader {\n    constructor(apiKey = null, options = {}) {\n        this.apiKey = apiKey;\n        this.options = options;\n        if (typeof window === 'undefined') {\n            throw new Error('google-maps is supported only in browser environment');\n        }\n    }\n    load() {\n        if (typeof this.api !== 'undefined') {\n            return Promise.resolve(this.api);\n        }\n        if (typeof this.loader !== 'undefined') {\n            return this.loader;\n        }\n        window[Loader.CALLBACK_NAME] = () => {\n            this.api = window['google'];\n            if (typeof this.resolve === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            this.resolve(this.api);\n        };\n        window['gm_authFailure'] = () => {\n            if (typeof this.reject === 'undefined') {\n                throw new Error('Should not happen');\n            }\n            this.reject(new Error('google-maps: authentication error'));\n        };\n        return this.loader = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n            const script = document.createElement('script');\n            script.src = this.createUrl();\n            script.async = true;\n            script.onerror = (e) => reject(e);\n            document.head.appendChild(script);\n        });\n    }\n    createUrl() {\n        const parameters = [\n            `callback=${Loader.CALLBACK_NAME}`,\n        ];\n        if (this.apiKey) {\n            parameters.push(`key=${this.apiKey}`);\n        }\n        for (let name in this.options) {\n            if (this.options.hasOwnProperty(name)) {\n                let value = this.options[name];\n                if (name === 'version') {\n                    name = 'v';\n                }\n                if (name === 'libraries') {\n                    value = value.join(',');\n                }\n                parameters.push(`${name}=${value}`);\n            }\n        }\n        return `https://maps.googleapis.com/maps/api/js?${parameters.join('&')}`;\n    }\n}\nLoader.CALLBACK_NAME = '_dk_google_maps_loader_cb';\n//# sourceMappingURL=loader.js.map","/*\n* Salla Location Component: location popup modal\n* You can use these classes to target the elements in the component.\n*/\n\n.s-map {\n  &-wrapper {}\n\n  &-modal {\n    &-wrapper {\n\n    }\n    &-title{\n\n    }\n    &-body{\n\n    }\n    &-map-element{\n\n    }\n    &-my-location-button{\n\n    }\n    &-submit-button{\n\n    }\n  }\n  &-location{\n    &-button{\n\n    }\n    &-icon{\n      \n    }\n  }\n}\n","import { Component, Host, h, Prop, Method, State, Event, EventEmitter, Element } from '@stencil/core';\nimport Location from '../../assets/svg/location.svg';\nimport Edit from '../../assets/svg/edit.svg';\nimport CurrentLocation from '../../assets/svg/location-target.svg';\nimport LocationMarker from '../../assets/svg/location-marker.svg';\nimport styles from './map-styles';\n\n// import google maps\nimport { Loader, LoaderOptions } from 'google-maps';\n\n@Component({\n  tag: 'salla-map',\n  styleUrl: 'salla-map.scss',\n})\nexport class SallaMap {\n  // private variables\n  private map: google.maps.Map;\n  private locationModal: HTMLSallaModalElement;\n  private marker: google.maps.Marker;\n  private defaultLat: number = 21.419421;//Mecca ðŸ•‹\n  private defaultLng: number = 39.82553;//Mecca ðŸ•‹\n  @Element() host: HTMLElement;\n  // state variables\n  @State() modalActivityTitle: string = salla.lang.get('pages.checkout.select_your_address_from_map');\n  @State() confirmButtonTitle: string = salla.lang.get('pages.checkout.confirm_address');\n  @State() locateButtonTitle: string = salla.lang.get('pages.cart.detect_location');\n  @State() locateButtonEdit: string = salla.lang.get('common.elements.edit');\n  @State() searchPlaceholder: string = salla.lang.get('pages.checkout.search_for_address');\n  @State() searchInputValue: string = null;\n  @State() formattedAddress: string = '';\n  @State() geolocationError: boolean = false;\n  @State() searchInput: HTMLInputElement;\n  @State() mapInput: HTMLInputElement;\n  @State() mapElement: HTMLElement;\n  @State() selectedLat: number;\n  @State() selectedLng: number;\n\n  constructor() {\n    salla.lang.onLoaded(() => {\n      this.modalActivityTitle = salla.lang.get('pages.checkout.select_your_address_from_map');\n      this.confirmButtonTitle = salla.lang.get('pages.checkout.confirm_address');\n      this.locateButtonTitle = salla.lang.get('pages.cart.detect_location');\n      this.locateButtonEdit = salla.lang.get('common.elements.edit');\n      this.searchPlaceholder = salla.lang.get('pages.checkout.search_for_address');\n    });\n    this.apiKey = 'AIzaSyBPhPJ4KG13ywvmeAovLRnbi7WzlsdcWKs';\n  }\n\n  private formatAddress(address: string) {\n    return address.length > 25 ? address.substring(0, 25) + '...' : address;\n  }\n\n  private getLatLng(){\n    return this.selectedLat && this.selectedLng ? `${this.selectedLat}, ${this.selectedLng}` : null\n  }\n  private getPositionAddress(location: google.maps.LatLng, submit: boolean = false) {\n    // get address and set it to search input\n    const Geocoder = new google.maps.Geocoder();\n    Geocoder.geocode(\n      {\n        location,\n      },\n      (results, status) => {\n        if (status === google.maps.GeocoderStatus.OK) {\n          if (this.searchable) {\n            this.searchInputValue = results[0].formatted_address;\n            this.searchInput.value = results[0].formatted_address;\n          }\n          if (submit) {\n            this.formattedAddress = results[0].formatted_address;\n          }\n        }\n      }\n    );\n  }\n\n  private initGoogleMaps(options: LoaderOptions, mapDOM: Element) {\n    const loader = new Loader(this.apiKey, options);\n\n    loader.load().then(google => {\n      this.map = new google.maps.Map(mapDOM, {\n        center: (this.lat || this.lng) ? {\n          lat: this.lat,\n          lng: this.lng,\n        } : {\n          lat: this.defaultLat,\n          lng: this.defaultLng,\n        },\n        zoom: this.zoom,\n        zoomControl: true,\n        mapTypeControl: false,\n        scaleControl: false,\n        streetViewControl: false,\n        rotateControl: false,\n        fullscreenControl: false,\n        disableDefaultUI: false,\n      });\n\n      this.map.setOptions({\n        styles: this.theme === 'light' ? styles.light : styles.dark,\n      });\n\n      this.marker = new google.maps.Marker({\n        position: this.map.getCenter(),\n        map: this.map,\n        icon: {\n          url: 'data:image/svg+xml;utf8,' + encodeURIComponent(LocationMarker),\n          scaledSize: new google.maps.Size(30, 30),\n        },\n      });\n\n      if (this.searchable) {\n        const searchBox = new google.maps.places.SearchBox(this.searchInput);\n        google.maps.event.addListener(searchBox, 'places_changed', () => {\n          const places = searchBox.getPlaces();\n          // goto first place\n          if (places.length > 0 && this.map) {\n            this.map.setCenter(places[0].geometry.location);\n            this.lat = places[0].geometry.location.lat();\n            this.lng = places[0].geometry.location.lng();\n            // set marker\n            this.marker.setPosition(places[0].geometry.location);\n            this.searchInputValue = places[0].formatted_address;\n            this.formattedAddress = places[0].formatted_address;\n          }\n        });\n      }\n      // add listener to map\n      google.maps.event.addListener(this.map, 'click', e => {\n        if (this.readonly) return;\n        this.marker.setPosition(e.latLng);\n        this.lat = e.latLng.lat();\n        this.lng = e.latLng.lng();\n        this.getPositionAddress(e.latLng);\n        this.mapClicked.emit({\n          lat: e.latLng.lat(),\n          lng: e.latLng.lng(),\n          address: this.formattedAddress ? this.formattedAddress : null,\n        });\n      });\n      if (!this.lat && !this.lng) {\n        this.getCurrentLocation();\n        if (this.geolocationError) {\n          this.map.setCenter({\n            lat: this.lat,\n            lng: this.lng,\n          });\n          this.marker.setPosition({\n            lat: this.lat,\n            lng: this.lng,\n          });\n        }\n      }\n    });\n  }\n\n  private getCurrentLocation() {\n    if (navigator.geolocation && this.map) {\n      navigator.geolocation.getCurrentPosition(position => {\n        // set map to this location\n        const mapOptions = {\n          center: new google.maps.LatLng(position.coords.latitude, position.coords.longitude),\n          zoom: 15,\n        };\n        this.map.setOptions(mapOptions);\n        // set marker\n        this.marker.setPosition(mapOptions.center);\n        this.getPositionAddress(mapOptions.center);\n        this.lat = position.coords.latitude;\n        this.lng = position.coords.longitude;\n        this.currentLocationChanged.emit({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n          address: this.formattedAddress ? this.formattedAddress : null,\n        });\n      }, this.handleLocationError.bind(this));\n    } else {\n      salla.log('Geolocation is not supported by this browser.');\n      this.geolocationError = true;\n    }\n  }\n\n  private handleLocationError(error) {\n    this.geolocationError = true;\n    switch (error.code) {\n      case error.PERMISSION_DENIED:\n        salla.log('User denied the request for Geolocation.');\n        break;\n      case error.POSITION_UNAVAILABLE:\n        salla.log('Location information is unavailable.');\n        break;\n      case error.TIMEOUT:\n        salla.log('The request to get user location timed out.');\n        break;\n      case error.UNKNOWN_ERROR:\n        salla.log('An unknown error occurred.');\n        break;\n    }\n  }\n  componentDidLoad() {\n    // if lat and lng provided then get the formatted address\n    if (this.lat && this.lng) {\n      // get address\n      fetch(\n        `https://maps.googleapis.com/maps/api/geocode/json?latlng=${this.lat},${this.lng}&key=${this.apiKey}&language=${salla.config.get('user.language_code') ||\n        document.documentElement.lang ||\n        'ar'}`\n      )\n        .then(res => res.json())\n        .then(res => {\n          if (res.status === 'OK') {\n            this.formattedAddress = res.results[0].formatted_address;\n            this.searchInputValue = res.results[0].formatted_address;\n            this.searchInput.value = res.results[0].formatted_address;\n            this.selectedLng = this.lng;\n            this.selectedLat = this.lat;\n          }\n        }\n        );\n    }\n    this.mapInput.addEventListener('invalid', e => {\n      this.invalidInput.emit(e);\n    });\n    this.mapInput.addEventListener('input', () => {\n      this.mapInput.setCustomValidity('');\n      this.mapInput.reportValidity();\n    });\n  }\n  /**\n   * Open location component\n   */\n  @Method()\n  async open() {\n    // only init google maps on modal open :) to save resources\n    if (!this.map)\n      this.initGoogleMaps(\n        {\n          libraries: this.searchable ? ['places', 'search'] : [],\n          language:\n            salla.config.get('user.language_code') ||\n            document.documentElement.lang ||\n            'ar',\n        },\n        this.mapElement\n      );\n    return this.locationModal?.open();\n  }\n\n  /**\n   * File input name for the native formData\n   */\n  @Prop() name: string = 'location';\n\n  /**\n   * Set if the location input is required or not\n   */\n  @Prop() required: boolean = false;\n  /**\n   * Disable or enable actions\n   */\n  @Prop() readonly: boolean = false;\n\n  /**\n   * Sets the search bar visibility.\n   */\n  @Prop({ mutable: true }) searchable: boolean = false;\n\n  /**\n   * Latitude coordinate, defaults to current user location\n   */\n  @Prop({ mutable: true }) lat: number;\n\n  /**\n   * Longitude coordinate, defaults to current user location\n   */\n  @Prop({ mutable: true }) lng: number;\n\n  /**\n   * Sets google api key value, default Merchant key\n   */\n  @Prop({ mutable: true }) apiKey: string;\n\n  /**\n   * Modal Title\n   */\n  @Prop() modalTitle: string;\n\n  /**\n   * Sets start map zoom.\n   */\n\n  @Prop({ mutable: true }) zoom: number = 10;\n\n  /**\n   * Sets map style.\n   */\n  @Prop({ mutable: true }) theme: string = 'light';\n\n  /**\n   * Custom DOM event emitter when location is selected\n   */\n  @Event() selected: EventEmitter;\n\n  /**\n   * Custom DOM event emitter when map is clicked\n   */\n  @Event() mapClicked: EventEmitter;\n\n  /**\n   * Custom DOM event emitter when current location is selected\n   */\n  @Event() currentLocationChanged: EventEmitter;\n\n  /**\n   * Event emitted when the input is invalid.\n   */\n  @Event() invalidInput: EventEmitter<any>;\n  \n  // rendering functions\n  private getLocationModal() {\n    return (\n      <div>\n        <div class=\"s-map-modal-title\">{!!this.modalTitle ? this.modalTitle : this.modalActivityTitle}</div>\n        <div class=\"s-map-modal-body\">\n          <div class=\"s-map-element\" ref={el => (this.mapElement = el)}></div>\n          {this.readonly ? \"\" :\n            [\n              this.searchable && (\n                <div class=\"s-map-search-wrapper\">\n                  <input class=\"s-map-search-input\" ref={el => (this.searchInput = el)} placeholder={this.searchPlaceholder}></input>\n                </div>\n              ),\n              <salla-button\n                class=\"s-map-my-location-button\"\n                onClick={() => {\n                  this.getCurrentLocation();\n                }}\n                shape=\"icon\"\n                color=\"primary\"\n              >\n                <span innerHTML={CurrentLocation}></span>\n              </salla-button>,\n              <salla-button\n                class=\"s-map-submit-button\"\n                color=\"primary\"\n                width=\"wide\"\n                onClick={() => {\n                  let points = {\n                    lat: this.lat,\n                    lng: this.lng,\n                    address: this.formattedAddress ? this.formattedAddress : null,\n                  };\n                  salla.event.emit('salla-map::selected', points)\n                  this.selected.emit(points);\n                  this.selectedLat = points.lat;\n                  this.selectedLng = points.lng;\n                  this.getPositionAddress(new google.maps.LatLng(points.lat, points.lng), true);\n                  if (!this.selectedLat || !this.selectedLng) {\n                    this.mapInput.value = null;\n                  } else {\n                    this.mapInput.value = `${this.selectedLat}, ${this.selectedLng}`;\n                  }\n                  this.mapInput.dispatchEvent(new window.Event('change', { bubbles: true }))\n                  this.locationModal.close();\n                }}\n              >\n                {this.confirmButtonTitle}\n              </salla-button>]\n          }\n        </div>\n      </div>\n    );\n  }\n\n  // render\n  render() {\n    return (\n      <Host class=\"s-map-wrapper\">\n        <salla-modal\n          class=\"s-map-modal-wrapper\"\n          noPadding\n          ref={modal => {\n            this.locationModal = modal;\n          }}\n        >\n          {this.getLocationModal()}\n        </salla-modal>\n\n        <slot name=\"button\">\n          <salla-button\n            onClick={() => {\n              this.open();\n            }}\n            color=\"primary\"\n            class=\"s-map-location-button\"\n          >\n            <span class=\"s-map-location-icon\" innerHTML={this.formattedAddress ? Edit : Location} />\n            {this.formattedAddress ? (\n              <div>\n                {this.locateButtonEdit} | {this.formatAddress(this.formattedAddress)}\n              </div>\n            ) : (\n              this.locateButtonTitle\n            )}\n          </salla-button>\n        </slot>\n\n        <input class=\"s-hidden\" name={this.name} required={this.required} value={this.getLatLng()}\n          ref={color => this.mapInput = color} />\n      </Host>\n    );\n  }\n}\n"],"version":3}