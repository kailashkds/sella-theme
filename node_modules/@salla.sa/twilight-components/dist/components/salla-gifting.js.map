{"file":"salla-gifting.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,eAAe,GAAG,qmBAAqmB;;MCahnBA,cAAY;EACvB;;;;;;;kCAyC0C,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,2CAA2C,CAAC;;;;;;;;;;;;;;;;;uBAiBtE,CAAC;wBACC,KAAK;wBACL,KAAK;uBACP,EAAE;uBACF,mBAAmB;kBACxB,EAAE;gBAEE,SAAS;kCACG,SAAS;wBAElB,KAAK;yBAGL,SAAS;yBACT,SAAS;wBACV,SAAS;;;oBAGZ,KAAK;;;oBAGL,IAAI;;;;;;;IA9E/B,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;MAClB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,2CAA2C,CAAC,CAAC;MACvF,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;MAC9F,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;MAC/E,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,kDAAkD,CAAC,CAAA;MACzF,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;MAC1E,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,iCAAiC,CAAC,CAAC;MACrE,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;MAClF,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;MAC5E,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;MAC3D,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,wCAAwC,CAAC,CAAC;MAClF,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;MAC/D,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;MACxE,IAAI,CAAC,sBAAsB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,kCAAkC,CAAC,CAAC;MACjF,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;MACrF,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;MACnF,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;MAC5E,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;MACjE,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,8CAA8C,CAAC,CAAC;MAC5F,IAAI,CAAC,8BAA8B,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,yDAAyD,CAAC,CAAC;MAChH,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;MAC/D,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;MAClF,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAA;KACrC,CAAC,CAAC;GACJ;EAwED,gBAAgB;IACd,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC;MACjC,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,yBAAyB,CAAgB,CAAA;;MAEtF,IAAI,CAAC,QAAQ,GAAG,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,KAAK,CAAA;KACrC,CAAC,CAAC;GACJ;;;;EAMD,MAAM,IAAI;IACR,IAAI,KAAK,CAAC,MAAM,CAAC,OAAO,EAAE,EAAE;MAC1B,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;MACpC,OAAO;KACR;IACD,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAA;IACjB,OAAO,MAAM,KAAK,CAAC,GAAG,CAAC,eAAe,CAAC,MAAM,KAAK,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;OACvF,IAAI,CAAC,CAAC,QAAQ;MACb,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;MAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;KACzC,CAAC;OACD,KAAK,CAAC,CAAC;;MACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;MACrB,IAAI,CAAC,YAAY,GAAG,CAAA,MAAA,MAAA,MAAA,CAAC,CAAC,QAAQ,0CAAE,IAAI,0CAAE,KAAK,0CAAE,OAAO,MAAI,MAAA,CAAC,CAAC,QAAQ,0CAAE,IAAI,CAAA,CAAC;KAC1E,CAAC;OACD,OAAO,CAAC;MACP,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAA;KACzB,CAAC,CAAC;GACN;;;;;EAOD,MAAM,KAAK;IACT,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;GAC3B;;;;EAMO,MAAM,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,EAAE,aAAa,GAAG,CAAC,EAAE,SAAS,GAAG,CAAC;IACtF,IAAI,WAAW,GAAgB,QAAQ,CAAC,aAAa,CAAC,cAAc,MAAM,EAAE,CAAgB,CAAC;IAC7F,UAAU,CAAC;MACT,IAAI,iBAAiB,GAAW,WAAW,CAAC,YAAY,CAAC;MACzD,IAAI,SAAS,EAAE;QACb,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,IAAI,CAAC;OACnD;WAAM;QACL,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,iBAAiB,GAAG,aAAa,GAAG,IAAI,CAAC;OAC3E;KACF,EAAE,KAAK,CAAC,CAAA;GACV;EAEO,cAAc;IACpB,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC;IACvC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;GAClC;EAEO,cAAc,CAAC,KAAK;;IAC1B,MAAA,IAAI,CAAC,UAAU,0CAAE,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IACtD,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,CAAA;IACtF,IAAI,QAAQ,GAAG,MAAM,IAAI,QAAQ,CAAC;IAClC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;IAE7B,IAAI,MAAM,EAAE;MACV,IAAI,CAAC,sBAAsB,GAAG,MAAM,CAAA;MACpC,QAAQ,GAAG,IAAI,CAAC,YAAY,GAAG,SAAS,GAAG,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAA;MACjF,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC;SAAM;;MAEL,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;MACzB,IAAI,CAAC,YAAY,GAAG,SAAS,CAAA;MAC7B,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAA;MACvC,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;KACpC;GAEF;;;;;EAOD,MAAM,SAAS;IACb,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;MAChC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;MAClD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;MACzD,OAAO;KACR;SAAM,IAAI,IAAI,CAAC,sBAAsB,IAAI,QAAQ,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;MACxE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;MACrD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;MACtD,OAAO;KACR;SAAM;MACL,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;MACrD,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;KAC1D;IACD,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IAEjC,IAAI,aAAa,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC;IACzC,aAAa,CAAC,GAAG,CAAC;MAChB,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC;MACxD,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACf,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;MACnB,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;MAExB,QAAQ,EAAE,IAAI;KACf,CAAC;OACC,GAAG,CAAC;MACH,OAAO,EAAE,cAAc;MACvB,UAAU,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC;MACxB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KAChB,EAAE,QAAQ,CAAC;OACX,GAAG,CAAC;MACH,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC;MACxD,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACf,UAAU,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;MACpB,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;MACxB,QAAQ,EAAE,IAAI;MACd,QAAQ,EAAE;QACR,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI;UAC1D,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;UAClC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;SAC/B,CAAC,CAAA;OACH;KACF,EAAE,QAAQ,CAAC,CAAA;IACd,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAAC,WAAW,GAAG,mBAAmB,IAAI,CAAC,WAAW,EAAE,CAAA;GACzD;;;;;EAMD,SAAS,CAAC,CAAC;IACT,CAAC,CAAC,cAAc,EAAE,CAAC;IACnB,IAAI,aAAa,GAAG,IAAI,KAAK,CAAC,QAAQ,CAAC;MACrC,QAAQ,EAAE,KAAK;KAChB,CAAC,CAAC;IAEH,aAAa,CAAC,GAAG,CAAC;MAChB,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC;MACxD,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACf,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;MACpB,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;;MAExB,QAAQ,EAAE,IAAI;KACf,CAAC;OACC,GAAG,CAAC;MACH,OAAO,EAAE,cAAc;MACvB,UAAU,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;MACvB,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;KAChB,EAAE,QAAQ,CAAC;OACX,GAAG,CAAC;MACH,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC;MACxD,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACf,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;MACnB,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;MACxB,QAAQ,EAAE,IAAI;MACd,QAAQ,EAAE;QACR,IAAI,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC,OAAO,CAAC,IAAI;UAC1D,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;UAClC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;SAC/B,CAAC,CAAA;OACH;KACF,EAAE,QAAQ,CAAC,CAAA;IAEd,aAAa,CAAC,IAAI,EAAE,CAAC;IACrB,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IACjC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAAC,WAAW,GAAG,mBAAmB,IAAI,CAAC,WAAW,EAAE,CAAA;GACzD;EAEO,sBAAsB;IAC5B,OAAO,iGAAiG,MAAM,yDAAyD,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,mBAAmB,GAAG,EAAE,YAAY,CAAA;GAC5O;EAED,UAAU,CAAC,KAAgB;;IACzB,MAAA,IAAI,CAAC,QAAQ,0CAAE,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;IACtC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAgB,CAAC;IACvJ,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAA;IAC/B,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAA;IAC/B,EAAE,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,GAAG,KAAK,CAAC,GAAG,GAAG,IAAI,CAAA;IACrD,MAAA,IAAI,CAAC,QAAQ,0CAAE,aAAa,CAAC,iBAAiB,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC;IAChE,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC;IAC/B,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;MAC/C,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC;GACF;EAED,aAAa;IACX,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACzC,IAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAgB,CAAC;IAC/D,EAAE,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAC5B,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAA;GACzB;EAEO,oBAAoB,CAAC,KAAK;IAChC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;IACvC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;GAC1D;EAEO,gBAAgB,CAAC,KAAK;IAC5B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;GACtC;EAEO,kBAAkB,CAAC,KAAK;IAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;GACxC;EAEO,iBAAiB,CAAC,GAAG;IAC3B,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC;IACzB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;MAC/C,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC;GACF;EAEO,iBAAiB;IACvB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IACxB,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;MAC/C,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC;GACF;;;;EAMO,sBAAsB,CAAC,KAAK;IAClC,IAAI,KAAK,GAAU,KAAK,CAAC,MAAM,CAAC;IAChC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC;IACnC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC,YAAY,CAAC;GAC/C;EAEO,oBAAoB,CAAC,KAAK;IAChC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC;GAClC;EAEO,kBAAkB;IACxB,OAAO;MACL,cAAc,EAAE,IAAI;MACpB,YAAY,EAAE,IAAI;MAClB,oBAAoB,EAAE,IAAI;MAC1B,OAAO,EAAE,IAAI,CAAC,YAAY;MAC1B,MAAM,EAAE,CAAC,IAAI,CAAC,YAAY;MAC1B,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;KAC/D,CAAA;GACF;EAEO,MAAM,UAAU;;;IAEtB,MAAM,cAAc,GAAG,MAAA,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,0CAAE,KAAK,CAAA;IACxE,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;IAC5D,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;MACjB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;MAChB,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC;IACD,IAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;MAC3C,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;MACzD,OAAO;KACR;IACD,IAAI,OAAO,GAAkB;MAC3B,IAAI,EAAE,IAAI,CAAC,YAAY;MACvB,WAAW,EAAE,IAAI,CAAC,UAAU;MAC5B,QAAQ,EAAE,IAAI,CAAC,QAAQ;MACvB,UAAU,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI;MACxD,SAAS,EAAE,MAAA,IAAI,CAAC,aAAa,mCAAI,IAAI,CAAC,aAAa;MACnD,eAAe,EAAE,cAAc,GAAG,cAAc,GAAG,IAAI;MACvD,QAAQ,EAAE;QACR,IAAI,EAAE,IAAI,CAAC,YAAY;QACvB,YAAY,EAAE,IAAI,CAAC,mBAAmB;QACtC,MAAM,EAAE,IAAI,CAAC,cAAc;OAC5B;KACF,CAAA;IACD,OAAO,MAAM,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI;MAChF,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;MAClB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA;KACnB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;MACT,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,GAAG,EAAE;QAC5B,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAA;OAC3C;WAAM;QACL,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;OAChB;MACD,IAAI,CAAC,gBAAgB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;KAClC,CAAC,CAAA;GACH;EAED,MAAM;;IACJ,OAAO;MACL,eACE,uBAAiB,KAAK,EAAC,kBAAkB,IACvC,WAAK,IAAI,EAAC,OAAO,IACf,cAAK,IAAI,CAAC,YAAY,CAAM,CACxB,EACN,WAAK,IAAI,EAAC,UAAU,IAClB,eAAM,CAAC,CAAC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,eAAe,CAAO,CAC3E,EACN,WAAK,IAAI,EAAC,QAAQ,IAChB,oBAAc,KAAK,EAAC,yBAAyB,EAAC,KAAK,EAAC,MAAM,EAAC,OAAO,EAAE,MAAM,IAAI,CAAC,IAAI,EAAE,IACnF,YAAM,SAAS,EAAE,WAAW,GAAS,aACrC,gBAAO,IAAI,CAAC,cAAc,CAAQ,CACrB,CACX,CACU,EAElB,mBAAa,EAAE,EAAC,qBAAqB,EAAC,SAAS,EAAE,IAAI,EAAE,KAAK,EAAC,iBAAiB,EAAC,KAAK,EAAC,IAAI,EAC5E,GAAG,EAAE,KAAK,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,IAC3C,WAAK,IAAI,EAAC,SAAS,IACjB,WAAK,KAAK,EAAC,oBAAoB,IAC7B,WAAK,KAAK,EAAC,wBAAwB,IACjC,sBAAgB,IAAI,EAAC,QAAQ,EAAC,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,MAAM,GAAkB,EAC1E,UAAI,KAAK,EAAC,uBAAuB,IAC/B,WAAK,KAAK,EAAC,+BAA+B,IACxC,sBAAgB,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,OAAO,GAAkB,CACzD,CACH,CACD,EACN,WAAK,KAAK,EAAC,4BAA4B,IACrC,sBAAgB,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,OAAO,GAAkB,EAC7D,sBAAgB,MAAM,EAAC,OAAO,GAAkB,EAChD,sBAAgB,MAAM,EAAC,MAAM,EAAC,KAAK,EAAC,OAAO,GAAkB,EAC7D,sBAAgB,MAAM,EAAC,MAAM,GAAkB,EAC/C,sBAAgB,MAAM,EAAC,MAAM,GAAkB,CAC3C,CACF,CACF,EACN,YAAM,IAAI,EAAC,QAAQ,GAAE,EACpB,CAAC,CAAC,IAAI,CAAC,QAAQ;QACd,yBAAmB,SAAS,EAAC,QAAQ,IACnC,YAAM,IAAI,EAAC,OAAO,IAAE,IAAI,CAAC,YAAY,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAQ,EAC9F,YAAM,IAAI,EAAC,aAAa,QAAS,CACf;;UAEpB;YACE,WAAK,KAAK,EAAC,wBAAwB,IACjC,YAAM,KAAK,EAAC,sBAAsB,IAChC,YAAM,SAAS,EAAE,WAAW,GAAS,CAChC,EACP,UAAI,KAAK,EAAC,uBAAuB,IAC/B,WAAK,KAAK,EAAC,+BAA+B,IACxC,WAAK,KAAK,EAAC,uBAAuB,IAChC,gBAAM,gBAAO,IAAI,CAAC,WAAW,CAAQ,OAAS,CAC1C,EACN,gBAAO,IAAI,CAAC,WAAW,CAAQ,CAC3B,CACH,CACD;YACN,WAAK,KAAK,EAAE,0BAA0B,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE,EAAE,IAAI,IAAI,CAAC,YAAY,GAAG,EAAE,IAC1F,WAAK,KAAK,EAAC,gCAAgC,EAAC,GAAG,EAAE,EAAE,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE,IACzE,WAAK,KAAK,EAAC,2CAA2C,IACnD,IAAI,CAAC,sBAAsB,CACxB,EACN,WAAK,KAAK,EAAC,qCAAqC,EAAC,GAAG,EAAE,EAAE,IAAI,IAAI,CAAC,QAAQ,GAAG,EAAoB,IAC9F,YAAM,KAAK,EAAC,0BAA0B,EAAC,OAAO,EAAE,MAAM,IAAI,CAAC,aAAa,EAAE,EAAE,SAAS,EAAE,MAAM,GAAG,EAC/F,IAAI,CAAC,mBAAmB,IAAI,2CACX,IAAI,EACpB,IAAI,EAAC,WAAW,EAChB,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,EACzD,UAAU,EAAE,KAAK,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,EACzD,SAAS,EAAE,IAAI,CAAC,sBAAsB,EAAE,EACxC,SAAS,EAAE,MAAM,IAAI,CAAC,iBAAiB,EAAE,GAAG,CAE1C,EACN,WAAK,KAAK,EAAC,YAAY,IACpB,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC;cAChG,oBACE,EAAE,EAAC,gBAAgB,EACnB,IAAI,EAAE,KAAK,oBAEK,IAAI,EACpB,KAAK,EAAC,kBAAkB,EACxB,IAAI,EAAC,UAAU,IACf,WAAK,IAAI,EAAC,OAAO,IAEb,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;gBAChC,MAAA,IAAI,CAAC,IAAI,0CAAE,WAAW,CAAC,GAAG,CAAC,CAAC,IAAe,KACzC,WAAK,KAAK,EAAC,qCAAqC,EAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EACzD,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,EAAE,GAAG,CAChE,GAAG,EAAE,CAEN,CACO;gBACb,EAAE,CACF,EACN,WAAK,KAAK,EAAC,YAAY,IAErB,WAAK,KAAK,EAAC,mCAAmC,EAAC,GAAG,EAAE,EAAE,IAAI,IAAI,CAAC,UAAU,GAAG,EAAoB,IAC9F,cAAQ,EAAE,EAAC,qBAAqB,EAAC,IAAI,EAAC,qBAAqB,EACnD,KAAK,EAAC,iCAAiC,EAAC,QAAQ,EAAE,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,IACnF,yBAAiB,IAAI,EAAE,QAAQ,UAAE,IAAI,CAAC,iBAAiB,CAAU,EAE/D,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU;cAC/B,MAAA,IAAI,CAAC,IAAI,0CAAE,UAAU,CAAC,GAAG,CAAC,CAAC,GAAa,KACtC,yBAAiB,GAAG,CAAC,EAAE,EAAE,KAAK,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,IAAG,GAAG,CAAC,IAAI,CAAU,CAC3E,GAAG,EAAE,EAEV,yBAAgB,QAAQ,IAAE,IAAI,CAAC,cAAc,CAAU,CAChD,CACL,EAEN,WACE,KAAK,EAAE,IAAI,CAAC,YAAY,GAAG,uCAAuC,GAAG,sCAAsC,EAC3G,GAAG,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,cAAc,GAAG,EAAE,IACrC,aAAO,OAAO,EAAC,kBAAkB,EAAC,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,cAAc,CAAS,EACpF,WAAK,KAAK,EAAC,MAAM,IACf,gBAAU,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,EAC7D,GAAG,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,QAAQ,GAAG,EAAE,EAAE,IAAI,EAAC,kBAAkB,EAAC,EAAE,EAAC,kBAAkB,EAC9E,KAAK,EAAC,gBAAgB,GAAE,CAC9B,CACF,CACF,EAEN,WAAK,KAAK,EAAC,YAAY,IAErB,oBAAc,KAAK,EAAC,SAAS,EAAC,KAAK,EAAC,MAAM,EAAC,OAAO,EAAE,MAAM,IAAI,CAAC,SAAS,EAAE,IACxE,gBAAO,IAAI,CAAC,QAAQ,CAAQ,CACf,CACX,CAEF,EACN,WAAK,KAAK,EAAC,gCAAgC,EAAC,GAAG,EAAE,EAAE,IAAI,IAAI,CAAC,UAAU,GAAG,EAAE,IACzE,WACE,KAAK,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,oDAAoD,GAAG,mCAAmC,IAC7I,aAAO,OAAO,EAAC,aAAa,EAAC,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,eAAe,CAAS,EAChF,aAAO,IAAI,EAAC,MAAM,EACX,KAAK,EAAC,gBAAgB,EACtB,IAAI,EAAC,aAAa,EAClB,EAAE,EAAC,aAAa,EAChB,KAAK,EAAE,IAAI,CAAC,UAAU,EACtB,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAChD,WAAW,EAAC,EAAE,GACnB,EACD,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;cACxC,YAAM,KAAK,EAAC,qBAAqB,IAAE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAQ,GAAG,EAAE,CACxE,EACN,WACE,KAAK,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,oDAAoD,GAAG,mCAAmC,IAC/I,aAAO,OAAO,EAAC,eAAe,EAAC,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,sBAAsB,CAAS,EACzF,aAAO,IAAI,EAAC,MAAM,EACX,KAAK,EAAC,gBAAgB,EACtB,IAAI,EAAC,eAAe,EACpB,EAAE,EAAC,eAAe,EAClB,KAAK,EAAC,EAAE,EACR,OAAO,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAClD,WAAW,EAAC,EAAE,GACnB,EACD,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC;cAC1C,YAAM,KAAK,EAAC,qBAAqB,IAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAQ,GAAG,EAAE,CAC1E,EACN,WACE,KAAK,EAAE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,oDAAoD,GAAG,mCAAmC,IACjJ,aAAO,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,wBAAwB,CAAS,EACnE,uBAAiB,KAAK,EAAC,qBAAqB,EAAC,KAAK,EAAE,IAAI,CAAC,cAAc,EACtD,WAAW,EAAE,IAAI,CAAC,mBAAmB,EACrC,cAAc,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,sBAAsB,CAAC,CAAC,CAAC,GAAG,EACxE,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;cAC5C,YAAM,KAAK,EAAC,qBAAqB,IAAE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAQ,GAAG,EAAE,CAC5E,EACN,WAAK,KAAK,EAAC,sBAAsB,IAC/B,aAAO,KAAK,EAAC,wCAAwC,EAAC,OAAO,EAAC,UAAU,IACtE,aAAO,IAAI,EAAC,UAAU,EAAC,IAAI,EAAC,UAAU,EAAC,EAAE,EAAC,UAAU,EAAC,QAAQ,EAAE,MAAM,IAAI,CAAC,cAAc,EAAE,EACnF,KAAK,EAAC,YAAY,GAAE,EAC3B,YAAM,KAAK,EAAC,cAAc,SAAG,IAAI,CAAC,SAAS,MAAS,CAC9C,CAEJ,EACN,WAAK,KAAK,EAAE,IAAI,CAAC,kBAAkB,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,IAAI,CAAC,iBAAiB,GAAG,EAAE,IAC7E,aAAO,KAAK,EAAC,cAAc,IAAE,IAAI,CAAC,qBAAqB,CAAS,EAChE,6BAAuB,KAAK,EAAE,IAAI,CAAC,YAAY,EAAE,WAAW,EAAE,IAAI,CAAC,qBAAqB,sCACzC,aAAa,EACrC,QAAQ,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAEpD,EACxB,YAAM,KAAK,EAAC,yBAAyB,IAAE,IAAI,CAAC,8BAA8B,CAAQ,CAC9E,EACN,WAAK,KAAK,EAAC,gDAAgD,IACzD,SAAG,IAAI,EAAC,IAAI,EAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAEvE,oBAAc,OAAO,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE,EAAE,KAAK,EAAC,SAAS,EAAC,KAAK,EAAC,MAAM,IAC1E,gBAAO,IAAI,CAAC,QAAQ,CAAQ,CACf,CACX,CACF,CACF;WAAC,EAEX,YAAM,IAAI,EAAC,QAAQ,GAAE,CACT,CACV;KAEP,CAAA;GACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["SallaGifting"],"sources":["./src/components/salla-gifting/salla-gifting.scss?tag=salla-gifting","./src/components/salla-gifting/salla-gifting.tsx"],"sourcesContent":[".s-gifting-steps-wrapper {\n  transition: .2s cubic-bezier(.55, 0, .1, 1) 0s;\n}\n\n.s-gifting-select{\n  background-image: url(\"data:image/svg+xml;utf8,<svg version='1.1' fill='gray' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'><title>keyboard_arrow_down</title><path d='M9.875 11.104l6.125 6.125 6.125-6.125 1.875 1.875-8 8-8-8z'></path></svg>\");\n  background-size: 24px;\n  background-repeat: no-repeat;\n  background-position: 99%;\n  appearance: none;\n}\n// dir rtl\n[dir=rtl] .s-gifting-select{\n  background-position: 5px;\n}","import anime from 'animejs';\nimport {GiftResponse, GiftImage, GiftText} from './gift-schema'\nimport {Component, h, Prop, State, Method} from '@stencil/core';\nimport Images from '../../assets/svg/images.svg';\nimport LeftArrow from '../../assets/svg/arrow-left.svg';\nimport Cancel from '../../assets/svg/cancel.svg';\nimport GiftSharing from '../../assets/svg/gift-sharing.svg';\nimport {GiftToCardDTO, Phone} from './intefaces';\n\n@Component({\n  tag: 'salla-gifting',\n  styleUrl: 'salla-gifting.scss',\n})\nexport class SallaGifting {\n  constructor() {\n    salla.lang.onLoaded(() => {\n      this.selectImageOrUpload = salla.lang.get('blocks.buy_as_gift.select_image_or_upload');\n      this.selectImageForYourGift = salla.lang.get('blocks.buy_as_gift.select_image_for_your_gift');\n      this.sectionTitle = salla.lang.get('blocks.buy_as_gift.gift_the_one_you_love');\n      this.sectionSubtitle = salla.lang.get('blocks.buy_as_gift.gift_the_one_you_love_message')\n      this.sectionBtnText = salla.lang.get('blocks.buy_as_gift.send_as_a_gift');\n      this.giftDetails = salla.lang.get('blocks.buy_as_gift.gift_details');\n      this.selectGiftMessage = salla.lang.get('blocks.buy_as_gift.select_gift_message');\n      this.giftCustomText = salla.lang.get('blocks.buy_as_gift.gift_custom_text');\n      this.textId = salla.lang.get('blocks.buy_as_gift.text_id');\n      this.incorrectGiftText = salla.lang.get('blocks.buy_as_gift.incorrect_gift_text');\n      this.nextStep = salla.lang.get('blocks.buy_as_gift.next_step');\n      this.senderNameLabel = salla.lang.get('blocks.buy_as_gift.sender_name');\n      this.receiverNameFieldLabel = salla.lang.get('blocks.buy_as_gift.receiver_name');\n      this.receiverMobileFieldLabel = salla.lang.get('blocks.buy_as_gift.receiver_mobile');\n      this.receiverEmailFieldLabel = salla.lang.get('blocks.buy_as_gift.receiver_email');\n      this.emailPlaceholder = salla.lang.get('common.elements.email_placeholder');\n      this.sendLater = salla.lang.get('blocks.buy_as_gift.send_later');\n      this.selectSendDateAndTime = salla.lang.get('blocks.buy_as_gift.select_send_date_and_time');\n      this.canNotEditOrderAfterSelectDate = salla.lang.get('blocks.buy_as_gift.can_not_edit_order_after_select_date');\n      this.sendGift = salla.lang.get('blocks.buy_as_gift.send_gift');\n      this.donationRequired = salla.lang.get('pages.products.donation_amount_required');\n      this.currentLang = salla.lang.locale\n    });\n  }\n\n  private modal: HTMLSallaModalElement;\n  private uploader?: HTMLDivElement;\n  private stepsWrapper?: HTMLDivElement;\n  private textSelect?: HTMLDivElement;\n  private customTextArea?: HTMLDivElement;\n  private textArea?: HTMLTextAreaElement;\n  private calendarFormGroup?: HTMLDivElement;\n  private step1Elems?: HTMLDivElement;\n  private step2Elems?: HTMLDivElement;\n\n  @State() sectionTitle: string;\n  @State() sectionSubtitle: string;\n  @State() sectionBtnText: string;\n  @State() giftDetails: string;\n  @State() selectImageForYourGift: string = salla.lang.get('blocks.buy_as_gift.select_image_or_upload');\n  @State() selectImageOrUpload: string;\n  @State() selectGiftMessage: string;\n  @State() giftCustomText: string;\n  @State() textId: string;\n  @State() incorrectGiftText: string;\n  @State() nextStep: string;\n  @State() senderNameLabel: string;\n  @State() receiverNameFieldLabel: string;\n  @State() receiverMobileFieldLabel: string;\n  @State() receiverEmailFieldLabel: string;\n  @State() emailPlaceholder: string;\n  @State() sendLater: string;\n  @State() selectSendDateAndTime: string;\n  @State() canNotEditOrderAfterSelectDate: string;\n  @State() sendGift: string;\n  @State() donationRequired: string;\n  @State() currentStep: number = 1;\n  @State() showCalendar: boolean = false;\n  @State() showGiftText: boolean = false;\n  @State() currentLang: string = '';\n  @State() parentClass: string = \"is-current-step-1\";\n  @State() errors: object = {};\n\n  @State() gift: GiftResponse = undefined;\n  @State() selectedGiftTextOption: string = undefined;\n\n  @State() showTextArea: boolean = false;\n\n  /// Gift Form Data\n  @State() selectedImage: string = undefined;\n  @State() uploadedImage: string = undefined;\n  @State() selectedText: string = undefined;\n  @State() senderName: string;\n  @State() errorMessage: string;\n  @State() hasError: boolean = false;\n  @State() quantity: number;\n  @State() deliveryDate: string;\n  @State() timeZone?: string = null;\n  // Receiver Data\n  @State() receiverName: string;\n  @State() receiverMobile: string;\n  @State() receiverCountryCode: string;\n  @State() receiverEmail: string;\n\n\n  /**\n   * The product id for which the gifting system is required.\n   */\n  @Prop() productId: number;\n\n  /**\n   * Widget subtitle\n   */\n  @Prop() widgetSubtitle: string;\n\n  componentDidLoad() {\n    salla.event.product.onPriceUpdated(() => {\n      const quantityInput = document.querySelector('.s-quantity-input-input') as HTMLElement\n      // @ts-ignore\n      this.quantity = quantityInput?.value\n    });\n  }\n\n  /**\n   * Show / Open the gifting modal window\n   */\n  @Method()\n  async open() {\n    if (salla.config.isGuest()) {\n      salla.event.dispatch('login::open');\n      return;\n    }\n    this.modal.open()\n    return await salla.api.withoutNotifier(() => salla.product.getGiftDetails(this.productId))\n      .then((response) => {\n        this.gift = response.data;\n        this.senderName = this.gift.sender_name;\n      })\n      .catch(e => {\n        this.hasError = true;\n        this.errorMessage = e.response?.data?.error?.message || e.response?.data;\n      })\n      .finally(() => {\n        this.modal.stopLoading()\n      });\n  }\n\n  /**\n   *\n   * Hide / close the gifting modal window\n   */\n  @Method()\n  async close() {\n    return this.modal.close();\n  }\n\n\n  /**\n   * Update the modal height based on the changes on the inner elements height for a specific step OR just a pass a new fixed height\n   */\n  private async setWrapperHeight(asStep = 1, delay = 250, additionSpace = 0, newHeight = 0) {\n    let currentStep: HTMLElement = document.querySelector(`.gift-step-${asStep}`) as HTMLElement;\n    setTimeout(() => {\n      let currentStepHeight: number = currentStep.offsetHeight;\n      if (newHeight) {\n        this.stepsWrapper.style.height = `${newHeight}px`;\n      } else {\n        this.stepsWrapper.style.height = currentStepHeight + additionSpace + 'px';\n      }\n    }, delay)\n  }\n\n  private toggleCalendar() {\n    this.showCalendar = !this.showCalendar;\n    this.setWrapperHeight(2, 150, 0);\n  }\n\n  private toggleGiftText(event) {\n    this.textSelect?.classList.remove('s-form-has-error');\n    let dataID = event.target.children[event.target.selectedIndex].getAttribute('data-id')\n    let customID = dataID == \"custom\";\n    this.showGiftText = customID;\n\n    if (dataID) {\n      this.selectedGiftTextOption = dataID\n      customID ? this.selectedText = undefined : this.selectedText = event.target.value\n      this.setWrapperHeight(1, 150, 5);\n    } else {\n      // empty textarea value\n      this.textArea.value = '';\n      this.selectedText = undefined\n      this.selectedGiftTextOption = undefined\n      this.setWrapperHeight(1, 150, -15);\n    }\n\n  }\n\n  /**\n   *\n   * Go to the step 2\n   */\n  @Method()\n  async goToStep2() {\n    if (!this.selectedGiftTextOption) {\n      this.textSelect.classList.add('s-form-has-error');\n      this.customTextArea.classList.remove('s-form-has-error');\n      return;\n    } else if (this.selectedGiftTextOption == 'custom' && !this.selectedText) {\n      this.textSelect.classList.remove('s-form-has-error');\n      this.customTextArea.classList.add('s-form-has-error');\n      return;\n    } else {\n      this.textSelect.classList.remove('s-form-has-error');\n      this.customTextArea.classList.remove('s-form-has-error');\n    }\n    this.setWrapperHeight(2, 600, 0);\n\n    let stepNextAnime = new anime.timeline();\n    stepNextAnime.add({\n      targets: this.step1Elems.querySelectorAll('.anime-item'),\n      opacity: [1, 0],\n      translateX: [0, 50],\n      delay: anime.stagger(70),\n      // easing: 'easeOutExpo',\n      duration: 1200,\n    })\n      .add({\n        targets: '.gift-step-2',\n        translateX: ['-110%', 0],\n        opacity: [0, 1],\n      }, '-=1800')\n      .add({\n        targets: this.step2Elems.querySelectorAll('.anime-item'),\n        opacity: [0, 1],\n        translateX: [-50, 0],\n        delay: anime.stagger(70),\n        duration: 1200,\n        complete: () => {\n          this.step2Elems.querySelectorAll('.anime-item').forEach(item => {\n            item.classList.remove('opacity-0')\n            item.removeAttribute('style');\n          })\n        }\n      }, '-=1200')\n    this.currentStep = 2;\n    this.parentClass = `is-current-step-${this.currentStep}`\n  }\n\n  /**\n   *\n   * Go to the step 1\n   */\n  goToStep1(e) {\n    e.preventDefault();\n    let stepBackAnime = new anime.timeline({\n      autoplay: false,\n    });\n\n    stepBackAnime.add({\n      targets: this.step2Elems.querySelectorAll('.anime-item'),\n      opacity: [1, 0],\n      translateX: [0, -50],\n      delay: anime.stagger(70),\n      // easing: 'easeOutExpo',\n      duration: 1200,\n    })\n      .add({\n        targets: '.gift-step-1',\n        translateX: ['110%', 0],\n        opacity: [0, 1],\n      }, '-=1800')\n      .add({\n        targets: this.step1Elems.querySelectorAll('.anime-item'),\n        opacity: [0, 1],\n        translateX: [50, 0],\n        delay: anime.stagger(70),\n        duration: 1200,\n        complete: () => {\n          this.step1Elems.querySelectorAll('.anime-item').forEach(item => {\n            item.classList.remove('opacity-0')\n            item.removeAttribute('style');\n          })\n        }\n      }, '-=1200')\n\n    stepBackAnime.play();\n    this.setWrapperHeight(1, 600, 0);\n    this.currentStep = 1;\n    this.parentClass = `is-current-step-${this.currentStep}`\n  }\n\n  private getFilepondPlaceholder() {\n    return `<div class=\"s-gifting-filepond-placeholder\"><span class=\"s-gifting-filepond-placeholder-icon\">${Images}</span><p class=\"s-gifting-filepond-placeholder-text\">${this.selectImageOrUpload ? this.selectImageOrUpload : ''}</p></div>`\n  }\n\n  setPreview(image: GiftImage) {\n    this.uploader?.classList.add('has-bg')\n    var bg = document.querySelector('.filepond-bg') ? document.querySelector('.filepond-bg') as HTMLElement : document.createElement('div') as HTMLElement;\n    bg.classList.add('filepond-bg')\n    bg.classList.remove('s-hidden')\n    bg.style.backgroundImage = \"url('\" + image.url + \"')\"\n    this.uploader?.querySelector('.filepond--root').appendChild(bg);\n    this.uploadedImage = image.url;\n    if (!!this.gift && this.gift.gift_images.length) {\n      this.setWrapperHeight(1, 150, 0);\n    }\n  }\n\n  removePreview() {\n    this.uploader.classList.remove('has-bg');\n    let bg = document.querySelector('.filepond-bg') as HTMLElement;\n    bg.removeAttribute('style');\n    bg.classList.add('s-hidden');\n    this.handleRemoveImage()\n  }\n\n  private handleTextAreaChange(event) {\n    this.selectedText = event.target.value;\n    this.customTextArea.classList.remove('s-form-has-error');\n  }\n\n  private handleSenderName(event) {\n    this.senderName = event.target.value;\n  }\n\n  private handleReceiverName(event) {\n    this.receiverName = event.target.value;\n  }\n\n  private handleUploadImage(img) {\n    this.uploadedImage = img;\n    if (!!this.gift && this.gift.gift_images.length) {\n      this.setWrapperHeight(1, 150, 0);\n    }\n  }\n\n  private handleRemoveImage() {\n    this.uploadedImage = '';\n    if (!!this.gift && this.gift.gift_images.length) {\n      this.setWrapperHeight(1, 150, 0);\n    }\n  }\n\n  // private handleReceiverEmail(event) {\n  //   this.receiverEmail = event.target.value;\n  // }\n\n  private handlePhoneInputChange(event) {\n    let phone: Phone = event.detail;\n    this.receiverMobile = phone.number;\n    this.receiverCountryCode = phone.country_code;\n  }\n\n  private handleDateTimePicker(event) {\n    this.deliveryDate = event.detail;\n  }\n\n  private getCalendarClasses() {\n    return {\n      \"s-form-group\": true,\n      \"anime-item\": true,\n      \"s-gifting-calendar\": true,\n      \"shown\": this.showCalendar,\n      \"hide\": !this.showCalendar,\n      \"s-form-has-error\": !!this.errors && this.errors['deliver_at']\n    }\n  }\n\n  private async submitForm() {\n    // @ts-ignore\n    const donatingAmount = document.querySelector('#donating-amount')?.value\n    this.calendarFormGroup.classList.remove('s-form-has-error');\n    if (!!this.errors) {\n      this.errors = {}\n      this.setWrapperHeight(2, 150, 0);\n    }\n    if (this.showCalendar && !this.deliveryDate) {\n      this.calendarFormGroup.classList.add('s-form-has-error');\n      return;\n    }\n    let payload: GiftToCardDTO = {\n      text: this.selectedText,\n      sender_name: this.senderName,\n      quantity: this.quantity,\n      deliver_at: this.showCalendar ? this.deliveryDate : null,\n      image_url: this.uploadedImage ?? this.selectedImage,\n      donation_amount: donatingAmount ? donatingAmount : null,\n      receiver: {\n        name: this.receiverName,\n        country_code: this.receiverCountryCode,\n        mobile: this.receiverMobile\n      }\n    }\n    return await salla.product.addGiftToCart(this.productId, payload, true).then((resp) => {\n      console.log(resp);\n      this.modal.close()\n    }).catch((e) => {\n      if (e.response.status == 422) {\n        this.errors = e.response.data.error.fields\n      } else {\n        console.log(e);\n      }\n      this.setWrapperHeight(2, 150, 0);\n    })\n  }\n\n  render() {\n    return [\n      <div>\n        <salla-list-tile class=\"s-gifting-widget\">\n          <div slot=\"title\">\n            <h3>{this.sectionTitle}</h3>\n          </div>\n          <div slot=\"subtitle\">\n            <div>{!!this.widgetSubtitle ? this.widgetSubtitle : this.sectionSubtitle}</div>\n          </div>\n          <div slot=\"action\">\n            <salla-button class=\"s-gifting-widget-action\" color=\"gray\" onClick={() => this.open()}>\n              <span innerHTML={GiftSharing}></span> &nbsp;\n              <span>{this.sectionBtnText}</span>\n            </salla-button>\n          </div>\n        </salla-list-tile>\n\n        <salla-modal id='salla-gifting-modal' isLoading={true} class=\"s-gifting-modal\" width=\"sm\"\n                     ref={modal => this.modal = modal}>\n          <div slot=\"loading\">\n            <div class=\"s-gifting-skeleton\">\n              <div class=\"s-gifting-modal-header\">\n                <salla-skeleton type='circle' height='5rem' width='5rem'></salla-skeleton>\n                <h2 class=\"s-gifting-modal-title\">\n                  <div class=\"s-gifting-modal-badge-wrapper\">\n                    <salla-skeleton height='15px' width='150px'></salla-skeleton>\n                  </div>\n                </h2>\n              </div>\n              <div class=\"s-gifting-skeleton-content\">\n                <salla-skeleton height='10px' width='150px'></salla-skeleton>\n                <salla-skeleton height='230px'></salla-skeleton>\n                <salla-skeleton height='10px' width='150px'></salla-skeleton>\n                <salla-skeleton height='30px'></salla-skeleton>\n                <salla-skeleton height='40px'></salla-skeleton>\n              </div>\n            </div>\n          </div>\n          <slot name=\"header\"/>\n          {!!this.hasError ?\n            <salla-placeholder alignment=\"center\">\n              <span slot=\"title\">{this.errorMessage || salla.lang.get('common.errors.empty_results')}</span>\n              <span slot=\"description\"> </span>\n            </salla-placeholder>\n            :\n            [\n              <div class=\"s-gifting-modal-header\">\n                <span class=\"s-gifting-modal-icon\">\n                  <span innerHTML={GiftSharing}></span>\n                </span>\n                <h2 class=\"s-gifting-modal-title\">\n                  <div class=\"s-gifting-modal-badge-wrapper\">\n                    <div class=\"s-gifting-modal-badge\">\n                      <span><span>{this.currentStep}</span>/2</span>\n                    </div>\n                    <span>{this.giftDetails}</span>\n                  </div>\n                </h2>\n              </div>,\n              <div class={\"s-gifting-steps-wrapper \" + this.parentClass} ref={el => this.stepsWrapper = el}>\n                <div class=\"s-gifting-step-one gift-step-1\" ref={el => this.step1Elems = el}>\n                  <div class=\"s-gifting-modal-uploader-title anime-item\">\n                    {this.selectImageForYourGift}\n                  </div>\n                  <div class=\"s-gifting-modal-uploader anime-item\" ref={el => this.uploader = el as HTMLDivElement}>\n                    <span class=\"s-gifting-remove-preview\" onClick={() => this.removePreview()} innerHTML={Cancel}/>\n                    {this.selectImageOrUpload && <salla-file-upload\n                      instant-upload={true}\n                      name=\"image_url\"\n                      url={salla.url.api(salla.product.api.getUrl('giftImage'))}\n                      onUploaded={event => this.handleUploadImage(event.detail)}\n                      labelIdle={this.getFilepondPlaceholder()}\n                      onRemoved={() => this.handleRemoveImage()}/>}\n\n                  </div>\n                  <div class=\"anime-item\">\n                    {!this.uploadedImage && !!this.gift && !!this.gift.gift_images && this.gift.gift_images.length > 0 ?\n                      <salla-slider\n                        id=\"gifting-slider\"\n                        loop={false}\n                        //todo:: it looks bad attribute\n                        controls-outer={true}\n                        class=\"s-gifting-slider\"\n                        type=\"carousel\">\n                        <div slot=\"items\">\n                          {\n                            this.gift && this.gift.gift_images ?\n                              this.gift?.gift_images.map((item: GiftImage) =>\n                                <img class=\"s-gifting-image s-gifting-clickable\" src={item.url}\n                                     onClick={() => this.setPreview(item)} alt={`${item.id}`}/>\n                              ) : ''\n                          }\n                        </div>\n                      </salla-slider>\n                      : \"\"}\n                  </div>\n                  <div class=\"anime-item\">\n\n                    <div class=\"s-form-group s-gifting-selectText\" ref={el => this.textSelect = el as HTMLDivElement}>\n                      <select id=\"gift-text-selection\" name=\"gift-text-selection\"\n                              class=\"s-form-control s-gifting-select\" onChange={e => this.toggleGiftText(e)}>\n                        <option data-id={null} selected>{this.selectGiftMessage}</option>\n                        {\n                          this.gift && this.gift.gift_texts ?\n                            this.gift?.gift_texts.map((txt: GiftText) =>\n                              <option data-id={txt.id} value={txt.text} key={txt.id}>{txt.text}</option>\n                            ) : ''\n                        }\n                        <option data-id=\"custom\">{this.giftCustomText}</option>\n                      </select>\n                    </div>\n\n                    <div\n                      class={this.showGiftText ? \"s-form-group s-gifting-textarea shown\" : \"s-form-group s-gifting-textarea hide\"}\n                      ref={(el) => this.customTextArea = el}>\n                      <label htmlFor=\"gift-custom-text\" class=\"s-form-label\">{this.giftCustomText}</label>\n                      <div class=\"mt-1\">\n                        <textarea onInput={(event) => this.handleTextAreaChange(event)} rows={4}\n                                  ref={(el) => this.textArea = el} name=\"gift-custom-text\" id=\"gift-custom-text\"\n                                  class=\"s-form-control\"/>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"anime-item\">\n\n                    <salla-button color=\"primary\" width=\"wide\" onClick={() => this.goToStep2()}>\n                      <span>{this.nextStep}</span>\n                    </salla-button>\n                  </div>\n\n                </div>\n                <div class=\"s-gifting-step-two gift-step-2\" ref={el => this.step2Elems = el}>\n                  <div\n                    class={this.errors && this.errors['sender_name'] ? \"s-form-group s-form-has-error anime-item opacity-0\" : \"s-form-group anime-item opacity-0\"}>\n                    <label htmlFor=\"sender_name\" class=\"s-form-label\">{this.senderNameLabel}</label>\n                    <input type=\"text\"\n                           class=\"s-form-control\"\n                           name=\"sender_name\"\n                           id=\"sender_name\"\n                           value={this.senderName}\n                           onInput={(event) => this.handleSenderName(event)}\n                           placeholder=\"\"\n                    />\n                    {this.errors && this.errors['sender_name'] ?\n                      <span class=\"text-danger text-xs\">{this.errors['sender_name']}</span> : ''}\n                  </div>\n                  <div\n                    class={this.errors && this.errors['receiver.name'] ? \"s-form-group s-form-has-error anime-item opacity-0\" : \"s-form-group anime-item opacity-0\"}>\n                    <label htmlFor=\"receiver_name\" class=\"s-form-label\">{this.receiverNameFieldLabel}</label>\n                    <input type=\"text\"\n                           class=\"s-form-control\"\n                           name=\"receiver_name\"\n                           id=\"receiver_name\"\n                           value=\"\"\n                           onInput={(event) => this.handleReceiverName(event)}\n                           placeholder=\"\"\n                    />\n                    {this.errors && this.errors['receiver.name'] ?\n                      <span class=\"text-danger text-xs\">{this.errors['receiver.name']}</span> : ''}\n                  </div>\n                  <div\n                    class={this.errors && this.errors['receiver.mobile'] ? \"s-form-group s-form-has-error anime-item opacity-0\" : \"s-form-group anime-item opacity-0\"}>\n                    <label class=\"s-form-label\">{this.receiverMobileFieldLabel}</label>\n                    <salla-tel-input class=\"s-gifting-tel-input\" phone={this.receiverMobile}\n                                     countryCode={this.receiverCountryCode}\n                                     onPhoneEntered={(e) => this.handlePhoneInputChange(e)}/>\n                    {this.errors && this.errors['receiver.mobile'] ?\n                      <span class=\"text-danger text-xs\">{this.errors['receiver.mobile']}</span> : ''}\n                  </div>\n                  <div class=\"anime-item opacity-0\">\n                    <label class=\"s-gifting-schedule s-gifting-clickable\" htmlFor=\"schedule\">\n                      <input type=\"checkbox\" name='schedule' id='schedule' onChange={() => this.toggleCalendar()}\n                             class=\"s-checkbox\"/>\n                      <span class=\"s-form-label\"> {this.sendLater} </span>\n                    </label>\n\n                  </div>\n                  <div class={this.getCalendarClasses()} ref={(el) => this.calendarFormGroup = el}>\n                    <label class=\"s-form-label\">{this.selectSendDateAndTime}</label>\n                    <salla-datetime-picker value={this.deliveryDate} placeholder={this.selectSendDateAndTime}\n                                           enable-time date-format=\"Y-m-d h:i K\"\n                                           onPicked={(event) => this.handleDateTimePicker(event)}\n                    >\n                    </salla-datetime-picker>\n                    <span class=\"s-gifting-calendar-hint\">{this.canNotEditOrderAfterSelectDate}</span>\n                  </div>\n                  <div class=\"s-gifting-step-two-footer anime-item opacity-0\">\n                    <a href=\"#!\" innerHTML={LeftArrow} onClick={(e) => this.goToStep1(e)}/>\n\n                    <salla-button onClick={() => this.submitForm()} color=\"primary\" width='wide'>\n                      <span>{this.sendGift}</span>\n                    </salla-button>\n                  </div>\n                </div>\n              </div>]\n          }\n          <slot name=\"footer\"/>\n        </salla-modal>\n      </div>\n\n    ]\n  }\n\n}\n"],"version":3}