var __awaiter=this&&this.__awaiter||function(e,t,i,n){function a(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n["throw"](e))}catch(e){r(e)}}function l(e){e.done?i(e.value):a(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,a,r,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,s[0]&&(i=0)),i)try{if(n=1,a&&(r=s[0]&2?a["return"]:s[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,s[1])).done)return r;if(a=0,r)s=[s[0]&2,r.value];switch(s[0]){case 0:case 1:r=s;break;case 4:i.label++;return{value:s[1],done:false};case 5:i.label++;a=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(r=i.trys,r=r.length>0&&r[r.length-1])&&(s[0]===6||s[0]===2)){i=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(s[0]===6&&i.label<r[1]){i.label=r[1];r=s;break}if(r&&i.label<r[2]){i.label=r[2];i.ops.push(s);break}if(r[2])i.ops.pop();i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e];a=0}finally{n=r=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};var __spreadArray=this&&this.__spreadArray||function(e,t,i){if(i||arguments.length===2)for(var n=0,a=t.length,r;n<a;n++){if(r||!(n in t)){if(!r)r=Array.prototype.slice.call(t,0,n);r[n]=t[n]}}return e.concat(r||Array.prototype.slice.call(t))};
/*!
 * Crafted with ❤ by Salla
 */import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-957caa0e.js";import{a as anime}from"./anime.es-f7ad0bd3.js";import{a as createCommonjsModule,c as commonjsGlobal,g as getDefaultExportFromCjs}from"./_commonjsHelpers-1415ffd3.js";import{H as Helper}from"./Helper-30bbdc37.js";import{C as CameraIcon}from"./camera-647ab50f.js";var PendingOrdersIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 30 32">\n<title>cart</title>\n<path d="M15.426 28.084c0-1.412-0.85-2.684-2.156-3.226-1.305-0.54-2.807-0.241-3.805 0.758-0.999 0.998-1.298 2.5-0.758 3.805 0.54 1.303 1.815 2.155 3.226 2.155 1.928-0.003 3.49-1.564 3.492-3.492h0.001zM10.597 28.084h0.001c0-0.54 0.326-1.027 0.825-1.235 0.498-0.206 1.074-0.091 1.455 0.29 0.383 0.382 0.497 0.957 0.29 1.456-0.208 0.5-0.695 0.825-1.235 0.825-0.355 0-0.695-0.142-0.944-0.391-0.251-0.251-0.392-0.591-0.392-0.946h-0.001l0.001 0.001zM28.23 28.084c0-1.412-0.85-2.684-2.155-3.226-1.305-0.54-2.807-0.241-3.806 0.758s-1.297 2.5-0.756 3.805c0.54 1.303 1.813 2.155 3.226 2.155 1.927-0.003 3.49-1.564 3.491-3.492zM23.401 28.084c0-0.54 0.326-1.027 0.825-1.235 0.5-0.206 1.075-0.091 1.457 0.29s0.497 0.957 0.289 1.456c-0.206 0.5-0.693 0.825-1.233 0.825-0.738 0-1.337-0.599-1.337-1.337l-0.001 0.001zM1.953 0.234l-0.342-0.059c-0.29-0.064-0.594-0.004-0.839 0.166-0.247 0.169-0.414 0.436-0.463 0.734-0.050 0.3 0.023 0.607 0.201 0.85s0.444 0.402 0.738 0.44l0.341 0.059c1.825 0.324 3.248 1.794 3.548 3.662l1.981 12.369h-0.001c0.218 1.387 0.913 2.651 1.96 3.563s2.379 1.412 3.754 1.41h14.242c0.601 0 1.088-0.498 1.088-1.112s-0.487-1.112-1.088-1.112h-14.242c-1.679-0.001-3.139-1.183-3.525-2.854h11.463c1.614 0.004 3.188-0.518 4.493-1.49 1.305-0.973 2.271-2.346 2.762-3.918l1.298-4.136c0.145-0.455 0.065-0.953-0.213-1.336-0.278-0.385-0.72-0.608-1.187-0.602h-20.467l-0.181-1.141c-0.218-1.367-0.849-2.631-1.802-3.615-0.954-0.983-2.184-1.64-3.518-1.878h-0.001zM26.946 9.096l-0.993 3.169v-0.001c-0.353 1.122-1.044 2.101-1.975 2.796s-2.056 1.067-3.208 1.067h-11.833l-1.125-7.042 19.134 0.011z"></path>\n</svg>\n';var sallaAddProductButtonCss=":host{display:block}salla-add-product-button[width=wide]{width:100%}";var SallaAddProductButton=function(){function e(e){var t=this;registerInstance(this,e);this.success=createEvent(this,"success",7);this.failed=createEvent(this,"failed",7);this.hostAttributes={};this.channels=undefined;this.subscribedOptions=undefined;this.quickBuy=undefined;this.quantity=undefined;this.donatingAmount=undefined;this.notifyOptionsAvailability=undefined;this.productId=undefined;this.supportStickyBar=undefined;this.productStatus="sale";this.productType="product";this.hasOutOfStockOption=undefined;this.hasSubscribedOptions=undefined;this.selectedOptions=[];this.showQuickBuy=undefined;salla.onReady((function(){t.showQuickBuy=t.quickBuy&&!!salla.config.get("store.settings.buy_now")}))}e.prototype.getLabel=function(){if(this.productStatus==="sale"&&this.supportStickyBar&&window.innerWidth<=768&&this.showQuickBuy){return PendingOrdersIcon}if(this.productStatus==="sale"&&this.productType==="booking"){return salla.lang.get("pages.cart.book_now")}if(this.productStatus==="sale"){return salla.lang.get("pages.cart.add_to_cart")}if(this.productType!=="donating"){return salla.lang.get("pages.products.out_of_stock")}return salla.lang.get("pages.products.donation_exceed")};e.prototype.addProductToCart=function(e){var t=this;if(this.productType==="booking"){e.preventDefault();return this.addBookingProduct()}if(this.hostAttributes.type==="submit"){return false}e.preventDefault();var i=Object.entries({id:this.productId,donation_amount:this.donatingAmount,quantity:this.quantity,endpoint:"quickAdd"}).reduce((function(e,t){var i=t[0],n=t[1];return n?(e[i]=n,e):e}),{});return salla.cart.addItem(i).then((function(e){t.selectedOptions=[];t.success.emit(e)})).catch((function(e){return t.failed.emit(e)}))};e.prototype.addBookingProduct=function(){var e=this;if(salla.config.isGuest()){salla.auth.api.setAfterLoginEvent("booking::add",this.productId);salla.event.dispatch("login::open");return}return salla.booking.add(this.productId).then((function(t){return e.success.emit(t)})).catch((function(t){return e.failed.emit(t)}))};e.prototype.getBtnAttributes=function(){for(var e=0;e<this.host.attributes.length;e++){if(!["id","class"].includes(this.host.attributes[e].name)){this.hostAttributes[this.host.attributes[e].name]=this.host.attributes[e].value}}return this.hostAttributes};e.prototype.getQuickBuyBtnAttributes=function(){return Object.assign(Object.assign({},this.getBtnAttributes()),{type:this.supportStickyBar&&window.innerWidth<=768?"plain":this.productType=="donating"?"donate":"buy"})};e.prototype.componentWillLoad=function(){var e=this;var t;this.passedLabel=this.host.innerHTML.replace("\x3c!----\x3e","").trim();if(!!this.passedLabel&&window.innerWidth>=768){(t=this.btn)===null||t===void 0?void 0:t.setText(this.passedLabel);return}if(this.host.hasAttribute("type")&&this.host.getAttribute("type")==="submit"&&this.supportStickyBar){window.addEventListener("resize",(function(){var t,i;if(window.innerWidth>=768&&!!e.passedLabel){(t=e.btn)===null||t===void 0?void 0:t.setText(e.passedLabel)}else{(i=e.btn)===null||i===void 0?void 0:i.setText(e.getLabel())}}))}};e.prototype.render=function(){var e=this;var t;if((t=this.host.closest(".swiper-slide"))===null||t===void 0?void 0:t.classList.contains("swiper-slide-duplicate")){return""}if(this.hasSubscribedOptions){return h(Host,null,h("salla-product-availability",Object.assign({},this.getBtnAttributes(),{"is-subscribed":true}),h("span",{class:"s-hidden"},h("slot",null))))}if(this.productStatus==="out-and-notify"&&this.channels||this.hasOutOfStockOption){return h(Host,null,h("salla-product-availability",Object.assign({},this.getBtnAttributes()),h("span",{class:"s-hidden"},h("slot",null))))}return h(Host,{class:{"s-add-product-button-with-quick-buy":this.showQuickBuy,"s-add-product-button-with-sticky-bar":this.supportStickyBar}},h("salla-button",Object.assign({color:this.productStatus==="sale"?"primary":"light",type:"button",fill:this.productStatus==="sale"?"solid":"outline",ref:function(t){return e.btn=t},onClick:function(t){return e.addProductToCart(t)},disabled:this.productStatus!=="sale"},this.getBtnAttributes(),{"loader-position":"center"}),h("slot",null)),this.showQuickBuy?h("salla-quick-buy",Object.assign({},this.getQuickBuyBtnAttributes())):"")};e.prototype.componentDidLoad=function(){var e=this;if(!this.notifyOptionsAvailability){return}salla.event.on("product-options::change",(function(t){return __awaiter(e,void 0,void 0,(function(){var e,i,n,a,r,o;var s=this;return __generator(this,(function(l){switch(l.label){case 0:if(!["thumbnail","color","single-option"].includes(t.option.type)){return[2]}this.hasSubscribedOptions=false;n=this;return[4,(e=document.querySelector('salla-product-options[product-id="'.concat(this.productId,'"]')))===null||e===void 0?void 0:e.getSelectedOptions()];case 1:n.selectedOptions=l.sent();a=this;return[4,(i=document.querySelector('salla-product-options[product-id="'.concat(this.productId,'"]')))===null||i===void 0?void 0:i.hasOutOfStockOption()];case 2:a.hasOutOfStockOption=l.sent();r=salla.storage.get("product-".concat(this.productId,"-subscribed-options"));if(!r&&!this.subscribedOptions||!this.hasOutOfStockOption){return[2]}if(salla.config.isGuest()){o=r?r.map((function(e){return e.split(",").map((function(e){return parseInt(e)}))})):[];this.hasSubscribedOptions=o.length>0&&o.some((function(e){return e.every((function(e){return s.selectedOptions.some((function(t){return t.id===e}))}))}))}else{this.hasSubscribedOptions=this.subscribedOptions&&this.subscribedOptions!=="null"&&this.subscribedOptions!=="[]"?JSON.parse(this.subscribedOptions).some((function(e){return e.every((function(e){return s.selectedOptions.some((function(t){return t.id===e}))}))})):false}return[2]}}))}))}))};e.prototype.componentDidRender=function(){var e=this;var t,i;if(!!this.passedLabel&&(!this.supportStickyBar||window.innerWidth>=768)){(t=this.btn)===null||t===void 0?void 0:t.setText(this.passedLabel);return}(i=this.btn)===null||i===void 0?void 0:i.setText(this.getLabel());salla.lang.onLoaded((function(){var t;return(t=e.btn)===null||t===void 0?void 0:t.setText(e.getLabel())}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaAddProductButton.style=sallaAddProductButtonCss;var sallaButtonCss="";var SallaButton=function(){function e(e){registerInstance(this,e);this.hostAttributes={};this.shape="btn";this.color="primary";this.fill="solid";this.size="medium";this.width="normal";this.loading=false;this.disabled=false;this.loaderPosition="after";this.href=undefined}e.prototype.load=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.loaderPosition=="center")this.text.classList.add("s-button-hide");this.host.setAttribute("loading","");return[2,this.host]}))}))};e.prototype.stop=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.host.removeAttribute("loading");this.host.querySelector("button").removeAttribute("loading");if(this.loaderPosition=="center")this.text.classList.remove("s-button-hide");return[2,this.host]}))}))};e.prototype.setText=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.text.innerHTML=e;return[2,this.host]}))}))};e.prototype.disable=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.host.setAttribute("disabled","");return[2,this.host]}))}))};e.prototype.enable=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.host.removeAttribute("disabled");return[2,this.host]}))}))};e.prototype.getBtnAttributes=function(){for(var e=0;e<this.host.attributes.length;e++){if(!["color","fill","size","width","id"].includes(this.host.attributes[e].name)){this.hostAttributes[this.host.attributes[e].name]=this.host.attributes[e].value}}this.hostAttributes.type=this.hostAttributes.type||"button";this.hostAttributes.class+=" s-button-element s-button-"+this.shape+" s-button-"+(this.fill=="none"?"fill-none":this.fill)+(this.size!="medium"?" s-button-"+this.size:"")+(this.width!="normal"?" s-button-"+this.width:"")+(this.shape=="link"?" s-button-"+this.color+"-link":"")+(this.shape!="link"&&this.fill!="outline"?" s-button-"+this.color:"")+(this.fill=="outline"?" s-button-"+this.color+"-outline":"")+(this.disabled?" s-button-disabled ":"")+(this.shape=="icon"?" s-button-loader-center":" s-button-loader-"+this.loaderPosition);return this.hostAttributes};e.prototype.button=function(){var e=this;return h("button",Object.assign({},this.getBtnAttributes(),{disabled:this.disabled}),h("span",{class:"s-button-text",ref:function(t){return e.text=t}},h("slot",null)),this.loading?h("span",{class:"s-button-loader"}):"")};e.prototype.render=function(){var e;return((e=this.host.closest(".swiper-slide"))===null||e===void 0?void 0:e.classList.contains("swiper-slide-duplicate"))?"":h(Host,{class:"s-button-wrap"},this.href?h("a",{href:this.href},this.button()):this.button())};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaButton.style=sallaButtonCss;var sallaCartSummaryCss="";var SallaCartSummary=function(){function e(e){var t=this;registerInstance(this,e);this.cartSummaryCount=salla.storage.get("cart.summary.count")||0;this.cartSummaryTotal=salla.storage.get("cart.summary.total")||0;this.cartLabel=salla.config.get("user.language_code")==="ar"?"السلة":"Cart";this.showCartLabel=undefined;salla.cart.event.onUpdated((function(e){t.cartSummaryCount=e.count||0;t.cartSummaryTotal=e.total||0}))}e.prototype.animateToCart=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i,n,a,r,o,s,l,c,u,d,p;return __generator(this,(function(f){document.querySelectorAll(".s-cart-thumb").forEach((function(e){return e.remove()}));if(!(e===null||e===void 0?void 0:e.src)){salla.log("Failed to get the img element");return[2]}t=this.host.querySelector("#s-cart-icon"),i=t.getBoundingClientRect(),n=i.top+window.scrollY,a=i.left+window.scrollX;r=e.getBoundingClientRect(),o=e.offsetWidth+"px",s=e.offsetHeight+"px",l=r.top,c=r.left;u=document.createElement("img");u.src=e.getAttribute("src");u.className="s-cart-thumb";u.setAttribute("style","object-fit:cover; width:"+o+"; height:"+s+"; top:"+l+"px; left:"+c+"px;z-index:99999999; ");document.body.append(u);d=document.querySelector(".s-cart-thumb");t.classList.remove("animated","rubberBand");p=new anime.timeline;p.add({targets:d,width:[150,30],height:[150,30],top:[l,window.scrollY>0?n-window.scrollY-40:n-40],left:[c,a],borderRadius:["20%","50%"],easing:"easeOutExpo",duration:1200},"+=200").add({targets:d,width:[30,0],height:[30,0],opacity:[1,0],easing:"easeOutExpo",top:[window.scrollY>0?n-window.scrollY-40:n-40,window.scrollY>0?n-window.scrollY+10:n+10],left:[a,a+10]},"-=500").add({complete:function(){t.classList.add("animated","rubberBand");d.remove()}},"-=1700");return[2]}))}))};e.prototype.render=function(){return h(Host,null,h("a",{class:"s-cart-summary-wrapper",href:salla.url.get("cart")},h("div",{id:"s-cart-icon"},h("slot",{name:"icon"},h("i",{class:"s-cart-summary-icon",innerHTML:PendingOrdersIcon}))),h("span",{class:"s-cart-summary-count"},salla.helpers.number(this.cartSummaryCount)),h("p",{class:"s-cart-summary-content"},this.showCartLabel&&h("span",{class:"s-cart-summary-label"},this.cartLabel),h("b",{class:"s-cart-summary-total"},salla.money(this.cartSummaryTotal)))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaCartSummary.style=sallaCartSummaryCss;
/*!
 * vanilla-picker v2.12.1
 * https://vanilla-picker.js.org
 *
 * Copyright 2017-2021 Andreas Borgen (https://github.com/Sphinxxxx), Adam Brooks (https://github.com/dissimulate)
 * Released under the ISC license.
 */var classCallCheck=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}};var createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var slicedToArray=function(){function e(e,t){var i=[];var n=true;var a=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){i.push(s.value);if(t&&i.length===t)break}}catch(e){a=true;r=e}finally{try{if(!n&&o["return"])o["return"]()}finally{if(a)throw r}}return i}return function(t,i){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,i)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();String.prototype.startsWith=String.prototype.startsWith||function(e){return this.indexOf(e)===0};String.prototype.padStart=String.prototype.padStart||function(e,t){var i=this;while(i.length<e){i=t+i}return i};var colorNames={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function printNum(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return i||"0"}var Color=function(){function e(t,i,n,a){classCallCheck(this,e);var r=this;function o(t){if(t.startsWith("hsl")){var i=t.match(/([\-\d\.e]+)/g).map(Number),n=slicedToArray(i,4),a=n[0],o=n[1],s=n[2],l=n[3];if(l===undefined){l=1}a/=360;o/=100;s/=100;r.hsla=[a,o,s,l]}else if(t.startsWith("rgb")){var c=t.match(/([\-\d\.e]+)/g).map(Number),u=slicedToArray(c,4),d=u[0],p=u[1],f=u[2],h=u[3];if(h===undefined){h=1}r.rgba=[d,p,f,h]}else{if(t.startsWith("#")){r.rgba=e.hexToRgb(t)}else{r.rgba=e.nameToRgb(t)||e.hexToRgb(t)}}}if(t===undefined);else if(Array.isArray(t)){this.rgba=t}else if(n===undefined){var s=t&&""+t;if(s){o(s.toLowerCase())}}else{this.rgba=[t,i,n,a===undefined?1:a]}}createClass(e,[{key:"printRGB",value:function e(t){var i=t?this.rgba:this.rgba.slice(0,3),n=i.map((function(e,t){return printNum(e,t===3?3:0)}));return t?"rgba("+n+")":"rgb("+n+")"}},{key:"printHSL",value:function e(t){var i=[360,100,100,1],n=["","%","%",""];var a=t?this.hsla:this.hsla.slice(0,3),r=a.map((function(e,t){return printNum(e*i[t],t===3?3:1)+n[t]}));return t?"hsla("+r+")":"hsl("+r+")"}},{key:"printHex",value:function e(t){var i=this.hex;return t?i:i.substring(0,7)}},{key:"rgba",get:function t(){if(this._rgba){return this._rgba}if(!this._hsla){throw new Error("No color is set")}return this._rgba=e.hslToRgb(this._hsla)},set:function e(t){if(t.length===3){t[3]=1}this._rgba=t;this._hsla=null}},{key:"rgbString",get:function e(){return this.printRGB()}},{key:"rgbaString",get:function e(){return this.printRGB(true)}},{key:"hsla",get:function t(){if(this._hsla){return this._hsla}if(!this._rgba){throw new Error("No color is set")}return this._hsla=e.rgbToHsl(this._rgba)},set:function e(t){if(t.length===3){t[3]=1}this._hsla=t;this._rgba=null}},{key:"hslString",get:function e(){return this.printHSL()}},{key:"hslaString",get:function e(){return this.printHSL(true)}},{key:"hex",get:function e(){var t=this.rgba,i=t.map((function(e,t){return t<3?e.toString(16):Math.round(e*255).toString(16)}));return"#"+i.map((function(e){return e.padStart(2,"0")})).join("")},set:function t(i){this.rgba=e.hexToRgb(i)}}],[{key:"hexToRgb",value:function e(t){var i=(t.startsWith("#")?t.slice(1):t).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!i.match(/^([0-9a-fA-F]{8})$/)){throw new Error("Unknown hex color; "+t)}var n=i.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));n[3]=n[3]/255;return n}},{key:"nameToRgb",value:function t(i){var n=i.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),a=colorNames[n];return a===undefined?a:e.hexToRgb(a.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function e(t){var i=slicedToArray(t,4),n=i[0],a=i[1],r=i[2],o=i[3];n/=255;a/=255;r/=255;var s=Math.max(n,a,r),l=Math.min(n,a,r);var c=void 0,u=void 0,d=(s+l)/2;if(s===l){c=u=0}else{var p=s-l;u=d>.5?p/(2-s-l):p/(s+l);switch(s){case n:c=(a-r)/p+(a<r?6:0);break;case a:c=(r-n)/p+2;break;case r:c=(n-a)/p+4;break}c/=6}return[c,u,d,o]}},{key:"hslToRgb",value:function e(t){var i=slicedToArray(t,4),n=i[0],a=i[1],r=i[2],o=i[3];var s=void 0,l=void 0,c=void 0;if(a===0){s=l=c=r}else{var u=function e(t,i,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return t+(i-t)*6*n;if(n<1/2)return i;if(n<2/3)return t+(i-t)*(2/3-n)*6;return t};var d=r<.5?r*(1+a):r+a-r*a,p=2*r-d;s=u(p,d,n+1/3);l=u(p,d,n);c=u(p,d,n-1/3)}var f=[s*255,l*255,c*255].map(Math.round);f[3]=o;return f}}]);return e}();var EventBucket=function(){function e(){classCallCheck(this,e);this._events=[]}createClass(e,[{key:"add",value:function e(t,i,n){t.addEventListener(i,n,false);this._events.push({target:t,type:i,handler:n})}},{key:"remove",value:function t(i,n,a){this._events=this._events.filter((function(t){var r=true;if(i&&i!==t.target){r=false}if(n&&n!==t.type){r=false}if(a&&a!==t.handler){r=false}if(r){e._doRemove(t.target,t.type,t.handler)}return!r}))}},{key:"destroy",value:function t(){this._events.forEach((function(t){return e._doRemove(t.target,t.type,t.handler)}));this._events=[]}}],[{key:"_doRemove",value:function e(t,i,n){t.removeEventListener(i,n,false)}}]);return e}();function parseHTML(e){var t=document.createElement("div");t.innerHTML=e;return t.firstElementChild}function dragTrack(e,t,i){var n=false;function a(e,t,i){return Math.max(t,Math.min(e,i))}function r(e,r,o){if(o){n=true}if(!n){return}e.preventDefault();var s=t.getBoundingClientRect(),l=s.width,c=s.height,u=r.clientX,d=r.clientY;var p=a(u-s.left,0,l),f=a(d-s.top,0,c);i(p/l,f/c)}function o(e,t){var i=e.buttons===undefined?e.which:e.buttons;if(i===1){r(e,e,t)}else{n=false}}function s(e,t){if(e.touches.length===1){r(e,e.touches[0],t)}else{n=false}}e.add(t,"mousedown",(function(e){o(e,true)}));e.add(t,"touchstart",(function(e){s(e,true)}));e.add(window,"mousemove",o);e.add(t,"touchmove",s);e.add(window,"mouseup",(function(e){n=false}));e.add(t,"touchend",(function(e){n=false}));e.add(t,"touchcancel",(function(e){n=false}))}var BG_TRANSP="linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0 / 2em 2em,\n                   linear-gradient(45deg, lightgrey 25%,       white 25%,       white 75%, lightgrey 75%) 1em 1em / 2em 2em";var HUES=360;var EVENT_KEY="keydown",EVENT_CLICK_OUTSIDE="mousedown",EVENT_TAB_MOVE="focusin";function $$1(e,t){return(t||document).querySelector(e)}function stopEvent(e){e.preventDefault();e.stopPropagation()}function onKey(e,t,i,n,a){e.add(t,EVENT_KEY,(function(e){if(i.indexOf(e.key)>=0){if(a){stopEvent(e)}n(e)}}))}var Picker=function(){function e(t){classCallCheck(this,e);this.settings={popup:"right",layout:"default",alpha:true,editor:true,editorFormat:"hex",cancelButton:false,defaultColor:"#0cf"};this._events=new EventBucket;this.onChange=null;this.onDone=null;this.onOpen=null;this.onClose=null;this.setOptions(t)}createClass(e,[{key:"setOptions",value:function e(t){var i=this;if(!t){return}var n=this.settings;function a(e,t,i){for(var n in e){if(i&&i.indexOf(n)>=0){continue}t[n]=e[n]}}if(t instanceof HTMLElement){n.parent=t}else{if(n.parent&&t.parent&&n.parent!==t.parent){this._events.remove(n.parent);this._popupInited=false}a(t,n);if(t.onChange){this.onChange=t.onChange}if(t.onDone){this.onDone=t.onDone}if(t.onOpen){this.onOpen=t.onOpen}if(t.onClose){this.onClose=t.onClose}var r=t.color||t.colour;if(r){this._setColor(r)}}var o=n.parent;if(o&&n.popup&&!this._popupInited){var s=function e(t){return i.openHandler(t)};this._events.add(o,"click",s);onKey(this._events,o,[" ","Spacebar","Enter"],s);this._popupInited=true}else if(t.parent&&!n.popup){this.show()}}},{key:"openHandler",value:function e(t){if(this.show()){t&&t.preventDefault();this.settings.parent.style.pointerEvents="none";var i=t&&t.type===EVENT_KEY?this._domEdit:this.domElement;setTimeout((function(){return i.focus()}),100);if(this.onOpen){this.onOpen(this.colour)}}}},{key:"closeHandler",value:function e(t){var i=t&&t.type;var n=false;if(!t){n=true}else if(i===EVENT_CLICK_OUTSIDE||i===EVENT_TAB_MOVE){var a=(this.__containedEvent||0)+100;if(t.timeStamp>a){n=true}}else{stopEvent(t);n=true}if(n&&this.hide()){this.settings.parent.style.pointerEvents="";if(i!==EVENT_CLICK_OUTSIDE){this.settings.parent.focus()}if(this.onClose){this.onClose(this.colour)}}}},{key:"movePopup",value:function e(t,i){this.closeHandler();this.setOptions(t);if(i){this.openHandler()}}},{key:"setColor",value:function e(t,i){this._setColor(t,{silent:i})}},{key:"_setColor",value:function e(t,i){if(typeof t==="string"){t=t.trim()}if(!t){return}i=i||{};var n=void 0;try{n=new Color(t)}catch(e){if(i.failSilently){return}throw e}if(!this.settings.alpha){var a=n.hsla;a[3]=1;n.hsla=a}this.colour=this.color=n;this._setHSLA(null,null,null,null,i)}},{key:"setColour",value:function e(t,i){this.setColor(t,i)}},{key:"show",value:function e(){var t=this.settings.parent;if(!t){return false}if(this.domElement){var i=this._toggleDOM(true);this._setPosition();return i}var n=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>';var a=parseHTML(n);this.domElement=a;this._domH=$$1(".picker_hue",a);this._domSL=$$1(".picker_sl",a);this._domA=$$1(".picker_alpha",a);this._domEdit=$$1(".picker_editor input",a);this._domSample=$$1(".picker_sample",a);this._domOkay=$$1(".picker_done button",a);this._domCancel=$$1(".picker_cancel button",a);a.classList.add("layout_"+this.settings.layout);if(!this.settings.alpha){a.classList.add("no_alpha")}if(!this.settings.editor){a.classList.add("no_editor")}if(!this.settings.cancelButton){a.classList.add("no_cancel")}this._ifPopup((function(){return a.classList.add("popup")}));this._setPosition();if(this.colour){this._updateUI()}else{this._setColor(this.settings.defaultColor)}this._bindEvents();return true}},{key:"hide",value:function e(){return this._toggleDOM(false)}},{key:"destroy",value:function e(){this._events.destroy();if(this.domElement){this.settings.parent.removeChild(this.domElement)}}},{key:"_bindEvents",value:function e(){var t=this;var i=this,n=this.domElement,a=this._events;function r(e,t,i){a.add(e,t,i)}r(n,"click",(function(e){return e.preventDefault()}));dragTrack(a,this._domH,(function(e,t){return i._setHSLA(e)}));dragTrack(a,this._domSL,(function(e,t){return i._setHSLA(null,e,1-t)}));if(this.settings.alpha){dragTrack(a,this._domA,(function(e,t){return i._setHSLA(null,null,null,1-t)}))}var o=this._domEdit;{r(o,"input",(function(e){i._setColor(this.value,{fromEditor:true,failSilently:true})}));r(o,"focus",(function(e){var t=this;if(t.selectionStart===t.selectionEnd){t.select()}}))}this._ifPopup((function(){var e=function e(i){return t.closeHandler(i)};r(window,EVENT_CLICK_OUTSIDE,e);r(window,EVENT_TAB_MOVE,e);onKey(a,n,["Esc","Escape"],e);var i=function e(i){t.__containedEvent=i.timeStamp};r(n,EVENT_CLICK_OUTSIDE,i);r(n,EVENT_TAB_MOVE,i);r(t._domCancel,"click",e)}));var s=function e(i){t._ifPopup((function(){return t.closeHandler(i)}));if(t.onDone){t.onDone(t.colour)}};r(this._domOkay,"click",s);onKey(a,n,["Enter"],s)}},{key:"_setPosition",value:function e(){var t=this.settings.parent,i=this.domElement;if(t!==i.parentNode){t.appendChild(i)}this._ifPopup((function(e){if(getComputedStyle(t).position==="static"){t.style.position="relative"}var n=e===true?"popup_right":"popup_"+e;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){if(e===n){i.classList.add(e)}else{i.classList.remove(e)}}));i.classList.add(n)}))}},{key:"_setHSLA",value:function e(t,i,n,a,r){r=r||{};var o=this.colour,s=o.hsla;[t,i,n,a].forEach((function(e,t){if(e||e===0){s[t]=e}}));o.hsla=s;this._updateUI(r);if(this.onChange&&!r.silent){this.onChange(o)}}},{key:"_updateUI",value:function e(t){if(!this.domElement){return}t=t||{};var i=this.colour,n=i.hsla,a="hsl("+n[0]*HUES+", 100%, 50%)",r=i.hslString,o=i.hslaString;var s=this._domH,l=this._domSL,c=this._domA,u=$$1(".picker_selector",s),d=$$1(".picker_selector",l),p=$$1(".picker_selector",c);function f(e,t,i){t.style.left=i*100+"%"}function h(e,t,i){t.style.top=i*100+"%"}f(s,u,n[0]);this._domSL.style.backgroundColor=this._domH.style.color=a;f(l,d,n[1]);h(l,d,1-n[2]);l.style.color=r;h(c,p,1-n[3]);var g=r,m=g.replace("hsl","hsla").replace(")",", 0)"),v="linear-gradient("+[g,m]+")";this._domA.style.background=v+", "+BG_TRANSP;if(!t.fromEditor){var _=this.settings.editorFormat,b=this.settings.alpha;var y=void 0;switch(_){case"rgb":y=i.printRGB(b);break;case"hsl":y=i.printHSL(b);break;default:y=i.printHex(b)}this._domEdit.value=y}this._domSample.style.color=o}},{key:"_ifPopup",value:function e(t,i){if(this.settings.parent&&this.settings.popup){t&&t(this.settings.popup)}else{i&&i()}}},{key:"_toggleDOM",value:function e(t){var i=this.domElement;if(!i){return false}var n=t?"":"none",a=i.style.display!==n;if(a){i.style.display=n}return a}}]);return e}();{var style=document.createElement("style");style.textContent='.picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:"";display:block;width:100%;height:0;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{flex:1 1 auto}.layout_default .picker_sl::before{content:"";display:block;padding-bottom:100%}.layout_default .picker_editor{order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{order:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px #1e90ff}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:#f5f5f5;background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:#fff}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid #fff;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:linear-gradient(180deg, white, rgba(255, 255, 255, 0) 50%),linear-gradient(0deg, black, rgba(0, 0, 0, 0) 50%),linear-gradient(90deg, #808080, rgba(128, 128, 128, 0))}.picker_alpha,.picker_sample{position:relative;background:linear-gradient(45deg, lightgrey 25%, transparent 25%, transparent 75%, lightgrey 75%) 0 0/2em 2em,linear-gradient(45deg, lightgrey 25%, white 25%, white 75%, lightgrey 75%) 1em 1em/2em 2em;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:"";position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:"";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}';document.documentElement.firstElementChild.appendChild(style);Picker.StyleElement=style}var ArrowDown='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>keyboard_arrow_down</title>\n<path d="M9.875 11.104l6.125 6.125 6.125-6.125 1.875 1.875-8 8-8-8z"></path>\n</svg>\n';var sallaColorPickerCss="";var SallaColorPicker=function(){function e(e){registerInstance(this,e);this.colorChanged=createEvent(this,"colorChanged",7);this.invalidInput=createEvent(this,"invalidInput",7);this.submitted=createEvent(this,"submitted",7);this.popupOpened=createEvent(this,"popupOpened",7);this.popupClosed=createEvent(this,"popupClosed",7);this.widgetColor=undefined;this.name="color";this.required=false;this.color=undefined;this.format="hex";this.showCancelButton=false;this.showTextField=true;this.enableAlpha=false}e.prototype.colorChangeHandler=function(e){this.colorInput.value=e.hex;this.colorChanged.emit(e)};e.prototype.submittedHandler=function(e){this.setColorValue(e.rgbaString,true);this.canvas.style.backgroundColor=e.rgbString;this.colorInput.value=e.hex;this.colorInput.dispatchEvent(new window.Event("change",{bubbles:true}));this.submitted.emit(e)};e.prototype.popupOpenedHandler=function(e){this.setPopInPosition();this.popupOpened.emit(e)};e.prototype.popupClosedHandler=function(e){this.popupClosed.emit(e)};e.prototype.setPickerOption=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.picker.setOptions(e);return[2]}))}))};e.prototype.movePopUp=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.picker.movePopup(e,t);return[2]}))}))};e.prototype.setColorValue=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.picker.setColor(e,t);return[2]}))}))};e.prototype.openPicker=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.picker.show();return[2]}))}))};e.prototype.closePicker=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.picker.hide();return[2]}))}))};e.prototype.destroyPicker=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.picker.destroy();return[2]}))}))};e.prototype.componentWillLoad=function(){var e=this;salla.onReady((function(){e.color=e.color?e.color:salla.config.get("theme.color.primary","#5dd5c4")}))};e.prototype.setPopInPosition=function(){var e=this.host.querySelector(".picker_wrapper");var t=this.host.querySelector(".s-color-picker-widget").getBoundingClientRect();var i=window.innerWidth/2-t.width/2;var n=i>t.x;var a=i<t.x;var r=i===t.x;var o=window.innerWidth<768;if(o&&n){e.style.left="0"}if(o&&a){e.style.left="auto"}if(!o||o&&(!a&&!n||r)){e.style.left="-95px"}};e.prototype.initColorPicker=function(){var e=this;this.picker=new Picker({parent:this.host,color:this.color,popup:"bottom",alpha:this.enableAlpha,editor:this.showTextField,editorFormat:this.format,cancelButton:this.showCancelButton,onChange:function(t){return e.colorChangeHandler(t)},onDone:function(t){return e.submittedHandler(t)},onOpen:function(t){return e.popupOpenedHandler(t)},onClose:function(t){return e.popupClosedHandler(t)}})};e.prototype.render=function(){var e=this;return h(Host,{class:"s-color-picker-main"},h("slot",{name:"widget"},h("div",{class:"s-color-picker-widget"},h("div",{class:"s-color-picker-widget-canvas",ref:function(t){return e.canvas=t}}),h("span",{innerHTML:ArrowDown}))),h("input",{class:"s-hidden",name:this.name,required:this.required,value:this.color,ref:function(t){return e.colorInput=t}}))};e.prototype.componentDidLoad=function(){var e=this;this.canvas.style.backgroundColor=this.color;this.initColorPicker();this.colorInput.addEventListener("invalid",(function(t){e.invalidInput.emit(t)}));this.colorInput.addEventListener("input",(function(){e.colorInput.setCustomValidity("");e.colorInput.reportValidity()}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaColorPicker.style=sallaColorPickerCss;var sallaCountDownCss="";var SallaCountDown=function(){function e(e){var t=this;registerInstance(this,e);this.date=undefined;this.boxed=undefined;this.size="md";this.color="dark";this.labeled=undefined;this.endText=undefined;this.digits="auto";this.endOfDay=undefined;this.daysLabel=undefined;this.hoursLabel=undefined;this.minutesLabel=undefined;this.secondsLabel=undefined;this.endLabel=undefined;this.invalidDate=undefined;this.offerEnded=false;this.countInterval=undefined;this.days=undefined;this.hours=undefined;this.minutes=undefined;this.seconds=undefined;this.days=this.number(0);this.hours=this.number(0);this.minutes=this.number(0);this.seconds=this.number(0);salla.lang.onLoaded((function(){t.daysLabel=salla.lang.get("pages.checkout.day");t.hoursLabel=salla.lang.get("pages.checkout.hour");t.minutesLabel=salla.lang.get("pages.checkout.minute");t.invalidDate=salla.lang.get("blocks.buy_as_gift.incorrect_date");t.secondsLabel=salla.lang.get("pages.checkout.second");t.endLabel=salla.lang.get("pages.checkout.offer_ended")}));if(this.date&&this.isValidDate(this.date)){this.startCountDown()}}e.prototype.endCountDown=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){clearInterval(this.countInterval);this.offerEnded=true;this.days=this.number(0);this.hours=this.number(0);this.minutes=this.number(0);this.seconds=this.number(0);return[2]}))}))};e.prototype.isValidDate=function(e){var t=e.includes("-"),i=e.split(" "),n;if(t){n=i[0].replace(/-/g,"/")}else{n=i[0]}return!isNaN(Date.parse(n))};e.prototype.number=function(e){return salla.helpers.number(e,this.digits==="en")};e.prototype.startCountDown=function(){var e=this;var t=new Date(this.date.replace(/-/g,"/"));if(this.endOfDay||this.date.split(" ").length===1){t.setHours(23,59,59,999)}var i=t.getTime();this.countInterval=setInterval((function(){var t=(new Date).getTime();var n=i-t;e.days=e.number(Math.floor(n/(1e3*60*60*24)));e.hours=e.number(Math.floor(n%(1e3*60*60*24)/(1e3*60*60)));e.minutes=e.number(Math.floor(n%(1e3*60*60)/(1e3*60)));e.seconds=e.number(Math.floor(n%(1e3*60)/1e3));if(n<0){e.endCountDown()}}),1e3)};e.prototype.render=function(){if(!this.date){return""}else if(this.date&&!this.isValidDate(this.date)){return h("div",{class:"s-count-down-text-center"},this.invalidDate)}return h(Host,{class:"s-count-down-wrapper"},h("ul",{class:"s-count-down-list ".concat(this.boxed?"s-count-down-boxed":""," ").concat(this.offerEnded?"s-count-down-ended":""," s-count-down-").concat(this.size," s-count-down-").concat(this.color)},h("li",{class:"s-count-down-item"},h("div",{class:"s-count-down-item-value"},this.seconds),this.labeled&&h("div",{class:"s-count-down-item-label"},this.secondsLabel)),h("li",{class:"s-count-down-item"},h("div",{class:"s-count-down-item-value"},this.minutes),this.labeled&&h("div",{class:"s-count-down-item-label"},this.minutesLabel)),h("li",{class:"s-count-down-item"},h("div",{class:"s-count-down-item-value"},this.hours),this.labeled&&h("div",{class:"s-count-down-item-label"},this.hoursLabel)),h("li",{class:"s-count-down-item"},h("div",{class:"s-count-down-item-value"},this.days),this.labeled&&h("div",{class:"s-count-down-item-label"},this.daysLabel))),this.offerEnded&&h("div",{class:"s-count-down-end-text"},!!this.endText?this.endText:this.endLabel))};return e}();SallaCountDown.style=sallaCountDownCss;var HOOKS=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"];var defaults$1={_disable:[],allowInput:false,allowInvalidPreload:false,altFormat:"F j, Y",altInput:false,altInputClass:"form-control input",animate:typeof window==="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:true,clickOpens:true,closeOnSelect:true,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:false,enableSeconds:false,enableTime:false,errorHandler:function(e){return typeof console!=="undefined"&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0);t.setDate(t.getDate()+3-(t.getDay()+6)%7);var i=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:false,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:false,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:undefined,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:false,showMonths:1,static:false,time_24hr:false,weekNumbers:false,wrap:false};var english={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:false};var pad=function(e,t){if(t===void 0){t=2}return("000"+e).slice(t*-1)};var int=function(e){return e===true?1:0};function debounce(e,t){var i;return function(){var n=this;var a=arguments;clearTimeout(i);i=setTimeout((function(){return e.apply(n,a)}),t)}}var arrayify=function(e){return e instanceof Array?e:[e]};function toggleClass(e,t,i){if(i===true)return e.classList.add(t);e.classList.remove(t)}function createElement(e,t,i){var n=window.document.createElement(e);t=t||"";i=i||"";n.className=t;if(i!==undefined)n.textContent=i;return n}function clearNode(e){while(e.firstChild)e.removeChild(e.firstChild)}function findParent(e,t){if(t(e))return e;else if(e.parentNode)return findParent(e.parentNode,t);return undefined}function createNumberInput(e,t){var i=createElement("div","numInputWrapper"),n=createElement("input","numInput "+e),a=createElement("span","arrowUp"),r=createElement("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1){n.type="number"}else{n.type="text";n.pattern="\\d*"}if(t!==undefined)for(var o in t)n.setAttribute(o,t[o]);i.appendChild(n);i.appendChild(a);i.appendChild(r);return i}function getEventTarget(e){try{if(typeof e.composedPath==="function"){var t=e.composedPath();return t[0]}return e.target}catch(t){return e.target}}var doNothing=function(){return undefined};var monthToStr=function(e,t,i){return i.months[t?"shorthand":"longhand"][e]};var revFormat={D:doNothing,F:function(e,t,i){e.setMonth(i.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,i){e.setHours(e.getHours()%12+12*int(new RegExp(i.amPM[1],"i").test(t)))},M:function(e,t,i){e.setMonth(i.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(parseFloat(t)*1e3)},W:function(e,t,i){var n=parseInt(t);var a=new Date(e.getFullYear(),0,2+(n-1)*7,0,0,0,0);a.setDate(a.getDate()-a.getDay()+i.firstDayOfWeek);return a},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:doNothing,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:doNothing,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}};var tokenRegex={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"};var formats={Z:function(e){return e.toISOString()},D:function(e,t,i){return t.weekdays.shorthand[formats.w(e,t,i)]},F:function(e,t,i){return monthToStr(formats.n(e,t,i)-1,false,t)},G:function(e,t,i){return pad(formats.h(e,t,i))},H:function(e){return pad(e.getHours())},J:function(e,t){return t.ordinal!==undefined?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[int(e.getHours()>11)]},M:function(e,t){return monthToStr(e.getMonth(),true,t)},S:function(e){return pad(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,i){return i.getWeek(e)},Y:function(e){return pad(e.getFullYear(),4)},d:function(e){return pad(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return pad(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return pad(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}};var createDateFormatter=function(e){var t=e.config,i=t===void 0?defaults$1:t,n=e.l10n,a=n===void 0?english:n,r=e.isMobile,o=r===void 0?false:r;return function(e,t,n){var r=n||a;if(i.formatDate!==undefined&&!o){return i.formatDate(e,t,r)}return t.split("").map((function(t,n,a){return formats[t]&&a[n-1]!=="\\"?formats[t](e,r,i):t!=="\\"?t:""})).join("")}};var createDateParser=function(e){var t=e.config,i=t===void 0?defaults$1:t,n=e.l10n,a=n===void 0?english:n;return function(e,t,n,r){if(e!==0&&!e)return undefined;var o=r||a;var s;var l=e;if(e instanceof Date)s=new Date(e.getTime());else if(typeof e!=="string"&&e.toFixed!==undefined)s=new Date(e);else if(typeof e==="string"){var c=t||(i||defaults$1).dateFormat;var u=String(e).trim();if(u==="today"){s=new Date;n=true}else if(i&&i.parseDate){s=i.parseDate(e,c)}else if(/Z$/.test(u)||/GMT$/.test(u)){s=new Date(e)}else{var d=void 0,p=[];for(var f=0,h=0,g="";f<c.length;f++){var m=c[f];var v=m==="\\";var _=c[f-1]==="\\"||v;if(tokenRegex[m]&&!_){g+=tokenRegex[m];var b=new RegExp(g).exec(e);if(b&&(d=true)){p[m!=="Y"?"push":"unshift"]({fn:revFormat[m],val:b[++h]})}}else if(!v)g+="."}s=!i||!i.noCalendar?new Date((new Date).getFullYear(),0,1,0,0,0,0):new Date((new Date).setHours(0,0,0,0));p.forEach((function(e){var t=e.fn,i=e.val;return s=t(s,i,o)||s}));s=d?s:undefined}}if(!(s instanceof Date&&!isNaN(s.getTime()))){i.errorHandler(new Error("Invalid date provided: "+l));return undefined}if(n===true)s.setHours(0,0,0,0);return s}};function compareDates(e,t,i){if(i===void 0){i=true}if(i!==false){return new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0)}return e.getTime()-t.getTime()}var isBetween=function(e,t,i){return e>Math.min(t,i)&&e<Math.max(t,i)};var calculateSecondsSinceMidnight=function(e,t,i){return e*3600+t*60+i};var parseSeconds=function(e){var t=Math.floor(e/3600),i=(e-t*3600)/60;return[t,i,e-t*3600-i*60]};var duration={DAY:864e5};function getDefaultHours(e){var t=e.defaultHour;var i=e.defaultMinute;var n=e.defaultSeconds;if(e.minDate!==undefined){var a=e.minDate.getHours();var r=e.minDate.getMinutes();var o=e.minDate.getSeconds();if(t<a){t=a}if(t===a&&i<r){i=r}if(t===a&&i===r&&n<o)n=e.minDate.getSeconds()}if(e.maxDate!==undefined){var s=e.maxDate.getHours();var l=e.maxDate.getMinutes();t=Math.min(t,s);if(t===s)i=Math.min(l,i);if(t===s&&i===l)n=e.maxDate.getSeconds()}return{hours:t,minutes:i,seconds:n}}if(typeof Object.assign!=="function"){Object.assign=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(!e){throw TypeError("Cannot convert undefined or null to object")}var n=function(t){if(t){Object.keys(t).forEach((function(i){return e[i]=t[i]}))}};for(var a=0,r=t;a<r.length;a++){var o=r[a];n(o)}return e}}var __assign=undefined&&undefined.__assign||function(){__assign=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a))e[a]=t[a]}return e};return __assign.apply(this,arguments)};var __spreadArrays=undefined&&undefined.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<i;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n};var DEBOUNCED_CHANGE_MS=300;function FlatpickrInstance(e,t){var i={config:__assign(__assign({},defaults$1),flatpickr.defaultConfig),l10n:english};i.parseDate=createDateParser({config:i.config,l10n:i.l10n});i._handlers=[];i.pluginElements=[];i.loadedPlugins=[];i._bind=g;i._setHoursFromDate=p;i._positionCalendar=te;i.changeMonth=F;i.changeYear=U;i.clear=G;i.close=z;i.onMouseOver=X;i._createElement=createElement;i.createDay=x;i.destroy=B;i.isEnabled=V;i.jumpToDate=_;i.updateValue=Ee;i.open=Z;i.redraw=ae;i.set=le;i.setDate=ue;i.toggle=me;function n(){i.utils={getDaysInMonth:function(e,t){if(e===void 0){e=i.currentMonth}if(t===void 0){t=i.currentYear}if(e===1&&(t%4===0&&t%100!==0||t%400===0))return 29;return i.l10n.daysInMonth[e]}}}function a(){i.element=i.input=e;i.isOpen=false;$();ee();fe();pe();n();if(!i.isMobile)w();v();if(i.selectedDates.length||i.config.noCalendar){if(i.config.enableTime){p(i.config.noCalendar?i.latestSelectedDateObj:undefined)}Ee(false)}s();var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(!i.isMobile&&t){te()}ve("onReady")}function r(){var e;return((e=i.calendarContainer)===null||e===void 0?void 0:e.getRootNode()).activeElement||document.activeElement}function o(e){return e.bind(i)}function s(){var e=i.config;if(e.weekNumbers===false&&e.showMonths===1){return}else if(e.noCalendar!==true){window.requestAnimationFrame((function(){if(i.calendarContainer!==undefined){i.calendarContainer.style.visibility="hidden";i.calendarContainer.style.display="block"}if(i.daysContainer!==undefined){var t=(i.days.offsetWidth+1)*e.showMonths;i.daysContainer.style.width=t+"px";i.calendarContainer.style.width=t+(i.weekWrapper!==undefined?i.weekWrapper.offsetWidth:0)+"px";i.calendarContainer.style.removeProperty("visibility");i.calendarContainer.style.removeProperty("display")}}))}}function l(e){if(i.selectedDates.length===0){var t=i.config.minDate===undefined||compareDates(new Date,i.config.minDate)>=0?new Date:new Date(i.config.minDate.getTime());var n=getDefaultHours(i.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds());i.selectedDates=[t];i.latestSelectedDateObj=t}if(e!==undefined&&e.type!=="blur"){Ie(e)}var a=i._input.value;d();Ee();if(i._input.value!==a){i._debouncedChange()}}function c(e,t){return e%12+12*int(t===i.l10n.amPM[1])}function u(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function d(){if(i.hourElement===undefined||i.minuteElement===undefined)return;var e=(parseInt(i.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(i.minuteElement.value,10)||0)%60,n=i.secondElement!==undefined?(parseInt(i.secondElement.value,10)||0)%60:0;if(i.amPM!==undefined){e=c(e,i.amPM.textContent)}var a=i.config.minTime!==undefined||i.config.minDate&&i.minDateHasTime&&i.latestSelectedDateObj&&compareDates(i.latestSelectedDateObj,i.config.minDate,true)===0;var r=i.config.maxTime!==undefined||i.config.maxDate&&i.maxDateHasTime&&i.latestSelectedDateObj&&compareDates(i.latestSelectedDateObj,i.config.maxDate,true)===0;if(i.config.maxTime!==undefined&&i.config.minTime!==undefined&&i.config.minTime>i.config.maxTime){var o=calculateSecondsSinceMidnight(i.config.minTime.getHours(),i.config.minTime.getMinutes(),i.config.minTime.getSeconds());var s=calculateSecondsSinceMidnight(i.config.maxTime.getHours(),i.config.maxTime.getMinutes(),i.config.maxTime.getSeconds());var l=calculateSecondsSinceMidnight(e,t,n);if(l>s&&l<o){var u=parseSeconds(o);e=u[0];t=u[1];n=u[2]}}else{if(r){var d=i.config.maxTime!==undefined?i.config.maxTime:i.config.maxDate;e=Math.min(e,d.getHours());if(e===d.getHours())t=Math.min(t,d.getMinutes());if(t===d.getMinutes())n=Math.min(n,d.getSeconds())}if(a){var p=i.config.minTime!==undefined?i.config.minTime:i.config.minDate;e=Math.max(e,p.getHours());if(e===p.getHours()&&t<p.getMinutes())t=p.getMinutes();if(t===p.getMinutes())n=Math.max(n,p.getSeconds())}}f(e,t,n)}function p(e){var t=e||i.latestSelectedDateObj;if(t&&t instanceof Date){f(t.getHours(),t.getMinutes(),t.getSeconds())}}function f(e,t,n){if(i.latestSelectedDateObj!==undefined){i.latestSelectedDateObj.setHours(e%24,t,n||0,0)}if(!i.hourElement||!i.minuteElement||i.isMobile)return;i.hourElement.value=pad(!i.config.time_24hr?(12+e)%12+12*int(e%12===0):e);i.minuteElement.value=pad(t);if(i.amPM!==undefined)i.amPM.textContent=i.l10n.amPM[int(e>=12)];if(i.secondElement!==undefined)i.secondElement.value=pad(n)}function h(e){var t=getEventTarget(e);var i=parseInt(t.value)+(e.delta||0);if(i/1e3>1||e.key==="Enter"&&!/[^\d]/.test(i.toString())){U(i)}}function g(e,t,n,a){if(t instanceof Array)return t.forEach((function(t){return g(e,t,n,a)}));if(e instanceof Array)return e.forEach((function(e){return g(e,t,n,a)}));e.addEventListener(t,n,a);i._handlers.push({remove:function(){return e.removeEventListener(t,n,a)}})}function m(){ve("onChange")}function v(){if(i.config.wrap){["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(i.element.querySelectorAll("[data-"+e+"]"),(function(t){return g(t,"click",i[e])}))}))}if(i.isMobile){ge();return}var e=debounce(K,50);i._debouncedChange=debounce(m,DEBOUNCED_CHANGE_MS);if(i.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent))g(i.daysContainer,"mouseover",(function(e){if(i.config.mode==="range")X(getEventTarget(e))}));g(i._input,"keydown",W);if(i.calendarContainer!==undefined){g(i.calendarContainer,"keydown",W)}if(!i.config.inline&&!i.config.static)g(window,"resize",e);if(window.ontouchstart!==undefined)g(window.document,"touchstart",H);else g(window.document,"mousedown",H);g(window.document,"focus",H,{capture:true});if(i.config.clickOpens===true){g(i._input,"focus",i.open);g(i._input,"click",i.open)}if(i.daysContainer!==undefined){g(i.monthNav,"click",ke);g(i.monthNav,["keyup","increment"],h);g(i.daysContainer,"click",oe)}if(i.timeContainer!==undefined&&i.minuteElement!==undefined&&i.hourElement!==undefined){var t=function(e){return getEventTarget(e).select()};g(i.timeContainer,["increment"],l);g(i.timeContainer,"blur",l,{capture:true});g(i.timeContainer,"click",b);g([i.hourElement,i.minuteElement],["focus","click"],t);if(i.secondElement!==undefined)g(i.secondElement,"focus",(function(){return i.secondElement&&i.secondElement.select()}));if(i.amPM!==undefined){g(i.amPM,"click",(function(e){l(e)}))}}if(i.config.allowInput){g(i._input,"blur",Y)}}function _(e,t){var n=e!==undefined?i.parseDate(e):i.latestSelectedDateObj||(i.config.minDate&&i.config.minDate>i.now?i.config.minDate:i.config.maxDate&&i.config.maxDate<i.now?i.config.maxDate:i.now);var a=i.currentYear;var r=i.currentMonth;try{if(n!==undefined){i.currentYear=n.getFullYear();i.currentMonth=n.getMonth()}}catch(e){e.message="Invalid date supplied: "+n;i.config.errorHandler(e)}if(t&&i.currentYear!==a){ve("onYearChange");C()}if(t&&(i.currentYear!==a||i.currentMonth!==r)){ve("onMonthChange")}i.redraw()}function b(e){var t=getEventTarget(e);if(~t.className.indexOf("arrow"))y(e,t.classList.contains("arrowUp")?1:-1)}function y(e,t,i){var n=e&&getEventTarget(e);var a=i||n&&n.parentNode&&n.parentNode.firstChild;var r=_e("increment");r.delta=t;a&&a.dispatchEvent(r)}function w(){var e=window.document.createDocumentFragment();i.calendarContainer=createElement("div","flatpickr-calendar");i.calendarContainer.tabIndex=-1;if(!i.config.noCalendar){e.appendChild(L());i.innerContainer=createElement("div","flatpickr-innerContainer");if(i.config.weekNumbers){var t=N(),n=t.weekWrapper,a=t.weekNumbers;i.innerContainer.appendChild(n);i.weekNumbers=a;i.weekWrapper=n}i.rContainer=createElement("div","flatpickr-rContainer");i.rContainer.appendChild(P());if(!i.daysContainer){i.daysContainer=createElement("div","flatpickr-days");i.daysContainer.tabIndex=-1}S();i.rContainer.appendChild(i.daysContainer);i.innerContainer.appendChild(i.rContainer);e.appendChild(i.innerContainer)}if(i.config.enableTime){e.appendChild(O())}toggleClass(i.calendarContainer,"rangeMode",i.config.mode==="range");toggleClass(i.calendarContainer,"animate",i.config.animate===true);toggleClass(i.calendarContainer,"multiMonth",i.config.showMonths>1);i.calendarContainer.appendChild(e);var r=i.config.appendTo!==undefined&&i.config.appendTo.nodeType!==undefined;if(i.config.inline||i.config.static){i.calendarContainer.classList.add(i.config.inline?"inline":"static");if(i.config.inline){if(!r&&i.element.parentNode)i.element.parentNode.insertBefore(i.calendarContainer,i._input.nextSibling);else if(i.config.appendTo!==undefined)i.config.appendTo.appendChild(i.calendarContainer)}if(i.config.static){var o=createElement("div","flatpickr-wrapper");if(i.element.parentNode)i.element.parentNode.insertBefore(o,i.element);o.appendChild(i.element);if(i.altInput)o.appendChild(i.altInput);o.appendChild(i.calendarContainer)}}if(!i.config.static&&!i.config.inline)(i.config.appendTo!==undefined?i.config.appendTo:window.document.body).appendChild(i.calendarContainer)}function x(e,t,n,a){var r=V(t,true),o=createElement("span",e,t.getDate().toString());o.dateObj=t;o.$i=a;o.setAttribute("aria-label",i.formatDate(t,i.config.ariaDateFormat));if(e.indexOf("hidden")===-1&&compareDates(t,i.now)===0){i.todayDateElem=o;o.classList.add("today");o.setAttribute("aria-current","date")}if(r){o.tabIndex=-1;if(be(t)){o.classList.add("selected");i.selectedDateElem=o;if(i.config.mode==="range"){toggleClass(o,"startRange",i.selectedDates[0]&&compareDates(t,i.selectedDates[0],true)===0);toggleClass(o,"endRange",i.selectedDates[1]&&compareDates(t,i.selectedDates[1],true)===0);if(e==="nextMonthDay")o.classList.add("inRange")}}}else{o.classList.add("flatpickr-disabled")}if(i.config.mode==="range"){if(ye(t)&&!be(t))o.classList.add("inRange")}if(i.weekNumbers&&i.config.showMonths===1&&e!=="prevMonthDay"&&a%7===6){i.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+i.config.getWeek(t)+"</span>")}ve("onDayCreate",o);return o}function E(e){e.focus();if(i.config.mode==="range")X(e)}function k(e){var t=e>0?0:i.config.showMonths-1;var n=e>0?i.config.showMonths:-1;for(var a=t;a!=n;a+=e){var r=i.daysContainer.children[a];var o=e>0?0:r.children.length-1;var s=e>0?r.children.length:-1;for(var l=o;l!=s;l+=e){var c=r.children[l];if(c.className.indexOf("hidden")===-1&&V(c.dateObj))return c}}return undefined}function I(e,t){var n=e.className.indexOf("Month")===-1?e.dateObj.getMonth():i.currentMonth;var a=t>0?i.config.showMonths:-1;var r=t>0?1:-1;for(var o=n-i.currentMonth;o!=a;o+=r){var s=i.daysContainer.children[o];var l=n-i.currentMonth===o?e.$i+t:t<0?s.children.length-1:0;var c=s.children.length;for(var u=l;u>=0&&u<c&&u!=(t>0?c:-1);u+=r){var d=s.children[u];if(d.className.indexOf("hidden")===-1&&V(d.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return E(d)}}i.changeMonth(r);T(k(r),0);return undefined}function T(e,t){var n=r();var a=j(n||document.body);var o=e!==undefined?e:a?n:i.selectedDateElem!==undefined&&j(i.selectedDateElem)?i.selectedDateElem:i.todayDateElem!==undefined&&j(i.todayDateElem)?i.todayDateElem:k(t>0?1:-1);if(o===undefined){i._input.focus()}else if(!a){E(o)}else{I(o,t)}}function A(e,t){var n=(new Date(e,t,1).getDay()-i.l10n.firstDayOfWeek+7)%7;var a=i.utils.getDaysInMonth((t-1+12)%12,e);var r=i.utils.getDaysInMonth(t,e),o=window.document.createDocumentFragment(),s=i.config.showMonths>1,l=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay";var u=a+1-n,d=0;for(;u<=a;u++,d++){o.appendChild(x("flatpickr-day "+l,new Date(e,t-1,u),u,d))}for(u=1;u<=r;u++,d++){o.appendChild(x("flatpickr-day",new Date(e,t,u),u,d))}for(var p=r+1;p<=42-n&&(i.config.showMonths===1||d%7!==0);p++,d++){o.appendChild(x("flatpickr-day "+c,new Date(e,t+1,p%r),p,d))}var f=createElement("div","dayContainer");f.appendChild(o);return f}function S(){if(i.daysContainer===undefined){return}clearNode(i.daysContainer);if(i.weekNumbers)clearNode(i.weekNumbers);var e=document.createDocumentFragment();for(var t=0;t<i.config.showMonths;t++){var n=new Date(i.currentYear,i.currentMonth,1);n.setMonth(i.currentMonth+t);e.appendChild(A(n.getFullYear(),n.getMonth()))}i.daysContainer.appendChild(e);i.days=i.daysContainer.firstChild;if(i.config.mode==="range"&&i.selectedDates.length===1){X()}}function C(){if(i.config.showMonths>1||i.config.monthSelectorType!=="dropdown")return;var e=function(e){if(i.config.minDate!==undefined&&i.currentYear===i.config.minDate.getFullYear()&&e<i.config.minDate.getMonth()){return false}return!(i.config.maxDate!==undefined&&i.currentYear===i.config.maxDate.getFullYear()&&e>i.config.maxDate.getMonth())};i.monthsDropdownContainer.tabIndex=-1;i.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++){if(!e(t))continue;var n=createElement("option","flatpickr-monthDropdown-month");n.value=new Date(i.currentYear,t).getMonth().toString();n.textContent=monthToStr(t,i.config.shorthandCurrentMonth,i.l10n);n.tabIndex=-1;if(i.currentMonth===t){n.selected=true}i.monthsDropdownContainer.appendChild(n)}}function M(){var e=createElement("div","flatpickr-month");var t=window.document.createDocumentFragment();var n;if(i.config.showMonths>1||i.config.monthSelectorType==="static"){n=createElement("span","cur-month")}else{i.monthsDropdownContainer=createElement("select","flatpickr-monthDropdown-months");i.monthsDropdownContainer.setAttribute("aria-label",i.l10n.monthAriaLabel);g(i.monthsDropdownContainer,"change",(function(e){var t=getEventTarget(e);var n=parseInt(t.value,10);i.changeMonth(n-i.currentMonth);ve("onMonthChange")}));C();n=i.monthsDropdownContainer}var a=createNumberInput("cur-year",{tabindex:"-1"});var r=a.getElementsByTagName("input")[0];r.setAttribute("aria-label",i.l10n.yearAriaLabel);if(i.config.minDate){r.setAttribute("min",i.config.minDate.getFullYear().toString())}if(i.config.maxDate){r.setAttribute("max",i.config.maxDate.getFullYear().toString());r.disabled=!!i.config.minDate&&i.config.minDate.getFullYear()===i.config.maxDate.getFullYear()}var o=createElement("div","flatpickr-current-month");o.appendChild(n);o.appendChild(a);t.appendChild(o);e.appendChild(t);return{container:e,yearElement:r,monthElement:n}}function D(){clearNode(i.monthNav);i.monthNav.appendChild(i.prevMonthNav);if(i.config.showMonths){i.yearElements=[];i.monthElements=[]}for(var e=i.config.showMonths;e--;){var t=M();i.yearElements.push(t.yearElement);i.monthElements.push(t.monthElement);i.monthNav.appendChild(t.container)}i.monthNav.appendChild(i.nextMonthNav)}function L(){i.monthNav=createElement("div","flatpickr-months");i.yearElements=[];i.monthElements=[];i.prevMonthNav=createElement("span","flatpickr-prev-month");i.prevMonthNav.innerHTML=i.config.prevArrow;i.nextMonthNav=createElement("span","flatpickr-next-month");i.nextMonthNav.innerHTML=i.config.nextArrow;D();Object.defineProperty(i,"_hidePrevMonthArrow",{get:function(){return i.__hidePrevMonthArrow},set:function(e){if(i.__hidePrevMonthArrow!==e){toggleClass(i.prevMonthNav,"flatpickr-disabled",e);i.__hidePrevMonthArrow=e}}});Object.defineProperty(i,"_hideNextMonthArrow",{get:function(){return i.__hideNextMonthArrow},set:function(e){if(i.__hideNextMonthArrow!==e){toggleClass(i.nextMonthNav,"flatpickr-disabled",e);i.__hideNextMonthArrow=e}}});i.currentYearElement=i.yearElements[0];we();return i.monthNav}function O(){i.calendarContainer.classList.add("hasTime");if(i.config.noCalendar)i.calendarContainer.classList.add("noCalendar");var e=getDefaultHours(i.config);i.timeContainer=createElement("div","flatpickr-time");i.timeContainer.tabIndex=-1;var t=createElement("span","flatpickr-time-separator",":");var n=createNumberInput("flatpickr-hour",{"aria-label":i.l10n.hourAriaLabel});i.hourElement=n.getElementsByTagName("input")[0];var a=createNumberInput("flatpickr-minute",{"aria-label":i.l10n.minuteAriaLabel});i.minuteElement=a.getElementsByTagName("input")[0];i.hourElement.tabIndex=i.minuteElement.tabIndex=-1;i.hourElement.value=pad(i.latestSelectedDateObj?i.latestSelectedDateObj.getHours():i.config.time_24hr?e.hours:u(e.hours));i.minuteElement.value=pad(i.latestSelectedDateObj?i.latestSelectedDateObj.getMinutes():e.minutes);i.hourElement.setAttribute("step",i.config.hourIncrement.toString());i.minuteElement.setAttribute("step",i.config.minuteIncrement.toString());i.hourElement.setAttribute("min",i.config.time_24hr?"0":"1");i.hourElement.setAttribute("max",i.config.time_24hr?"23":"12");i.hourElement.setAttribute("maxlength","2");i.minuteElement.setAttribute("min","0");i.minuteElement.setAttribute("max","59");i.minuteElement.setAttribute("maxlength","2");i.timeContainer.appendChild(n);i.timeContainer.appendChild(t);i.timeContainer.appendChild(a);if(i.config.time_24hr)i.timeContainer.classList.add("time24hr");if(i.config.enableSeconds){i.timeContainer.classList.add("hasSeconds");var r=createNumberInput("flatpickr-second");i.secondElement=r.getElementsByTagName("input")[0];i.secondElement.value=pad(i.latestSelectedDateObj?i.latestSelectedDateObj.getSeconds():e.seconds);i.secondElement.setAttribute("step",i.minuteElement.getAttribute("step"));i.secondElement.setAttribute("min","0");i.secondElement.setAttribute("max","59");i.secondElement.setAttribute("maxlength","2");i.timeContainer.appendChild(createElement("span","flatpickr-time-separator",":"));i.timeContainer.appendChild(r)}if(!i.config.time_24hr){i.amPM=createElement("span","flatpickr-am-pm",i.l10n.amPM[int((i.latestSelectedDateObj?i.hourElement.value:i.config.defaultHour)>11)]);i.amPM.title=i.l10n.toggleTitle;i.amPM.tabIndex=-1;i.timeContainer.appendChild(i.amPM)}return i.timeContainer}function P(){if(!i.weekdayContainer)i.weekdayContainer=createElement("div","flatpickr-weekdays");else clearNode(i.weekdayContainer);for(var e=i.config.showMonths;e--;){var t=createElement("div","flatpickr-weekdaycontainer");i.weekdayContainer.appendChild(t)}R();return i.weekdayContainer}function R(){if(!i.weekdayContainer){return}var e=i.l10n.firstDayOfWeek;var t=__spreadArrays(i.l10n.weekdays.shorthand);if(e>0&&e<t.length){t=__spreadArrays(t.splice(e,t.length),t.splice(0,e))}for(var n=i.config.showMonths;n--;){i.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function N(){i.calendarContainer.classList.add("hasWeeks");var e=createElement("div","flatpickr-weekwrapper");e.appendChild(createElement("span","flatpickr-weekday",i.l10n.weekAbbreviation));var t=createElement("div","flatpickr-weeks");e.appendChild(t);return{weekWrapper:e,weekNumbers:t}}function F(e,t){if(t===void 0){t=true}var n=t?e:e-i.currentMonth;if(n<0&&i._hidePrevMonthArrow===true||n>0&&i._hideNextMonthArrow===true)return;i.currentMonth+=n;if(i.currentMonth<0||i.currentMonth>11){i.currentYear+=i.currentMonth>11?1:-1;i.currentMonth=(i.currentMonth+12)%12;ve("onYearChange");C()}S();ve("onMonthChange");we()}function G(e,t){if(e===void 0){e=true}if(t===void 0){t=true}i.input.value="";if(i.altInput!==undefined)i.altInput.value="";if(i.mobileInput!==undefined)i.mobileInput.value="";i.selectedDates=[];i.latestSelectedDateObj=undefined;if(t===true){i.currentYear=i._initialDate.getFullYear();i.currentMonth=i._initialDate.getMonth()}if(i.config.enableTime===true){var n=getDefaultHours(i.config),a=n.hours,r=n.minutes,o=n.seconds;f(a,r,o)}i.redraw();if(e)ve("onChange")}function z(){i.isOpen=false;if(!i.isMobile){if(i.calendarContainer!==undefined){i.calendarContainer.classList.remove("open")}if(i._input!==undefined){i._input.classList.remove("active")}}ve("onClose")}function B(){if(i.config!==undefined)ve("onDestroy");for(var e=i._handlers.length;e--;){i._handlers[e].remove()}i._handlers=[];if(i.mobileInput){if(i.mobileInput.parentNode)i.mobileInput.parentNode.removeChild(i.mobileInput);i.mobileInput=undefined}else if(i.calendarContainer&&i.calendarContainer.parentNode){if(i.config.static&&i.calendarContainer.parentNode){var t=i.calendarContainer.parentNode;t.lastChild&&t.removeChild(t.lastChild);if(t.parentNode){while(t.firstChild)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else i.calendarContainer.parentNode.removeChild(i.calendarContainer)}if(i.altInput){i.input.type="text";if(i.altInput.parentNode)i.altInput.parentNode.removeChild(i.altInput);delete i.altInput}if(i.input){i.input.type=i.input._type;i.input.classList.remove("flatpickr-input");i.input.removeAttribute("readonly")}["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete i[e]}catch(e){}}))}function q(e){return i.calendarContainer.contains(e)}function H(e){if(i.isOpen&&!i.config.inline){var t=getEventTarget(e);var n=q(t);var a=t===i.input||t===i.altInput||i.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(i.input)||~e.path.indexOf(i.altInput));var r=!a&&!n&&!q(e.relatedTarget);var o=!i.config.ignoredFocusElements.some((function(e){return e.contains(t)}));if(r&&o){if(i.config.allowInput){i.setDate(i._input.value,false,i.config.altInput?i.config.altFormat:i.config.dateFormat)}if(i.timeContainer!==undefined&&i.minuteElement!==undefined&&i.hourElement!==undefined&&i.input.value!==""&&i.input.value!==undefined){l()}i.close();if(i.config&&i.config.mode==="range"&&i.selectedDates.length===1)i.clear(false)}}}function U(e){if(!e||i.config.minDate&&e<i.config.minDate.getFullYear()||i.config.maxDate&&e>i.config.maxDate.getFullYear())return;var t=e,n=i.currentYear!==t;i.currentYear=t||i.currentYear;if(i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()){i.currentMonth=Math.min(i.config.maxDate.getMonth(),i.currentMonth)}else if(i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()){i.currentMonth=Math.max(i.config.minDate.getMonth(),i.currentMonth)}if(n){i.redraw();ve("onYearChange");C()}}function V(e,t){var n;if(t===void 0){t=true}var a=i.parseDate(e,undefined,t);if(i.config.minDate&&a&&compareDates(a,i.config.minDate,t!==undefined?t:!i.minDateHasTime)<0||i.config.maxDate&&a&&compareDates(a,i.config.maxDate,t!==undefined?t:!i.maxDateHasTime)>0)return false;if(!i.config.enable&&i.config.disable.length===0)return true;if(a===undefined)return false;var r=!!i.config.enable,o=(n=i.config.enable)!==null&&n!==void 0?n:i.config.disable;for(var s=0,l=void 0;s<o.length;s++){l=o[s];if(typeof l==="function"&&l(a))return r;else if(l instanceof Date&&a!==undefined&&l.getTime()===a.getTime())return r;else if(typeof l==="string"){var c=i.parseDate(l,undefined,true);return c&&c.getTime()===a.getTime()?r:!r}else if(typeof l==="object"&&a!==undefined&&l.from&&l.to&&a.getTime()>=l.from.getTime()&&a.getTime()<=l.to.getTime())return r}return!r}function j(e){if(i.daysContainer!==undefined)return e.className.indexOf("hidden")===-1&&e.className.indexOf("flatpickr-disabled")===-1&&i.daysContainer.contains(e);return false}function Y(e){var t=e.target===i._input;var n=i._input.value.trimEnd()!==xe();if(t&&n&&!(e.relatedTarget&&q(e.relatedTarget))){i.setDate(i._input.value,true,e.target===i.altInput?i.config.altFormat:i.config.dateFormat)}}function W(t){var n=getEventTarget(t);var a=i.config.wrap?e.contains(n):n===i._input;var o=i.config.allowInput;var s=i.isOpen&&(!o||!a);var c=i.config.inline&&a&&!o;if(t.keyCode===13&&a){if(o){i.setDate(i._input.value,true,n===i.altInput?i.config.altFormat:i.config.dateFormat);i.close();return n.blur()}else{i.open()}}else if(q(n)||s||c){var u=!!i.timeContainer&&i.timeContainer.contains(n);switch(t.keyCode){case 13:if(u){t.preventDefault();l();re()}else oe(t);break;case 27:t.preventDefault();re();break;case 8:case 46:if(a&&!i.config.allowInput){t.preventDefault();i.clear()}break;case 37:case 39:if(!u&&!a){t.preventDefault();var p=r();if(i.daysContainer!==undefined&&(o===false||p&&j(p))){var f=t.keyCode===39?1:-1;if(!t.ctrlKey)T(undefined,f);else{t.stopPropagation();F(f);T(k(1),0)}}}else if(i.hourElement)i.hourElement.focus();break;case 38:case 40:t.preventDefault();var h=t.keyCode===40?1:-1;if(i.daysContainer&&n.$i!==undefined||n===i.input||n===i.altInput){if(t.ctrlKey){t.stopPropagation();U(i.currentYear-h);T(k(1),0)}else if(!u)T(undefined,h*7)}else if(n===i.currentYearElement){U(i.currentYear-h)}else if(i.config.enableTime){if(!u&&i.hourElement)i.hourElement.focus();l(t);i._debouncedChange()}break;case 9:if(u){var g=[i.hourElement,i.minuteElement,i.secondElement,i.amPM].concat(i.pluginElements).filter((function(e){return e}));var m=g.indexOf(n);if(m!==-1){var v=g[m+(t.shiftKey?-1:1)];t.preventDefault();(v||i._input).focus()}}else if(!i.config.noCalendar&&i.daysContainer&&i.daysContainer.contains(n)&&t.shiftKey){t.preventDefault();i._input.focus()}break}}if(i.amPM!==undefined&&n===i.amPM){switch(t.key){case i.l10n.amPM[0].charAt(0):case i.l10n.amPM[0].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[0];d();Ee();break;case i.l10n.amPM[1].charAt(0):case i.l10n.amPM[1].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[1];d();Ee();break}}if(a||q(n)){ve("onKeyDown",t)}}function X(e,t){if(t===void 0){t="flatpickr-day"}if(i.selectedDates.length!==1||e&&(!e.classList.contains(t)||e.classList.contains("flatpickr-disabled")))return;var n=e?e.dateObj.getTime():i.days.firstElementChild.dateObj.getTime(),a=i.parseDate(i.selectedDates[0],undefined,true).getTime(),r=Math.min(n,i.selectedDates[0].getTime()),o=Math.max(n,i.selectedDates[0].getTime());var s=false;var l=0,c=0;for(var u=r;u<o;u+=duration.DAY){if(!V(new Date(u),true)){s=s||u>r&&u<o;if(u<a&&(!l||u>l))l=u;else if(u>a&&(!c||u<c))c=u}}var d=Array.from(i.rContainer.querySelectorAll("*:nth-child(-n+"+i.config.showMonths+") > ."+t));d.forEach((function(t){var r=t.dateObj;var o=r.getTime();var u=l>0&&o<l||c>0&&o>c;if(u){t.classList.add("notAllowed");["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));return}else if(s&&!u)return;["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)}));if(e!==undefined){e.classList.add(n<=i.selectedDates[0].getTime()?"startRange":"endRange");if(a<n&&o===a)t.classList.add("startRange");else if(a>n&&o===a)t.classList.add("endRange");if(o>=l&&(c===0||o<=c)&&isBetween(o,a,n))t.classList.add("inRange")}}))}function K(){if(i.isOpen&&!i.config.static&&!i.config.inline)te()}function Z(e,t){if(t===void 0){t=i._positionElement}if(i.isMobile===true){if(e){e.preventDefault();var n=getEventTarget(e);if(n){n.blur()}}if(i.mobileInput!==undefined){i.mobileInput.focus();i.mobileInput.click()}ve("onOpen");return}else if(i._input.disabled||i.config.inline){return}var a=i.isOpen;i.isOpen=true;if(!a){i.calendarContainer.classList.add("open");i._input.classList.add("active");ve("onOpen");te(t)}if(i.config.enableTime===true&&i.config.noCalendar===true){if(i.config.allowInput===false&&(e===undefined||!i.timeContainer.contains(e.relatedTarget))){setTimeout((function(){return i.hourElement.select()}),50)}}}function Q(e){return function(t){var n=i.config["_"+e+"Date"]=i.parseDate(t,i.config.dateFormat);var a=i.config["_"+(e==="min"?"max":"min")+"Date"];if(n!==undefined){i[e==="min"?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0}if(i.selectedDates){i.selectedDates=i.selectedDates.filter((function(e){return V(e)}));if(!i.selectedDates.length&&e==="min")p(n);Ee()}if(i.daysContainer){ae();if(n!==undefined)i.currentYearElement[e]=n.getFullYear().toString();else i.currentYearElement.removeAttribute(e);i.currentYearElement.disabled=!!a&&n!==undefined&&a.getFullYear()===n.getFullYear()}}}function $(){var n=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"];var a=__assign(__assign({},JSON.parse(JSON.stringify(e.dataset||{}))),t);var r={};i.config.parseDate=a.parseDate;i.config.formatDate=a.formatDate;Object.defineProperty(i.config,"enable",{get:function(){return i.config._enable},set:function(e){i.config._enable=de(e)}});Object.defineProperty(i.config,"disable",{get:function(){return i.config._disable},set:function(e){i.config._disable=de(e)}});var s=a.mode==="time";if(!a.dateFormat&&(a.enableTime||s)){var l=flatpickr.defaultConfig.dateFormat||defaults$1.dateFormat;r.dateFormat=a.noCalendar||s?"H:i"+(a.enableSeconds?":S":""):l+" H:i"+(a.enableSeconds?":S":"")}if(a.altInput&&(a.enableTime||s)&&!a.altFormat){var c=flatpickr.defaultConfig.altFormat||defaults$1.altFormat;r.altFormat=a.noCalendar||s?"h:i"+(a.enableSeconds?":S K":" K"):c+(" h:i"+(a.enableSeconds?":S":"")+" K")}Object.defineProperty(i.config,"minDate",{get:function(){return i.config._minDate},set:Q("min")});Object.defineProperty(i.config,"maxDate",{get:function(){return i.config._maxDate},set:Q("max")});var u=function(e){return function(t){i.config[e==="min"?"_minTime":"_maxTime"]=i.parseDate(t,"H:i:S")}};Object.defineProperty(i.config,"minTime",{get:function(){return i.config._minTime},set:u("min")});Object.defineProperty(i.config,"maxTime",{get:function(){return i.config._maxTime},set:u("max")});if(a.mode==="time"){i.config.noCalendar=true;i.config.enableTime=true}Object.assign(i.config,r,a);for(var d=0;d<n.length;d++)i.config[n[d]]=i.config[n[d]]===true||i.config[n[d]]==="true";HOOKS.filter((function(e){return i.config[e]!==undefined})).forEach((function(e){i.config[e]=arrayify(i.config[e]||[]).map(o)}));i.isMobile=!i.config.disableMobile&&!i.config.inline&&i.config.mode==="single"&&!i.config.disable.length&&!i.config.enable&&!i.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var d=0;d<i.config.plugins.length;d++){var p=i.config.plugins[d](i)||{};for(var f in p){if(HOOKS.indexOf(f)>-1){i.config[f]=arrayify(p[f]).map(o).concat(i.config[f])}else if(typeof a[f]==="undefined")i.config[f]=p[f]}}if(!a.altInputClass){i.config.altInputClass=J().className+" "+i.config.altInputClass}ve("onParseConfig")}function J(){return i.config.wrap?e.querySelector("[data-input]"):e}function ee(){if(typeof i.config.locale!=="object"&&typeof flatpickr.l10ns[i.config.locale]==="undefined")i.config.errorHandler(new Error("flatpickr: invalid locale "+i.config.locale));i.l10n=__assign(__assign({},flatpickr.l10ns.default),typeof i.config.locale==="object"?i.config.locale:i.config.locale!=="default"?flatpickr.l10ns[i.config.locale]:undefined);tokenRegex.D="("+i.l10n.weekdays.shorthand.join("|")+")";tokenRegex.l="("+i.l10n.weekdays.longhand.join("|")+")";tokenRegex.M="("+i.l10n.months.shorthand.join("|")+")";tokenRegex.F="("+i.l10n.months.longhand.join("|")+")";tokenRegex.K="("+i.l10n.amPM[0]+"|"+i.l10n.amPM[1]+"|"+i.l10n.amPM[0].toLowerCase()+"|"+i.l10n.amPM[1].toLowerCase()+")";var n=__assign(__assign({},t),JSON.parse(JSON.stringify(e.dataset||{})));if(n.time_24hr===undefined&&flatpickr.defaultConfig.time_24hr===undefined){i.config.time_24hr=i.l10n.time_24hr}i.formatDate=createDateFormatter(i);i.parseDate=createDateParser({config:i.config,l10n:i.l10n})}function te(e){if(typeof i.config.position==="function"){return void i.config.position(i,e)}if(i.calendarContainer===undefined)return;ve("onPreCalendarPosition");var t=e||i._positionElement;var n=Array.prototype.reduce.call(i.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),a=i.calendarContainer.offsetWidth,r=i.config.position.split(" "),o=r[0],s=r.length>1?r[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u=o==="above"||o!=="below"&&c<n&&l.top>n;var d=window.pageYOffset+l.top+(!u?t.offsetHeight+2:-n-2);toggleClass(i.calendarContainer,"arrowTop",!u);toggleClass(i.calendarContainer,"arrowBottom",u);if(i.config.inline)return;var p=window.pageXOffset+l.left;var f=false;var h=false;if(s==="center"){p-=(a-l.width)/2;f=true}else if(s==="right"){p-=a-l.width;h=true}toggleClass(i.calendarContainer,"arrowLeft",!f&&!h);toggleClass(i.calendarContainer,"arrowCenter",f);toggleClass(i.calendarContainer,"arrowRight",h);var g=window.document.body.offsetWidth-(window.pageXOffset+l.right);var m=p+a>window.document.body.offsetWidth;var v=g+a>window.document.body.offsetWidth;toggleClass(i.calendarContainer,"rightMost",m);if(i.config.static)return;i.calendarContainer.style.top=d+"px";if(!m){i.calendarContainer.style.left=p+"px";i.calendarContainer.style.right="auto"}else if(!v){i.calendarContainer.style.left="auto";i.calendarContainer.style.right=g+"px"}else{var _=ie();if(_===undefined)return;var b=window.document.body.offsetWidth;var y=Math.max(0,b/2-a/2);var w=".flatpickr-calendar.centerMost:before";var x=".flatpickr-calendar.centerMost:after";var E=_.cssRules.length;var k="{left:"+l.left+"px;right:auto;}";toggleClass(i.calendarContainer,"rightMost",false);toggleClass(i.calendarContainer,"centerMost",true);_.insertRule(w+","+x+k,E);i.calendarContainer.style.left=y+"px";i.calendarContainer.style.right="auto"}}function ie(){var e=null;for(var t=0;t<document.styleSheets.length;t++){var i=document.styleSheets[t];if(!i.cssRules)continue;e=i;break}return e!=null?e:ne()}function ne(){var e=document.createElement("style");document.head.appendChild(e);return e.sheet}function ae(){if(i.config.noCalendar||i.isMobile)return;C();we();S()}function re(){i._input.focus();if(window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==undefined){setTimeout(i.close,0)}else{i.close()}}function oe(e){e.preventDefault();e.stopPropagation();var t=function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")};var n=findParent(getEventTarget(e),t);if(n===undefined)return;var a=n;var r=i.latestSelectedDateObj=new Date(a.dateObj.getTime());var o=(r.getMonth()<i.currentMonth||r.getMonth()>i.currentMonth+i.config.showMonths-1)&&i.config.mode!=="range";i.selectedDateElem=a;if(i.config.mode==="single")i.selectedDates=[r];else if(i.config.mode==="multiple"){var s=be(r);if(s)i.selectedDates.splice(parseInt(s),1);else i.selectedDates.push(r)}else if(i.config.mode==="range"){if(i.selectedDates.length===2){i.clear(false,false)}i.latestSelectedDateObj=r;i.selectedDates.push(r);if(compareDates(r,i.selectedDates[0],true)!==0)i.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}d();if(o){var l=i.currentYear!==r.getFullYear();i.currentYear=r.getFullYear();i.currentMonth=r.getMonth();if(l){ve("onYearChange");C()}ve("onMonthChange")}we();S();Ee();if(!o&&i.config.mode!=="range"&&i.config.showMonths===1)E(a);else if(i.selectedDateElem!==undefined&&i.hourElement===undefined){i.selectedDateElem&&i.selectedDateElem.focus()}if(i.hourElement!==undefined)i.hourElement!==undefined&&i.hourElement.focus();if(i.config.closeOnSelect){var c=i.config.mode==="single"&&!i.config.enableTime;var u=i.config.mode==="range"&&i.selectedDates.length===2&&!i.config.enableTime;if(c||u){re()}}m()}var se={locale:[ee,R],showMonths:[D,s,P],minDate:[_],maxDate:[_],positionElement:[he],clickOpens:[function(){if(i.config.clickOpens===true){g(i._input,"focus",i.open);g(i._input,"click",i.open)}else{i._input.removeEventListener("focus",i.open);i._input.removeEventListener("click",i.open)}}]};function le(e,t){if(e!==null&&typeof e==="object"){Object.assign(i.config,e);for(var n in e){if(se[n]!==undefined)se[n].forEach((function(e){return e()}))}}else{i.config[e]=t;if(se[e]!==undefined)se[e].forEach((function(e){return e()}));else if(HOOKS.indexOf(e)>-1)i.config[e]=arrayify(t)}i.redraw();Ee(true)}function ce(e,t){var n=[];if(e instanceof Array)n=e.map((function(e){return i.parseDate(e,t)}));else if(e instanceof Date||typeof e==="number")n=[i.parseDate(e,t)];else if(typeof e==="string"){switch(i.config.mode){case"single":case"time":n=[i.parseDate(e,t)];break;case"multiple":n=e.split(i.config.conjunction).map((function(e){return i.parseDate(e,t)}));break;case"range":n=e.split(i.l10n.rangeSeparator).map((function(e){return i.parseDate(e,t)}));break}}else i.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));i.selectedDates=i.config.allowInvalidPreload?n:n.filter((function(e){return e instanceof Date&&V(e,false)}));if(i.config.mode==="range")i.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function ue(e,t,n){if(t===void 0){t=false}if(n===void 0){n=i.config.dateFormat}if(e!==0&&!e||e instanceof Array&&e.length===0)return i.clear(t);ce(e,n);i.latestSelectedDateObj=i.selectedDates[i.selectedDates.length-1];i.redraw();_(undefined,t);p();if(i.selectedDates.length===0){i.clear(false)}Ee(t);if(t)ve("onChange")}function de(e){return e.slice().map((function(e){if(typeof e==="string"||typeof e==="number"||e instanceof Date){return i.parseDate(e,undefined,true)}else if(e&&typeof e==="object"&&e.from&&e.to)return{from:i.parseDate(e.from,undefined),to:i.parseDate(e.to,undefined)};return e})).filter((function(e){return e}))}function pe(){i.selectedDates=[];i.now=i.parseDate(i.config.now)||new Date;var e=i.config.defaultDate||((i.input.nodeName==="INPUT"||i.input.nodeName==="TEXTAREA")&&i.input.placeholder&&i.input.value===i.input.placeholder?null:i.input.value);if(e)ce(e,i.config.dateFormat);i._initialDate=i.selectedDates.length>0?i.selectedDates[0]:i.config.minDate&&i.config.minDate.getTime()>i.now.getTime()?i.config.minDate:i.config.maxDate&&i.config.maxDate.getTime()<i.now.getTime()?i.config.maxDate:i.now;i.currentYear=i._initialDate.getFullYear();i.currentMonth=i._initialDate.getMonth();if(i.selectedDates.length>0)i.latestSelectedDateObj=i.selectedDates[0];if(i.config.minTime!==undefined)i.config.minTime=i.parseDate(i.config.minTime,"H:i");if(i.config.maxTime!==undefined)i.config.maxTime=i.parseDate(i.config.maxTime,"H:i");i.minDateHasTime=!!i.config.minDate&&(i.config.minDate.getHours()>0||i.config.minDate.getMinutes()>0||i.config.minDate.getSeconds()>0);i.maxDateHasTime=!!i.config.maxDate&&(i.config.maxDate.getHours()>0||i.config.maxDate.getMinutes()>0||i.config.maxDate.getSeconds()>0)}function fe(){i.input=J();if(!i.input){i.config.errorHandler(new Error("Invalid input element specified"));return}i.input._type=i.input.type;i.input.type="text";i.input.classList.add("flatpickr-input");i._input=i.input;if(i.config.altInput){i.altInput=createElement(i.input.nodeName,i.config.altInputClass);i._input=i.altInput;i.altInput.placeholder=i.input.placeholder;i.altInput.disabled=i.input.disabled;i.altInput.required=i.input.required;i.altInput.tabIndex=i.input.tabIndex;i.altInput.type="text";i.input.setAttribute("type","hidden");if(!i.config.static&&i.input.parentNode)i.input.parentNode.insertBefore(i.altInput,i.input.nextSibling)}if(!i.config.allowInput)i._input.setAttribute("readonly","readonly");he()}function he(){i._positionElement=i.config.positionElement||i._input}function ge(){var e=i.config.enableTime?i.config.noCalendar?"time":"datetime-local":"date";i.mobileInput=createElement("input",i.input.className+" flatpickr-mobile");i.mobileInput.tabIndex=1;i.mobileInput.type=e;i.mobileInput.disabled=i.input.disabled;i.mobileInput.required=i.input.required;i.mobileInput.placeholder=i.input.placeholder;i.mobileFormatStr=e==="datetime-local"?"Y-m-d\\TH:i:S":e==="date"?"Y-m-d":"H:i:S";if(i.selectedDates.length>0){i.mobileInput.defaultValue=i.mobileInput.value=i.formatDate(i.selectedDates[0],i.mobileFormatStr)}if(i.config.minDate)i.mobileInput.min=i.formatDate(i.config.minDate,"Y-m-d");if(i.config.maxDate)i.mobileInput.max=i.formatDate(i.config.maxDate,"Y-m-d");if(i.input.getAttribute("step"))i.mobileInput.step=String(i.input.getAttribute("step"));i.input.type="hidden";if(i.altInput!==undefined)i.altInput.type="hidden";try{if(i.input.parentNode)i.input.parentNode.insertBefore(i.mobileInput,i.input.nextSibling)}catch(e){}g(i.mobileInput,"change",(function(e){i.setDate(getEventTarget(e).value,false,i.mobileFormatStr);ve("onChange");ve("onClose")}))}function me(e){if(i.isOpen===true)return i.close();i.open(e)}function ve(e,t){if(i.config===undefined)return;var n=i.config[e];if(n!==undefined&&n.length>0){for(var a=0;n[a]&&a<n.length;a++)n[a](i.selectedDates,i.input.value,i,t)}if(e==="onChange"){i.input.dispatchEvent(_e("change"));i.input.dispatchEvent(_e("input"))}}function _e(e){var t=document.createEvent("Event");t.initEvent(e,true,true);return t}function be(e){for(var t=0;t<i.selectedDates.length;t++){var n=i.selectedDates[t];if(n instanceof Date&&compareDates(n,e)===0)return""+t}return false}function ye(e){if(i.config.mode!=="range"||i.selectedDates.length<2)return false;return compareDates(e,i.selectedDates[0])>=0&&compareDates(e,i.selectedDates[1])<=0}function we(){if(i.config.noCalendar||i.isMobile||!i.monthNav)return;i.yearElements.forEach((function(e,t){var n=new Date(i.currentYear,i.currentMonth,1);n.setMonth(i.currentMonth+t);if(i.config.showMonths>1||i.config.monthSelectorType==="static"){i.monthElements[t].textContent=monthToStr(n.getMonth(),i.config.shorthandCurrentMonth,i.l10n)+" "}else{i.monthsDropdownContainer.value=n.getMonth().toString()}e.value=n.getFullYear().toString()}));i._hidePrevMonthArrow=i.config.minDate!==undefined&&(i.currentYear===i.config.minDate.getFullYear()?i.currentMonth<=i.config.minDate.getMonth():i.currentYear<i.config.minDate.getFullYear());i._hideNextMonthArrow=i.config.maxDate!==undefined&&(i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth+1>i.config.maxDate.getMonth():i.currentYear>i.config.maxDate.getFullYear())}function xe(e){var t=e||(i.config.altInput?i.config.altFormat:i.config.dateFormat);return i.selectedDates.map((function(e){return i.formatDate(e,t)})).filter((function(e,t,n){return i.config.mode!=="range"||i.config.enableTime||n.indexOf(e)===t})).join(i.config.mode!=="range"?i.config.conjunction:i.l10n.rangeSeparator)}function Ee(e){if(e===void 0){e=true}if(i.mobileInput!==undefined&&i.mobileFormatStr){i.mobileInput.value=i.latestSelectedDateObj!==undefined?i.formatDate(i.latestSelectedDateObj,i.mobileFormatStr):""}i.input.value=xe(i.config.dateFormat);if(i.altInput!==undefined){i.altInput.value=xe(i.config.altFormat)}if(e!==false)ve("onValueUpdate")}function ke(e){var t=getEventTarget(e);var n=i.prevMonthNav.contains(t);var a=i.nextMonthNav.contains(t);if(n||a){F(n?-1:1)}else if(i.yearElements.indexOf(t)>=0){t.select()}else if(t.classList.contains("arrowUp")){i.changeYear(i.currentYear+1)}else if(t.classList.contains("arrowDown")){i.changeYear(i.currentYear-1)}}function Ie(e){e.preventDefault();var t=e.type==="keydown",n=getEventTarget(e),a=n;if(i.amPM!==undefined&&n===i.amPM){i.amPM.textContent=i.l10n.amPM[int(i.amPM.textContent===i.l10n.amPM[0])]}var r=parseFloat(a.getAttribute("min")),o=parseFloat(a.getAttribute("max")),s=parseFloat(a.getAttribute("step")),l=parseInt(a.value,10),c=e.delta||(t?e.which===38?1:-1:0);var u=l+s*c;if(typeof a.value!=="undefined"&&a.value.length===2){var d=a===i.hourElement,p=a===i.minuteElement;if(u<r){u=o+u+int(!d)+(int(d)&&int(!i.amPM));if(p)y(undefined,-1,i.hourElement)}else if(u>o){u=a===i.hourElement?u-o-int(!i.amPM):r;if(p)y(undefined,1,i.hourElement)}if(i.amPM&&d&&(s===1?u+l===23:Math.abs(u-l)>s)){i.amPM.textContent=i.l10n.amPM[int(i.amPM.textContent===i.l10n.amPM[0])]}a.value=pad(u)}}a();return i}function _flatpickr(e,t){var i=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement}));var n=[];for(var a=0;a<i.length;a++){var r=i[a];try{if(r.getAttribute("data-fp-omit")!==null)continue;if(r._flatpickr!==undefined){r._flatpickr.destroy();r._flatpickr=undefined}r._flatpickr=FlatpickrInstance(r,t||{});n.push(r._flatpickr)}catch(e){console.error(e)}}return n.length===1?n[0]:n}if(typeof HTMLElement!=="undefined"&&typeof HTMLCollection!=="undefined"&&typeof NodeList!=="undefined"){HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return _flatpickr(this,e)};HTMLElement.prototype.flatpickr=function(e){return _flatpickr([this],e)}}var flatpickr=function(e,t){if(typeof e==="string"){return _flatpickr(window.document.querySelectorAll(e),t)}else if(e instanceof Node){return _flatpickr([e],t)}else{return _flatpickr(e,t)}};flatpickr.defaultConfig={};flatpickr.l10ns={en:__assign({},english),default:__assign({},english)};flatpickr.localize=function(e){flatpickr.l10ns.default=__assign(__assign({},flatpickr.l10ns.default),e)};flatpickr.setDefaults=function(e){flatpickr.defaultConfig=__assign(__assign({},flatpickr.defaultConfig),e)};flatpickr.parseDate=createDateParser({});flatpickr.formatDate=createDateFormatter({});flatpickr.compareDates=compareDates;if(typeof jQuery!=="undefined"&&typeof jQuery.fn!=="undefined"){jQuery.fn.flatpickr=function(e){return _flatpickr(this,e)}}Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e==="string"?parseInt(e,10):e))};if(typeof window!=="undefined"){window.flatpickr=flatpickr}var sallaDatetimePickerCss='.flatpickr-calendar{background:transparent;opacity:0;display:none;text-align:center;visibility:hidden;padding:0;-webkit-animation:none;animation:none;direction:ltr;border:0;font-size:14px;line-height:24px;border-radius:5px;position:absolute;width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-touch-action:manipulation;touch-action:manipulation;background:#fff;-webkit-box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08);box-shadow:1px 0 0 #e6e6e6,-1px 0 0 #e6e6e6,0 1px 0 #e6e6e6,0 -1px 0 #e6e6e6,0 3px 13px rgba(0,0,0,0.08)}.flatpickr-calendar.open,.flatpickr-calendar.inline{opacity:1;max-height:640px;visibility:visible}.flatpickr-calendar.open{display:inline-block;z-index:99999}.flatpickr-calendar.animate.open{-webkit-animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1);animation:fpFadeInDown 300ms cubic-bezier(.23,1,.32,1)}.flatpickr-calendar.inline{display:block;position:relative;top:2px}.flatpickr-calendar.static{position:absolute;top:calc(100% + 2px)}.flatpickr-calendar.static.open{z-index:999;display:block}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+1) .flatpickr-day.inRange:nth-child(7n+7){-webkit-box-shadow:none !important;box-shadow:none !important}.flatpickr-calendar.multiMonth .flatpickr-days .dayContainer:nth-child(n+2) .flatpickr-day.inRange:nth-child(7n+1){-webkit-box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-2px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-calendar .hasWeeks .dayContainer,.flatpickr-calendar .hasTime .dayContainer{border-bottom:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.flatpickr-calendar .hasWeeks .dayContainer{border-left:0}.flatpickr-calendar.hasTime .flatpickr-time{height:40px;border-top:1px solid #e6e6e6}.flatpickr-calendar.noCalendar.hasTime .flatpickr-time{height:auto}.flatpickr-calendar:before,.flatpickr-calendar:after{position:absolute;display:block;pointer-events:none;border:solid transparent;content:\'\';height:0;width:0;left:22px}.flatpickr-calendar.rightMost:before,.flatpickr-calendar.arrowRight:before,.flatpickr-calendar.rightMost:after,.flatpickr-calendar.arrowRight:after{left:auto;right:22px}.flatpickr-calendar.arrowCenter:before,.flatpickr-calendar.arrowCenter:after{left:50%;right:50%}.flatpickr-calendar:before{border-width:5px;margin:0 -5px}.flatpickr-calendar:after{border-width:4px;margin:0 -4px}.flatpickr-calendar.arrowTop:before,.flatpickr-calendar.arrowTop:after{bottom:100%}.flatpickr-calendar.arrowTop:before{border-bottom-color:#e6e6e6}.flatpickr-calendar.arrowTop:after{border-bottom-color:#fff}.flatpickr-calendar.arrowBottom:before,.flatpickr-calendar.arrowBottom:after{top:100%}.flatpickr-calendar.arrowBottom:before{border-top-color:#e6e6e6}.flatpickr-calendar.arrowBottom:after{border-top-color:#fff}.flatpickr-calendar:focus{outline:0}.flatpickr-wrapper{position:relative;display:inline-block}.flatpickr-months{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-months .flatpickr-month{background:transparent;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9);height:34px;line-height:1;text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.flatpickr-months .flatpickr-prev-month,.flatpickr-months .flatpickr-next-month{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-decoration:none;cursor:pointer;position:absolute;top:0;height:34px;padding:10px;z-index:3;color:rgba(0,0,0,0.9);fill:rgba(0,0,0,0.9)}.flatpickr-months .flatpickr-prev-month.flatpickr-disabled,.flatpickr-months .flatpickr-next-month.flatpickr-disabled{display:none}.flatpickr-months .flatpickr-prev-month i,.flatpickr-months .flatpickr-next-month i{position:relative}.flatpickr-months .flatpickr-prev-month.flatpickr-prev-month,.flatpickr-months .flatpickr-next-month.flatpickr-prev-month{left:0}.flatpickr-months .flatpickr-prev-month.flatpickr-next-month,.flatpickr-months .flatpickr-next-month.flatpickr-next-month{right:0}.flatpickr-months .flatpickr-prev-month:hover,.flatpickr-months .flatpickr-next-month:hover{color:#959ea9}.flatpickr-months .flatpickr-prev-month:hover svg,.flatpickr-months .flatpickr-next-month:hover svg{fill:#f64747}.flatpickr-months .flatpickr-prev-month svg,.flatpickr-months .flatpickr-next-month svg{width:14px;height:14px}.flatpickr-months .flatpickr-prev-month svg path,.flatpickr-months .flatpickr-next-month svg path{-webkit-transition:fill .1s;transition:fill .1s;fill:inherit}.numInputWrapper{position:relative;height:auto}.numInputWrapper input,.numInputWrapper span{display:inline-block}.numInputWrapper input{width:100%}.numInputWrapper input::-ms-clear{display:none}.numInputWrapper input::-webkit-outer-spin-button,.numInputWrapper input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.numInputWrapper span{position:absolute;right:0;width:14px;padding:0 4px 0 2px;height:50%;line-height:50%;opacity:0;cursor:pointer;border:1px solid rgba(57,57,57,0.15);-webkit-box-sizing:border-box;box-sizing:border-box}.numInputWrapper span:hover{background:rgba(0,0,0,0.1)}.numInputWrapper span:active{background:rgba(0,0,0,0.2)}.numInputWrapper span:after{display:block;content:"";position:absolute}.numInputWrapper span.arrowUp{top:0;border-bottom:0}.numInputWrapper span.arrowUp:after{border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(57,57,57,0.6);top:26%}.numInputWrapper span.arrowDown{top:50%}.numInputWrapper span.arrowDown:after{border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid rgba(57,57,57,0.6);top:40%}.numInputWrapper span svg{width:inherit;height:auto}.numInputWrapper span svg path{fill:rgba(0,0,0,0.5)}.numInputWrapper:hover{background:rgba(0,0,0,0.05)}.numInputWrapper:hover span{opacity:1}.flatpickr-current-month{font-size:135%;line-height:inherit;font-weight:300;color:inherit;position:absolute;width:75%;left:12.5%;padding:7.48px 0 0 0;line-height:1;height:34px;display:inline-block;text-align:center;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.flatpickr-current-month span.cur-month{font-family:inherit;font-weight:700;color:inherit;display:inline-block;margin-left:.5ch;padding:0}.flatpickr-current-month span.cur-month:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .numInputWrapper{width:6ch;width:7ch\\0;display:inline-block}.flatpickr-current-month .numInputWrapper span.arrowUp:after{border-bottom-color:rgba(0,0,0,0.9)}.flatpickr-current-month .numInputWrapper span.arrowDown:after{border-top-color:rgba(0,0,0,0.9)}.flatpickr-current-month input.cur-year{background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:inherit;cursor:text;padding:0 0 0 .5ch;margin:0;display:inline-block;font-size:inherit;font-family:inherit;font-weight:300;line-height:inherit;height:auto;border:0;border-radius:0;vertical-align:initial;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-current-month input.cur-year:focus{outline:0}.flatpickr-current-month input.cur-year[disabled],.flatpickr-current-month input.cur-year[disabled]:hover{font-size:100%;color:rgba(0,0,0,0.5);background:transparent;pointer-events:none}.flatpickr-current-month .flatpickr-monthDropdown-months{appearance:menulist;background:transparent;border:none;border-radius:0;box-sizing:border-box;color:inherit;cursor:pointer;font-size:inherit;font-family:inherit;font-weight:300;height:auto;line-height:inherit;margin:-1px 0 0 0;outline:none;padding:0 0 0 .5ch;position:relative;vertical-align:initial;-webkit-box-sizing:border-box;-webkit-appearance:menulist;-moz-appearance:menulist;width:auto}.flatpickr-current-month .flatpickr-monthDropdown-months:focus,.flatpickr-current-month .flatpickr-monthDropdown-months:active{outline:none}.flatpickr-current-month .flatpickr-monthDropdown-months:hover{background:rgba(0,0,0,0.05)}.flatpickr-current-month .flatpickr-monthDropdown-months .flatpickr-monthDropdown-month{background-color:transparent;outline:none;padding:0}.flatpickr-weekdays{background:transparent;text-align:center;overflow:hidden;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:28px}.flatpickr-weekdays .flatpickr-weekdaycontainer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}span.flatpickr-weekday{cursor:default;font-size:90%;background:transparent;color:rgba(0,0,0,0.54);line-height:1;margin:0;text-align:center;display:block;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;font-weight:bolder}.dayContainer,.flatpickr-weeks{padding:1px 0 0 0}.flatpickr-days{position:relative;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-ms-flex-align:start;align-items:flex-start;width:307.875px}.flatpickr-days:focus{outline:0}.dayContainer{padding:0;outline:0;text-align:left;width:307.875px;min-width:307.875px;max-width:307.875px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-wrap:wrap;-ms-flex-pack:justify;-webkit-justify-content:space-around;justify-content:space-around;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);opacity:1}.dayContainer+.dayContainer{-webkit-box-shadow:-1px 0 0 #e6e6e6;box-shadow:-1px 0 0 #e6e6e6}.flatpickr-day{background:none;border:1px solid transparent;border-radius:150px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#393939;cursor:pointer;font-weight:400;width:14.2857143%;-webkit-flex-basis:14.2857143%;-ms-flex-preferred-size:14.2857143%;flex-basis:14.2857143%;max-width:39px;height:39px;line-height:39px;margin:0;display:inline-block;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;text-align:center}.flatpickr-day.inRange,.flatpickr-day.prevMonthDay.inRange,.flatpickr-day.nextMonthDay.inRange,.flatpickr-day.today.inRange,.flatpickr-day.prevMonthDay.today.inRange,.flatpickr-day.nextMonthDay.today.inRange,.flatpickr-day:hover,.flatpickr-day.prevMonthDay:hover,.flatpickr-day.nextMonthDay:hover,.flatpickr-day:focus,.flatpickr-day.prevMonthDay:focus,.flatpickr-day.nextMonthDay:focus{cursor:pointer;outline:0;background:#e6e6e6;border-color:#e6e6e6}.flatpickr-day.today{border-color:#959ea9}.flatpickr-day.today:hover,.flatpickr-day.today:focus{border-color:#959ea9;background:#959ea9;color:#fff}.flatpickr-day.selected,.flatpickr-day.startRange,.flatpickr-day.endRange,.flatpickr-day.selected.inRange,.flatpickr-day.startRange.inRange,.flatpickr-day.endRange.inRange,.flatpickr-day.selected:focus,.flatpickr-day.startRange:focus,.flatpickr-day.endRange:focus,.flatpickr-day.selected:hover,.flatpickr-day.startRange:hover,.flatpickr-day.endRange:hover,.flatpickr-day.selected.prevMonthDay,.flatpickr-day.startRange.prevMonthDay,.flatpickr-day.endRange.prevMonthDay,.flatpickr-day.selected.nextMonthDay,.flatpickr-day.startRange.nextMonthDay,.flatpickr-day.endRange.nextMonthDay{background:#569ff7;-webkit-box-shadow:none;box-shadow:none;color:#fff;border-color:#569ff7}.flatpickr-day.selected.startRange,.flatpickr-day.startRange.startRange,.flatpickr-day.endRange.startRange{border-radius:50px 0 0 50px}.flatpickr-day.selected.endRange,.flatpickr-day.startRange.endRange,.flatpickr-day.endRange.endRange{border-radius:0 50px 50px 0}.flatpickr-day.selected.startRange+.endRange:not(:nth-child(7n+1)),.flatpickr-day.startRange.startRange+.endRange:not(:nth-child(7n+1)),.flatpickr-day.endRange.startRange+.endRange:not(:nth-child(7n+1)){-webkit-box-shadow:-10px 0 0 #569ff7;box-shadow:-10px 0 0 #569ff7}.flatpickr-day.selected.startRange.endRange,.flatpickr-day.startRange.startRange.endRange,.flatpickr-day.endRange.startRange.endRange{border-radius:50px}.flatpickr-day.inRange{border-radius:0;-webkit-box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6;box-shadow:-5px 0 0 #e6e6e6,5px 0 0 #e6e6e6}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover,.flatpickr-day.prevMonthDay,.flatpickr-day.nextMonthDay,.flatpickr-day.notAllowed,.flatpickr-day.notAllowed.prevMonthDay,.flatpickr-day.notAllowed.nextMonthDay{color:rgba(57,57,57,0.3);background:transparent;border-color:transparent;cursor:default}.flatpickr-day.flatpickr-disabled,.flatpickr-day.flatpickr-disabled:hover{cursor:not-allowed;color:rgba(57,57,57,0.1)}.flatpickr-day.week.selected{border-radius:0;-webkit-box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7;box-shadow:-5px 0 0 #569ff7,5px 0 0 #569ff7}.flatpickr-day.hidden{visibility:hidden}.rangeMode .flatpickr-day{margin-top:1px}.flatpickr-weekwrapper{float:left}.flatpickr-weekwrapper .flatpickr-weeks{padding:0 12px;-webkit-box-shadow:1px 0 0 #e6e6e6;box-shadow:1px 0 0 #e6e6e6}.flatpickr-weekwrapper .flatpickr-weekday{float:none;width:100%;line-height:28px}.flatpickr-weekwrapper span.flatpickr-day,.flatpickr-weekwrapper span.flatpickr-day:hover{display:block;width:100%;max-width:none;color:rgba(57,57,57,0.3);background:transparent;cursor:default;border:none}.flatpickr-innerContainer{display:block;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}.flatpickr-rContainer{display:inline-block;padding:0;-webkit-box-sizing:border-box;box-sizing:border-box}.flatpickr-time{text-align:center;outline:0;display:block;height:0;line-height:40px;max-height:40px;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.flatpickr-time:after{content:"";display:table;clear:both}.flatpickr-time .numInputWrapper{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:40%;height:40px;float:left}.flatpickr-time .numInputWrapper span.arrowUp:after{border-bottom-color:#393939}.flatpickr-time .numInputWrapper span.arrowDown:after{border-top-color:#393939}.flatpickr-time.hasSeconds .numInputWrapper{width:26%}.flatpickr-time.time24hr .numInputWrapper{width:49%}.flatpickr-time input{background:transparent;-webkit-box-shadow:none;box-shadow:none;border:0;border-radius:0;text-align:center;margin:0;padding:0;height:inherit;line-height:inherit;color:#393939;font-size:14px;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.flatpickr-time input.flatpickr-hour{font-weight:bold}.flatpickr-time input.flatpickr-minute,.flatpickr-time input.flatpickr-second{font-weight:400}.flatpickr-time input:focus{outline:0;border:0}.flatpickr-time .flatpickr-time-separator,.flatpickr-time .flatpickr-am-pm{height:inherit;float:left;line-height:inherit;color:#393939;font-weight:bold;width:2%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center}.flatpickr-time .flatpickr-am-pm{outline:0;width:18%;cursor:pointer;text-align:center;font-weight:400}.flatpickr-time input:hover,.flatpickr-time .flatpickr-am-pm:hover,.flatpickr-time input:focus,.flatpickr-time .flatpickr-am-pm:focus{background:#eee}.flatpickr-input[readonly]{cursor:pointer}@-webkit-keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}@keyframes fpFadeInDown{from{opacity:0;-webkit-transform:translate3d(0,-20px,0);transform:translate3d(0,-20px,0)}to{opacity:1;-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}}';var SallaDatetimePicker=function(){function e(e){registerInstance(this,e);this.picked=createEvent(this,"picked",7);this.invalidInput=createEvent(this,"invalidInput",7);this.value=null;this.required=undefined;this.name=undefined;this.placeholder=salla.lang.get("blocks.buy_as_gift.select_send_date_and_time");this.allowInput=true;this.allowInvalidPreload=false;this.altFormat="F j, Y";this.altInput=false;this.altInputClass=undefined;this.appendTo=undefined;this.ariaDateFormat="F j, Y";this.autoFillDefaultTime=true;this.clickOpens=true;this.closeOnSelect=true;this.conjunction=undefined;this.dateFormat="Y-m-d";this.defaultDate=undefined;this.defaultHour=12;this.defaultMinute=0;this.defaultSeconds=0;this.disable=[];this.disableMobile=false;this.enable=[function(e){return true}];this.enableSeconds=false;this.enableTime=false;this.formatDate=undefined;this.hourIncrement=1;this.inline=false;this.locale="en";this.maxDate=null;this.maxTime=null;this.minDate=null;this.minTime=null;this.minuteIncrement=5;this.mode="single";this.monthSelectorType="dropdown";this.nextArrow='<span class="sicon-keyboard_arrow_right"></span>';this.noCalendar=false;this.dateParser=undefined;this.position="auto";this.positionElement=undefined;this.prevArrow='<span class="sicon-keyboard_arrow_left"></span>';this.shorthandCurrentMonth=false;this.static=false;this.showMonths=1;this.time_24hr=false;this.weekNumbers=false;this.wrap=false}e.prototype.render=function(){var e=this;return h("div",{class:"s-datetime-picker"},h("input",{type:"datetime",name:this.name,value:this.value,required:this.required,placeholder:this.placeholder,class:"s-datetime-picker-input",ref:function(t){return e.dateInput=t}}))};e.prototype.componentDidLoad=function(){var e=this;var t={allowInput:this.allowInput,allowInvalidPreload:this.allowInvalidPreload,altFormat:this.altFormat,altInput:this.altInput,altInputClass:this.altInputClass,appendTo:this.appendTo,ariaDateFormat:this.ariaDateFormat,autoFillDefaultTime:this.autoFillDefaultTime,clickOpens:this.clickOpens,closeOnSelect:this.closeOnSelect,conjunction:this.conjunction,dateFormat:this.dateFormat,defaultDate:!!this.value?Date.parse(this.value):this.defaultDate,defaultHour:this.defaultHour,defaultMinute:this.defaultMinute,defaultSeconds:this.defaultSeconds,disable:this.disable,disableMobile:this.disableMobile,enable:this.enable,enableSeconds:this.enableSeconds,enableTime:this.enableTime,formatDate:this.formatDate,hourIncrement:this.hourIncrement,inline:this.inline,locale:this.locale,maxDate:this.maxDate,maxTime:this.maxTime,minDate:this.minDate,minTime:this.minTime,minuteIncrement:this.minuteIncrement,mode:this.mode,monthSelectorType:this.monthSelectorType,nextArrow:this.nextArrow,noCalendar:this.noCalendar,parseDate:this.dateParser,position:this.position,positionElement:this.positionElement,prevArrow:this.prevArrow,shorthandCurrentMonth:this.shorthandCurrentMonth,static:this.static,showMonths:this.showMonths,time_24hr:this.time_24hr,weekNumbers:this.weekNumbers,wrap:this.wrap,onChange:function(t,i){return e.picked.emit(e.value=i)}};flatpickr(this.dateInput,t);this.dateInput.addEventListener("invalid",(function(t){e.invalidInput.emit(t)}));this.dateInput.addEventListener("input",(function(){e.dateInput.setCustomValidity("");e.dateInput.reportValidity()}))};return e}();SallaDatetimePicker.style=sallaDatetimePickerCss;var filepond=createCommonjsModule((function(e,t){
/*!
   * FilePond 4.30.4
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(e,i){i(t)})(commonjsGlobal,(function(e){var t=function e(t){return t instanceof HTMLElement};var i=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var a=Object.assign({},t);var r=[];var o=[];var s=function e(){return Object.assign({},a)};var l=function e(){var t=[].concat(r);r.length=0;return t};var c=function e(){var t=[].concat(o);o.length=0;t.forEach((function(e){var t=e.type,i=e.data;u(t,i)}))};var u=function e(t,i,n){if(n&&!document.hidden){o.push({type:t,data:i});return}if(h[t]){h[t](i)}r.push({type:t,data:i})};var d=function e(t){var i;for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++){a[r-1]=arguments[r]}return f[t]?(i=f)[t].apply(i,a):null};var p={getState:s,processActionQueue:l,processDispatchQueue:c,dispatch:u,query:d};var f={};i.forEach((function(e){f=Object.assign({},e(a),{},f)}));var h={};n.forEach((function(e){h=Object.assign({},e(u,d,a),{},h)}));return p};var n=function e(t,i,n){if(typeof n==="function"){t[i]=n;return}Object.defineProperty(t,i,Object.assign({},n))};var a=function e(t,i){for(var n in t){if(!t.hasOwnProperty(n)){continue}i(n,t[n])}};var r=function e(t){var i={};a(t,(function(e){n(i,e,t[e])}));return i};var o=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(n===null){return t.getAttribute(i)||t.hasAttribute(i)}t.setAttribute(i,n)};var s="http://www.w3.org/2000/svg";var l=["svg","path"];var c=function e(t){return l.includes(t)};var u=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(typeof i==="object"){n=i;i=null}var r=c(t)?document.createElementNS(s,t):document.createElement(t);if(i){if(c(t)){o(r,"class",i)}else{r.className=i}}a(n,(function(e,t){o(r,e,t)}));return r};var d=function e(t){return function(e,i){if(typeof i!=="undefined"&&t.children[i]){t.insertBefore(e,t.children[i])}else{t.appendChild(e)}}};var p=function e(t,i){return function(e,t){if(typeof t!=="undefined"){i.splice(t,0,e)}else{i.push(e)}return e}};var f=function e(t,i){return function(e){i.splice(i.indexOf(e),1);if(e.element.parentNode){t.removeChild(e.element)}return e}};var h=function(){return typeof window!=="undefined"&&typeof window.document!=="undefined"}();var g=function e(){return h};var m=g()?u("svg"):{};var v="children"in m?function(e){return e.children.length}:function(e){return e.childNodes.length};var _=function e(t,i,n,a){var r=n[0]||t.left;var o=n[1]||t.top;var s=r+t.width;var l=o+t.height*(a[1]||1);var c={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:r,top:o,right:s,bottom:l}};i.filter((function(e){return!e.isRectIgnored()})).map((function(e){return e.rect})).forEach((function(e){b(c.inner,Object.assign({},e.inner));b(c.outer,Object.assign({},e.outer))}));y(c.inner);c.outer.bottom+=c.element.marginBottom;c.outer.right+=c.element.marginRight;y(c.outer);return c};var b=function e(t,i){i.top+=t.top;i.right+=t.left;i.bottom+=t.top;i.left+=t.left;if(i.bottom>t.bottom){t.bottom=i.bottom}if(i.right>t.right){t.right=i.right}};var y=function e(t){t.width=t.right-t.left;t.height=t.bottom-t.top};var w=function e(t){return typeof t==="number"};var x=function e(t,i,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:.001;return Math.abs(t-i)<a&&Math.abs(n)<a};var E=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.stiffness,n=i===void 0?.5:i,a=t.damping,o=a===void 0?.75:a,s=t.mass,l=s===void 0?10:s;var c=null;var u=null;var d=0;var p=false;var f=function e(t,i){if(p)return;if(!(w(c)&&w(u))){p=true;d=0;return}var a=-(u-c)*n;d+=a/l;u+=d;d*=o;if(x(u,c,d)||i){u=c;d=0;p=true;g.onupdate(u);g.oncomplete(u)}else{g.onupdate(u)}};var h=function e(t){if(w(t)&&!w(u)){u=t}if(c===null){c=t;u=t}c=t;if(u===c||typeof c==="undefined"){p=true;d=0;g.onupdate(u);g.oncomplete(u);return}p=false};var g=r({interpolate:f,target:{set:h,get:function e(){return c}},resting:{get:function e(){return p}},onupdate:function e(t){},oncomplete:function e(t){}});return g};var k=function e(t){return t<.5?2*t*t:-1+(4-2*t)*t};var I=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.duration,n=i===void 0?500:i,a=t.easing,o=a===void 0?k:a,s=t.delay,l=s===void 0?0:s;var c=null;var u;var d;var p=true;var f=false;var h=null;var g=function e(t,i){if(p||h===null)return;if(c===null){c=t}if(t-c<l)return;u=t-c-l;if(u>=n||i){u=1;d=f?0:1;m.onupdate(d*h);m.oncomplete(d*h);p=true}else{d=u/n;m.onupdate((u>=0?o(f?1-d:d):0)*h)}};var m=r({interpolate:g,target:{get:function e(){return f?0:h},set:function e(t){if(h===null){h=t;m.onupdate(t);m.oncomplete(t);return}if(t<h){h=1;f=true}else{f=false;h=t}p=false;c=null}},resting:{get:function e(){return p}},onupdate:function e(t){},oncomplete:function e(t){}});return m};var T={spring:E,tween:I};var A=function e(t,i,n){var a=t[i]&&typeof t[i][n]==="object"?t[i][n]:t[i]||t;var r=typeof a==="string"?a:a.type;var o=typeof a==="object"?Object.assign({},a):{};return T[r]?T[r](o):null};var S=function e(t,i,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;i=Array.isArray(i)?i:[i];i.forEach((function(e){t.forEach((function(t){var i=t;var r=function e(){return n[t]};var o=function e(i){return n[t]=i};if(typeof t==="object"){i=t.key;r=t.getter||r;o=t.setter||o}if(e[i]&&!a){return}e[i]={get:r,set:o}}))}))};var C=function e(t){var i=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,o=t.viewExternalAPI;var s=Object.assign({},n);var e=[];a(i,(function(t,i){var a=A(i);if(!a){return}a.onupdate=function(e){n[t]=e};a.target=s[t];var l={key:t,setter:function e(t){if(a.target===t){return}a.target=t},getter:function e(){return n[t]}};S([l],[r,o],n,true);e.push(a)}));return{write:function t(i){var n=document.hidden;var a=true;e.forEach((function(e){if(!e.resting)a=false;e.interpolate(i,n)}));return a},destroy:function e(){}}};var M=function e(t){return function(e,i){t.addEventListener(e,i)}};var D=function e(t){return function(e,i){t.removeEventListener(e,i)}};var L=function e(t){var i=t.viewExternalAPI,n=t.view;var a=[];var r=M(n.element);var o=D(n.element);i.on=function(e,t){a.push({type:e,fn:t});r(e,t)};i.off=function(e,t){a.splice(a.findIndex((function(i){return i.type===e&&i.fn===t})),1);o(e,t)};return{write:function e(){return true},destroy:function e(){a.forEach((function(e){o(e.type,e.fn)}))}}};var O=function e(t){var i=t.mixinConfig,n=t.viewProps,a=t.viewExternalAPI;S(i,a,n)};var P=function e(t){return t!=null};var R={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0};var N=function e(t){var i=t.mixinConfig,n=t.viewProps,a=t.viewInternalAPI,r=t.viewExternalAPI,o=t.view;var s=Object.assign({},n);var l={};S(i,[a,r],n);var c=function e(){return[n["translateX"]||0,n["translateY"]||0]};var u=function e(){return[n["scaleX"]||0,n["scaleY"]||0]};var d=function e(){return o.rect?_(o.rect,o.childViews,c(),u()):null};a.rect={get:d};r.rect={get:d};i.forEach((function(e){n[e]=typeof s[e]==="undefined"?R[e]:s[e]}));return{write:function e(){if(!F(l,n)){return}G(o.element,n);Object.assign(l,Object.assign({},n));return true},destroy:function e(){}}};var F=function e(t,i){if(Object.keys(t).length!==Object.keys(i).length){return true}for(var n in i){if(i[n]!==t[n]){return true}}return false};var G=function e(t,i){var n=i.opacity,a=i.perspective,r=i.translateX,o=i.translateY,s=i.scaleX,l=i.scaleY,c=i.rotateX,u=i.rotateY,d=i.rotateZ,p=i.originX,f=i.originY,h=i.width,g=i.height;var m="";var v="";if(P(p)||P(f)){v+="transform-origin: "+(p||0)+"px "+(f||0)+"px;"}if(P(a)){m+="perspective("+a+"px) "}if(P(r)||P(o)){m+="translate3d("+(r||0)+"px, "+(o||0)+"px, 0) "}if(P(s)||P(l)){m+="scale3d("+(P(s)?s:1)+", "+(P(l)?l:1)+", 1) "}if(P(d)){m+="rotateZ("+d+"rad) "}if(P(c)){m+="rotateX("+c+"rad) "}if(P(u)){m+="rotateY("+u+"rad) "}if(m.length){v+="transform:"+m+";"}if(P(n)){v+="opacity:"+n+";";if(n===0){v+="visibility:hidden;"}if(n<1){v+="pointer-events:none;"}}if(P(g)){v+="height:"+g+"px;"}if(P(h)){v+="width:"+h+"px;"}var _=t.elementCurrentStyle||"";if(v.length!==_.length||v!==_){t.style.cssText=v;t.elementCurrentStyle=v}};var z={styles:N,listeners:L,animations:C,apis:O};var B=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!i.layoutCalculated){t.paddingTop=parseInt(n.paddingTop,10)||0;t.marginTop=parseInt(n.marginTop,10)||0;t.marginRight=parseInt(n.marginRight,10)||0;t.marginBottom=parseInt(n.marginBottom,10)||0;t.marginLeft=parseInt(n.marginLeft,10)||0;i.layoutCalculated=true}t.left=i.offsetLeft||0;t.top=i.offsetTop||0;t.width=i.offsetWidth||0;t.height=i.offsetHeight||0;t.right=t.left+t.width;t.bottom=t.top+t.height;t.scrollTop=i.scrollTop;t.hidden=i.offsetParent===null;return t};var q=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.tag,n=i===void 0?"div":i,a=t.name,o=a===void 0?null:a,s=t.attributes,l=s===void 0?{}:s,c=t.read,h=c===void 0?function(){}:c,g=t.write,m=g===void 0?function(){}:g,b=t.create,y=b===void 0?function(){}:b,w=t.destroy,x=w===void 0?function(){}:w,E=t.filterFrameActionsForChild,k=E===void 0?function(e,t){return t}:E,I=t.didCreateView,T=I===void 0?function(){}:I,A=t.didWriteView,S=A===void 0?function(){}:A,C=t.ignoreRect,M=C===void 0?false:C,D=t.ignoreRectUpdate,L=D===void 0?false:D,O=t.mixins,P=O===void 0?[]:O;return function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=u(n,"filepond--"+o,l);var a=window.getComputedStyle(i,null);var s=B();var c=null;var g=false;var b=[];var w=[];var E={};var I={};var A=[m];var C=[h];var D=[x];var O=function e(){return i};var R=function e(){return b.concat()};var N=function e(){return E};var F=function e(t){return function(e,i){return e(t,i)}};var G=function e(){if(c){return c}c=_(s,b,[0,0],[1,1]);return c};var q=function e(){return a};var H=function e(){c=null;b.forEach((function(e){return e._read()}));var n=!(L&&s.width&&s.height);if(n){B(s,i,a)}var r={root:K,props:t,rect:s};C.forEach((function(e){return e(r)}))};var U=function e(i,n,a){var r=n.length===0;A.forEach((function(e){var o=e({props:t,root:K,actions:n,timestamp:i,shouldOptimize:a});if(o===false){r=false}}));w.forEach((function(e){var t=e.write(i);if(t===false){r=false}}));b.filter((function(e){return!!e.element.parentNode})).forEach((function(e){var t=e._write(i,k(e,n),a);if(!t){r=false}}));b.forEach((function(e,t){if(e.element.parentNode){return}K.appendChild(e.element,t);e._read();e._write(i,k(e,n),a);r=false}));g=r;S({props:t,root:K,actions:n,timestamp:i});return r};var V=function e(){w.forEach((function(e){return e.destroy()}));D.forEach((function(e){e({root:K,props:t})}));b.forEach((function(e){return e._destroy()}))};var j={element:{get:O},style:{get:q},childViews:{get:R}};var Y=Object.assign({},j,{rect:{get:G},ref:{get:N},is:function e(t){return o===t},appendChild:d(i),createChildView:F(e),linkView:function e(t){b.push(t);return t},unlinkView:function e(t){b.splice(b.indexOf(t),1)},appendChildView:p(i,b),removeChildView:f(i,b),registerWriter:function e(t){return A.push(t)},registerReader:function e(t){return C.push(t)},registerDestroyer:function e(t){return D.push(t)},invalidateLayout:function e(){return i.layoutCalculated=false},dispatch:e.dispatch,query:e.query});var W={element:{get:O},childViews:{get:R},rect:{get:G},resting:{get:function e(){return g}},isRectIgnored:function e(){return M},_read:H,_write:U,_destroy:V};var X=Object.assign({},j,{rect:{get:function e(){return s}}});Object.keys(P).sort((function(e,t){if(e==="styles"){return 1}else if(t==="styles"){return-1}return 0})).forEach((function(e){var i=z[e]({mixinConfig:P[e],viewProps:t,viewState:I,viewInternalAPI:Y,viewExternalAPI:W,view:r(X)});if(i){w.push(i)}}));var K=r(Y);y({root:K,props:t});var Z=v(i);b.forEach((function(e,t){K.appendChild(e.element,Z+t)}));T(K);return r(W)}};var H=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:60;var a="__framePainter";if(window[a]){window[a].readers.push(t);window[a].writers.push(i);return}window[a]={readers:[t],writers:[i]};var r=window[a];var o=1e3/n;var s=null;var l=null;var c=null;var u=null;var d=function e(){if(document.hidden){c=function e(){return window.setTimeout((function(){return p(performance.now())}),o)};u=function e(){return window.clearTimeout(l)}}else{c=function e(){return window.requestAnimationFrame(p)};u=function e(){return window.cancelAnimationFrame(l)}}};document.addEventListener("visibilitychange",(function(){if(u)u();d();p(performance.now())}));var p=function e(t){l=c(e);if(!s){s=t}var i=t-s;if(i<=o){return}s=t-i%o;r.readers.forEach((function(e){return e()}));r.writers.forEach((function(e){return e(t)}))};d();p(performance.now());return{pause:function e(){u(l)}}};var U=function e(t,i){return function(e){var n=e.root,a=e.props,r=e.actions,o=r===void 0?[]:r,s=e.timestamp,l=e.shouldOptimize;o.filter((function(e){return t[e.type]})).forEach((function(e){return t[e.type]({root:n,props:a,action:e.data,timestamp:s,shouldOptimize:l})}));if(i){i({root:n,props:a,actions:o,timestamp:s,shouldOptimize:l})}}};var V=function e(t,i){return i.parentNode.insertBefore(t,i)};var j=function e(t,i){return i.parentNode.insertBefore(t,i.nextSibling)};var Y=function e(t){return Array.isArray(t)};var W=function e(t){return t==null};var X=function e(t){return t.trim()};var K=function e(t){return""+t};var Z=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",";if(W(t)){return[]}if(Y(t)){return t}return K(t).split(i).map(X).filter((function(e){return e.length}))};var Q=function e(t){return typeof t==="boolean"};var $=function e(t){return Q(t)?t:t==="true"};var J=function e(t){return typeof t==="string"};var ee=function e(t){return w(t)?t:J(t)?K(t).replace(/[a-z]+/gi,""):0};var te=function e(t){return parseInt(ee(t),10)};var ie=function e(t){return parseFloat(ee(t))};var ne=function e(t){return w(t)&&isFinite(t)&&Math.floor(t)===t};var ae=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;if(ne(t)){return t}var n=K(t).trim();if(/MB$/i.test(n)){n=n.replace(/MB$i/,"").trim();return te(n)*i*i}if(/KB/i.test(n)){n=n.replace(/KB$i/,"").trim();return te(n)*i}return te(n)};var re=function e(t){return typeof t==="function"};var oe=function e(t){var i=self;var n=t.split(".");var a=null;while(a=n.shift()){i=i[a];if(!i){return null}}return i};var se={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"};var le=function e(t){var i={};i.url=J(t)?t:t.url||"";i.timeout=t.timeout?parseInt(t.timeout,10):0;i.headers=t.headers?t.headers:{};a(se,(function(e){i[e]=ce(e,t[e],se[e],i.timeout,i.headers)}));i.process=t.process||J(t)||t.url?i.process:null;i.remove=t.remove||null;delete i.headers;return i};var ce=function e(t,i,n,a,r){if(i===null){return null}if(typeof i==="function"){return i}var o={url:n==="GET"||n==="PATCH"?"?"+t+"=":"",method:n,headers:r,withCredentials:false,timeout:a,onload:null,ondata:null,onerror:null};if(J(i)){o.url=i;return o}Object.assign(o,i);if(J(o.headers)){var s=o.headers.split(/:(.+)/);o.headers={header:s[0],value:s[1]}}o.withCredentials=$(o.withCredentials);return o};var ue=function e(t){return le(t)};var de=function e(t){return t===null};var pe=function e(t){return typeof t==="object"&&t!==null};var fe=function e(t){return pe(t)&&J(t.url)&&pe(t.process)&&pe(t.revert)&&pe(t.restore)&&pe(t.fetch)};var he=function e(t){if(Y(t)){return"array"}if(de(t)){return"null"}if(ne(t)){return"int"}if(/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)){return"bytes"}if(fe(t)){return"api"}return typeof t};var ge=function e(t){return t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",')};var me={array:Z,boolean:$,int:function e(t){return he(t)==="bytes"?ae(t):te(t)},number:ie,float:ie,bytes:ae,string:function e(t){return re(t)?t:K(t)},function:function e(t){return oe(t)},serverapi:ue,object:function e(t){try{return JSON.parse(ge(t))}catch(e){return null}}};var ve=function e(t,i){return me[i](t)};var _e=function e(t,i,n){if(t===i){return t}var a=he(t);if(a!==n){var r=ve(t,n);a=he(r);if(r===null){throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"'}else{t=r}}return t};var be=function e(t,i){var n=t;return{enumerable:true,get:function e(){return n},set:function e(a){n=_e(a,t,i)}}};var ye=function e(t){var i={};a(t,(function(e){var n=t[e];i[e]=be(n[0],n[1])}));return r(i)};var we=function e(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:ye(t)}};var xe=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.split(/(?=[A-Z])/).map((function(e){return e.toLowerCase()})).join(i)};var Ee=function e(t,i){var n={};a(i,(function(e){n[e]={get:function i(){return t.getState().options[e]},set:function i(n){t.dispatch("SET_"+xe(e,"_").toUpperCase(),{value:n})}}}));return n};var ke=function e(t){return function(e,i,n){var r={};a(t,(function(t){var i=xe(t,"_").toUpperCase();r["SET_"+i]=function(a){try{n.options[t]=a.value}catch(e){}e("DID_SET_"+i,{value:n.options[t]})}}));return r}};var Ie=function e(t){return function(e){var i={};a(t,(function(t){i["GET_"+xe(t,"_").toUpperCase()]=function(i){return e.options[t]}}));return i}};var Te={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5};var Ae=function e(){return Math.random().toString(36).substring(2,11)};function Se(e,t){if(e==null)return{};var i={};var n=Object.keys(e);var a,r;for(r=0;r<n.length;r++){a=n[r];if(t.indexOf(a)>=0)continue;i[a]=e[a]}return i}function Ce(e,t){if(e==null)return{};var i=Se(e,t);var n,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++){n=r[a];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;i[n]=e[n]}}return i}function Me(e){return De(e)||Le(e)||Oe()}function De(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function Le(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Oe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var Pe=function e(t,i){return t.splice(i,1)};var Re=function e(t,i){if(i){t()}else if(document.hidden){Promise.resolve(1).then(t)}else{setTimeout(t,0)}};var Ne=function e(){var t=[];var i=function e(i,n){Pe(t,t.findIndex((function(e){return e.event===i&&(e.cb===n||!n)})))};var n=function e(i,n,a){t.filter((function(e){return e.event===i})).map((function(e){return e.cb})).forEach((function(e){return Re((function(){return e.apply(void 0,Me(n))}),a)}))};return{fireSync:function e(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++){a[r-1]=arguments[r]}n(t,a,true)},fire:function e(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),r=1;r<i;r++){a[r-1]=arguments[r]}n(t,a,false)},on:function e(i,n){t.push({event:i,cb:n})},onOnce:function e(n,a){t.push({event:n,cb:function e(){i(n,a);a.apply(void 0,arguments)}})},off:i}};var Fe=function e(t,i,n){Object.getOwnPropertyNames(t).filter((function(e){return!n.includes(e)})).forEach((function(e){return Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))}))};var Ge=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"];var ze=function e(t){var i={};Fe(t,i,Ge);return i};var Be=function e(t){t.forEach((function(e,i){if(e.released){Pe(t,i)}}))};var qe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8};var He={INPUT:1,LIMBO:2,LOCAL:3};var Ue=function e(t){return/[^0-9]+/.exec(t)};var Ve=function e(){return Ue(1.1.toLocaleString())[0]};var je=function e(){var t=Ve();var i=1e3.toLocaleString();var n=1e3.toString();if(i!==n){return Ue(i)[0]}return t==="."?",":"."};var Ye={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"};var We=[];var Xe=function e(t,i,n){return new Promise((function(e,a){var r=We.filter((function(e){return e.key===t})).map((function(e){return e.cb}));if(r.length===0){e(i);return}var o=r.shift();r.reduce((function(e,t){return e.then((function(e){return t(e,n)}))}),o(i,n)).then((function(t){return e(t)})).catch((function(e){return a(e)}))}))};var Ke=function e(t,i,n){return We.filter((function(e){return e.key===t})).map((function(e){return e.cb(i,n)}))};var Ze=function e(t,i){return We.push({key:t,cb:i})};var Qe=function e(t){return Object.assign(et,t)};var $e=function e(){return Object.assign({},et)};var Je=function e(t){a(t,(function(e,t){if(!et[e]){return}et[e][0]=_e(t,et[e][0],et[e][1])}))};var et={id:[null,Ye.STRING],name:["filepond",Ye.STRING],disabled:[false,Ye.BOOLEAN],className:[null,Ye.STRING],required:[false,Ye.BOOLEAN],captureMethod:[null,Ye.STRING],allowSyncAcceptAttribute:[true,Ye.BOOLEAN],allowDrop:[true,Ye.BOOLEAN],allowBrowse:[true,Ye.BOOLEAN],allowPaste:[true,Ye.BOOLEAN],allowMultiple:[false,Ye.BOOLEAN],allowReplace:[true,Ye.BOOLEAN],allowRevert:[true,Ye.BOOLEAN],allowRemove:[true,Ye.BOOLEAN],allowProcess:[true,Ye.BOOLEAN],allowReorder:[false,Ye.BOOLEAN],allowDirectoriesOnly:[false,Ye.BOOLEAN],storeAsFile:[false,Ye.BOOLEAN],forceRevert:[false,Ye.BOOLEAN],maxFiles:[null,Ye.INT],checkValidity:[false,Ye.BOOLEAN],itemInsertLocationFreedom:[true,Ye.BOOLEAN],itemInsertLocation:["before",Ye.STRING],itemInsertInterval:[75,Ye.INT],dropOnPage:[false,Ye.BOOLEAN],dropOnElement:[true,Ye.BOOLEAN],dropValidation:[false,Ye.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],Ye.ARRAY],instantUpload:[true,Ye.BOOLEAN],maxParallelUploads:[2,Ye.INT],allowMinimumUploadDuration:[true,Ye.BOOLEAN],chunkUploads:[false,Ye.BOOLEAN],chunkForce:[false,Ye.BOOLEAN],chunkSize:[5e6,Ye.INT],chunkRetryDelays:[[500,1e3,3e3],Ye.ARRAY],server:[null,Ye.SERVER_API],fileSizeBase:[1e3,Ye.INT],labelFileSizeBytes:["bytes",Ye.STRING],labelFileSizeKilobytes:["KB",Ye.STRING],labelFileSizeMegabytes:["MB",Ye.STRING],labelFileSizeGigabytes:["GB",Ye.STRING],labelDecimalSeparator:[Ve(),Ye.STRING],labelThousandsSeparator:[je(),Ye.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',Ye.STRING],labelInvalidField:["Field contains invalid files",Ye.STRING],labelFileWaitingForSize:["Waiting for size",Ye.STRING],labelFileSizeNotAvailable:["Size not available",Ye.STRING],labelFileCountSingular:["file in list",Ye.STRING],labelFileCountPlural:["files in list",Ye.STRING],labelFileLoading:["Loading",Ye.STRING],labelFileAdded:["Added",Ye.STRING],labelFileLoadError:["Error during load",Ye.STRING],labelFileRemoved:["Removed",Ye.STRING],labelFileRemoveError:["Error during remove",Ye.STRING],labelFileProcessing:["Uploading",Ye.STRING],labelFileProcessingComplete:["Upload complete",Ye.STRING],labelFileProcessingAborted:["Upload cancelled",Ye.STRING],labelFileProcessingError:["Error during upload",Ye.STRING],labelFileProcessingRevertError:["Error during revert",Ye.STRING],labelTapToCancel:["tap to cancel",Ye.STRING],labelTapToRetry:["tap to retry",Ye.STRING],labelTapToUndo:["tap to undo",Ye.STRING],labelButtonRemoveItem:["Remove",Ye.STRING],labelButtonAbortItemLoad:["Abort",Ye.STRING],labelButtonRetryItemLoad:["Retry",Ye.STRING],labelButtonAbortItemProcessing:["Cancel",Ye.STRING],labelButtonUndoItemProcessing:["Undo",Ye.STRING],labelButtonRetryItemProcessing:["Retry",Ye.STRING],labelButtonProcessItem:["Upload",Ye.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',Ye.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',Ye.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',Ye.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',Ye.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',Ye.STRING],oninit:[null,Ye.FUNCTION],onwarning:[null,Ye.FUNCTION],onerror:[null,Ye.FUNCTION],onactivatefile:[null,Ye.FUNCTION],oninitfile:[null,Ye.FUNCTION],onaddfilestart:[null,Ye.FUNCTION],onaddfileprogress:[null,Ye.FUNCTION],onaddfile:[null,Ye.FUNCTION],onprocessfilestart:[null,Ye.FUNCTION],onprocessfileprogress:[null,Ye.FUNCTION],onprocessfileabort:[null,Ye.FUNCTION],onprocessfilerevert:[null,Ye.FUNCTION],onprocessfile:[null,Ye.FUNCTION],onprocessfiles:[null,Ye.FUNCTION],onremovefile:[null,Ye.FUNCTION],onpreparefile:[null,Ye.FUNCTION],onupdatefiles:[null,Ye.FUNCTION],onreorderfiles:[null,Ye.FUNCTION],beforeDropFile:[null,Ye.FUNCTION],beforeAddFile:[null,Ye.FUNCTION],beforeRemoveFile:[null,Ye.FUNCTION],beforePrepareFile:[null,Ye.FUNCTION],stylePanelLayout:[null,Ye.STRING],stylePanelAspectRatio:[null,Ye.STRING],styleItemPanelAspectRatio:[null,Ye.STRING],styleButtonRemoveItemPosition:["left",Ye.STRING],styleButtonProcessItemPosition:["right",Ye.STRING],styleLoadIndicatorPosition:["right",Ye.STRING],styleProgressIndicatorPosition:["right",Ye.STRING],styleButtonRemoveItemAlign:[false,Ye.BOOLEAN],files:[[],Ye.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],Ye.ARRAY]};var tt=function e(t,i){if(W(i)){return t[0]||null}if(ne(i)){return t[i]||null}if(typeof i==="object"){i=i.id}return t.find((function(e){return e.id===i}))||null};var it=function e(t){if(W(t)){return t}if(/:/.test(t)){var i=t.split(":");return i[1]/i[0]}return parseFloat(t)};var nt=function e(t){return t.filter((function(e){return!e.archived}))};var at={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};var rt=null;var ot=function e(){if(rt===null){try{var t=new DataTransfer;t.items.add(new File(["hello world"],"This_Works.txt"));var i=document.createElement("input");i.setAttribute("type","file");i.files=t.files;rt=i.files.length===1}catch(e){rt=false}}return rt};var st=[qe.LOAD_ERROR,qe.PROCESSING_ERROR,qe.PROCESSING_REVERT_ERROR];var lt=[qe.LOADING,qe.PROCESSING,qe.PROCESSING_QUEUED,qe.INIT];var ct=[qe.PROCESSING_COMPLETE];var ut=function e(t){return st.includes(t.status)};var dt=function e(t){return lt.includes(t.status)};var pt=function e(t){return ct.includes(t.status)};var ft=function e(t){return pe(t.options.server)&&(pe(t.options.server.process)||re(t.options.server.process))};var ht=function e(t){return{GET_STATUS:function e(){var i=nt(t.items);var n=at.EMPTY,a=at.ERROR,r=at.BUSY,o=at.IDLE,s=at.READY;if(i.length===0)return n;if(i.some(ut))return a;if(i.some(dt))return r;if(i.some(pt))return s;return o},GET_ITEM:function e(i){return tt(t.items,i)},GET_ACTIVE_ITEM:function e(i){return tt(nt(t.items),i)},GET_ACTIVE_ITEMS:function e(){return nt(t.items)},GET_ITEMS:function e(){return t.items},GET_ITEM_NAME:function e(i){var n=tt(t.items,i);return n?n.filename:null},GET_ITEM_SIZE:function e(i){var n=tt(t.items,i);return n?n.fileSize:null},GET_STYLES:function e(){return Object.keys(t.options).filter((function(e){return/^style/.test(e)})).map((function(e){return{name:e,value:t.options[e]}}))},GET_PANEL_ASPECT_RATIO:function e(){var i=/circle/.test(t.options.stylePanelLayout);var n=i?1:it(t.options.stylePanelAspectRatio);return n},GET_ITEM_PANEL_ASPECT_RATIO:function e(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function e(i){return nt(t.items).filter((function(e){return e.status===i}))},GET_TOTAL_ITEMS:function e(){return nt(t.items).length},SHOULD_UPDATE_FILE_INPUT:function e(){return t.options.storeAsFile&&ot()&&!ft(t)},IS_ASYNC:function e(){return ft(t)},GET_FILE_SIZE_LABELS:function e(t){return{labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||undefined,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||undefined,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||undefined,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||undefined}}}};var gt=function e(t){var i=nt(t.items).length;if(!t.options.allowMultiple){return i===0}var n=t.options.maxFiles;if(n===null){return true}if(i<n){return true}return false};var mt=function e(t,i,n){return Math.max(Math.min(n,t),i)};var vt=function e(t,i,n){return t.splice(i,0,n)};var _t=function e(t,i,n){if(W(i)){return null}if(typeof n==="undefined"){t.push(i);return i}n=mt(n,0,t.length);vt(t,n,i);return i};var bt=function e(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)};var yt=function e(t){return t.split("/").pop().split("?").shift()};var wt=function e(t){return t.split(".").pop()};var xt=function e(t){if(typeof t!=="string"){return""}var i=t.split("/").pop();if(/svg/.test(i)){return"svg"}if(/zip|compressed/.test(i)){return"zip"}if(/plain/.test(i)){return"txt"}if(/msword/.test(i)){return"doc"}if(/[a-z]+/.test(i)){if(i==="jpeg"){return"jpg"}return i}return""};var Et=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";return(i+t).slice(-i.length)};var kt=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;return t.getFullYear()+"-"+Et(t.getMonth()+1,"00")+"-"+Et(t.getDate(),"00")+"_"+Et(t.getHours(),"00")+"-"+Et(t.getMinutes(),"00")+"-"+Et(t.getSeconds(),"00")};var It=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var r=typeof n==="string"?t.slice(0,t.size,n):t.slice(0,t.size,t.type);r.lastModifiedDate=new Date;if(t._relativePath)r._relativePath=t._relativePath;if(!J(i)){i=kt()}if(i&&a===null&&wt(i)){r.name=i}else{a=a||xt(r.type);r.name=i+(a?"."+a:"")}return r};var Tt=function e(){return window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder};var At=function e(t,i){var n=Tt();if(n){var a=new n;a.append(t);return a.getBlob(i)}return new Blob([t],{type:i})};var St=function e(t,i){var n=new ArrayBuffer(t.length);var a=new Uint8Array(n);for(var r=0;r<t.length;r++){a[r]=t.charCodeAt(r)}return At(n,i)};var Ct=function e(t){return(/^data:(.+);/.exec(t)||[])[1]||null};var Mt=function e(t){var i=t.split(",")[1];return i.replace(/\s/g,"")};var Dt=function e(t){return atob(Mt(t))};var Lt=function e(t){var i=Ct(t);var n=Dt(t);return St(n,i)};var Ot=function e(t,i,n){return It(Lt(t),i,null,n)};var Pt=function e(t){if(!/^content-disposition:/i.test(t))return null;var i=t.split(/filename=|filename\*=.+''/).splice(1).map((function(e){return e.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(e){return e.length}));return i.length?decodeURI(i[i.length-1]):null};var Rt=function e(t){if(/content-length:/i.test(t)){var i=t.match(/[0-9]+/)[0];return i?parseInt(i,10):null}return null};var Nt=function e(t){if(/x-content-transfer-id:/i.test(t)){var i=(t.split(":")[1]||"").trim();return i||null}return null};var Ft=function e(t){var i={source:null,name:null,size:null};var n=t.split("\n");var a=true;var r=false;var o=undefined;try{for(var s=n[Symbol.iterator](),l;!(a=(l=s.next()).done);a=true){var c=l.value;var u=Pt(c);if(u){i.name=u;continue}var d=Rt(c);if(d){i.size=d;continue}var p=Nt(c);if(p){i.source=p;continue}}}catch(e){r=true;o=e}finally{try{if(!a&&s.return!=null){s.return()}}finally{if(r){throw o}}}return i};var Gt=function e(t){var i={source:null,complete:false,progress:0,size:null,timestamp:null,duration:0,request:null};var n=function e(){return i.progress};var a=function e(){if(i.request&&i.request.abort){i.request.abort()}};var r=function e(){var t=i.source;s.fire("init",t);if(t instanceof File){s.fire("load",t)}else if(t instanceof Blob){s.fire("load",It(t,t.name))}else if(bt(t)){s.fire("load",Ot(t))}else{o(t)}};var o=function e(n){if(!t){s.fire("error",{type:"error",body:"Can't load URL",code:400});return}i.timestamp=Date.now();i.request=t(n,(function(e){i.duration=Date.now()-i.timestamp;i.complete=true;if(e instanceof Blob){e=It(e,e.name||yt(n))}s.fire("load",e instanceof Blob?e:e?e.body:null)}),(function(e){s.fire("error",typeof e==="string"?{type:"error",code:0,body:e}:e)}),(function(e,t,n){if(n){i.size=n}i.duration=Date.now()-i.timestamp;if(!e){i.progress=null;return}i.progress=t/n;s.fire("progress",i.progress)}),(function(){s.fire("abort")}),(function(e){var t=Ft(typeof e==="string"?e:e.headers);s.fire("meta",{size:i.size||t.size,filename:t.name,source:t.source})}))};var s=Object.assign({},Ne(),{setSource:function e(t){return i.source=t},getProgress:n,abort:a,load:r});return s};var zt=function e(t){return/GET|HEAD/.test(t)};var Bt=function e(t,i,n){var a={onheaders:function e(){},onprogress:function e(){},onload:function e(){},ontimeout:function e(){},onerror:function e(){},onabort:function e(){},abort:function e(){r=true;s.abort()}};var r=false;var o=false;n=Object.assign({method:"POST",headers:{},withCredentials:false},n);i=encodeURI(i);if(zt(n.method)&&t){i=""+i+encodeURIComponent(typeof t==="string"?t:JSON.stringify(t))}var s=new XMLHttpRequest;var l=zt(n.method)?s:s.upload;l.onprogress=function(e){if(r){return}a.onprogress(e.lengthComputable,e.loaded,e.total)};s.onreadystatechange=function(){if(s.readyState<2){return}if(s.readyState===4&&s.status===0){return}if(o){return}o=true;a.onheaders(s)};s.onload=function(){if(s.status>=200&&s.status<300){a.onload(s)}else{a.onerror(s)}};s.onerror=function(){return a.onerror(s)};s.onabort=function(){r=true;a.onabort()};s.ontimeout=function(){return a.ontimeout(s)};s.open(n.method,i,true);if(ne(n.timeout)){s.timeout=n.timeout}Object.keys(n.headers).forEach((function(e){var t=unescape(encodeURIComponent(n.headers[e]));s.setRequestHeader(e,t)}));if(n.responseType){s.responseType=n.responseType}if(n.withCredentials){s.withCredentials=true}s.send(t);return a};var qt=function e(t,i,n,a){return{type:t,code:i,body:n,headers:a}};var Ht=function e(t){return function(e){t(qt("error",0,"Timeout",e.getAllResponseHeaders()))}};var Ut=function e(t){return/\?/.test(t)};var Vt=function e(){var t="";for(var i=arguments.length,n=new Array(i),a=0;a<i;a++){n[a]=arguments[a]}n.forEach((function(e){t+=Ut(t)&&Ut(e)?e.replace(/\?/,"&"):e}));return t};var jt=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;if(typeof i==="function"){return i}if(!i||!J(i.url)){return null}var n=i.onload||function(e){return e};var a=i.onerror||function(e){return null};return function(e,r,o,s,l,c){var u=Bt(e,Vt(t,i.url),Object.assign({},i,{responseType:"blob"}));u.onload=function(t){var a=t.getAllResponseHeaders();var o=Ft(a).name||yt(e);r(qt("load",t.status,i.method==="HEAD"?null:It(n(t.response),o),a))};u.onerror=function(e){o(qt("error",e.status,a(e.response)||e.statusText,e.getAllResponseHeaders()))};u.onheaders=function(e){c(qt("headers",e.status,null,e.getAllResponseHeaders()))};u.ontimeout=Ht(o);u.onprogress=s;u.onabort=l;return u}};var Yt={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4};var Wt=function e(t,i,n,a,r,o,s,l,c,u,d){var p=[];var f=d.chunkTransferId,h=d.chunkServer,g=d.chunkSize,m=d.chunkRetryDelays;var v={serverId:f,aborted:false};var _=i.ondata||function(e){return e};var b=i.onload||function(e,t){return t==="HEAD"?e.getResponseHeader("Upload-Offset"):e.response};var y=i.onerror||function(e){return null};var w=function e(o){var l=new FormData;if(pe(r))l.append(n,JSON.stringify(r));var c=typeof i.headers==="function"?i.headers(a,r):Object.assign({},i.headers,{"Upload-Length":a.size});var u=Object.assign({},i,{headers:c});var d=Bt(_(l),Vt(t,i.url),u);d.onload=function(e){return o(b(e,u.method))};d.onerror=function(e){return s(qt("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))};d.ontimeout=Ht(s)};var x=function e(n){var a=Vt(t,h.url,v.serverId);var r=typeof i.headers==="function"?i.headers(v.serverId):Object.assign({},i.headers);var o={headers:r,method:"HEAD"};var l=Bt(null,a,o);l.onload=function(e){return n(b(e,o.method))};l.onerror=function(e){return s(qt("error",e.status,y(e.response)||e.statusText,e.getAllResponseHeaders()))};l.ontimeout=Ht(s)};var E=Math.floor(a.size/g);for(var k=0;k<=E;k++){var I=k*g;var T=a.slice(I,I+g,"application/offset+octet-stream");p[k]={index:k,size:T.size,offset:I,data:T,file:a,progress:0,retries:Me(m),status:Yt.QUEUED,error:null,request:null,timeout:null}}var A=function e(){return o(v.serverId)};var S=function e(t){return t.status===Yt.QUEUED||t.status===Yt.ERROR};var C=function e(i){if(v.aborted)return;i=i||p.find(S);if(!i){if(p.every((function(e){return e.status===Yt.COMPLETE}))){A()}return}i.status=Yt.PROCESSING;i.progress=null;var n=h.ondata||function(e){return e};var r=h.onerror||function(e){return null};var o=Vt(t,h.url,v.serverId);var l=typeof h.headers==="function"?h.headers(i):Object.assign({},h.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":i.offset,"Upload-Length":a.size,"Upload-Name":a.name});var u=i.request=Bt(n(i.data),o,Object.assign({},h,{headers:l}));u.onload=function(){i.status=Yt.COMPLETE;i.request=null;L()};u.onprogress=function(e,t,n){i.progress=e?t:null;D()};u.onerror=function(e){i.status=Yt.ERROR;i.request=null;i.error=r(e.response)||e.statusText;if(!M(i)){s(qt("error",e.status,r(e.response)||e.statusText,e.getAllResponseHeaders()))}};u.ontimeout=function(e){i.status=Yt.ERROR;i.request=null;if(!M(i)){Ht(s)(e)}};u.onabort=function(){i.status=Yt.QUEUED;i.request=null;c()}};var M=function e(t){if(t.retries.length===0)return false;t.status=Yt.WAITING;clearTimeout(t.timeout);t.timeout=setTimeout((function(){C(t)}),t.retries.shift());return true};var D=function e(){var t=p.reduce((function(e,t){if(e===null||t.progress===null)return null;return e+t.progress}),0);if(t===null)return l(false,0,0);var i=p.reduce((function(e,t){return e+t.size}),0);l(true,t,i)};var L=function e(){var t=p.filter((function(e){return e.status===Yt.PROCESSING})).length;if(t>=1)return;C()};var O=function e(){p.forEach((function(e){clearTimeout(e.timeout);if(e.request){e.request.abort()}}))};if(!v.serverId){w((function(e){if(v.aborted)return;u(e);v.serverId=e;L()}))}else{x((function(e){if(v.aborted)return;p.filter((function(t){return t.offset<e})).forEach((function(e){e.status=Yt.COMPLETE;e.progress=e.size}));L()}))}return{abort:function e(){v.aborted=true;O()}}};var Xt=function e(t,i,n,a){return function(e,r,o,s,l,c,u){if(!e)return;var d=a.chunkUploads;var p=d&&e.size>a.chunkSize;var f=d&&(p||a.chunkForce);if(e instanceof Blob&&f)return Wt(t,i,n,e,r,o,s,l,c,u,a);var h=i.ondata||function(e){return e};var g=i.onload||function(e){return e};var m=i.onerror||function(e){return null};var v=typeof i.headers==="function"?i.headers(e,r)||{}:Object.assign({},i.headers);var _=Object.assign({},i,{headers:v});var b=new FormData;if(pe(r)){b.append(n,JSON.stringify(r))}(e instanceof Blob?[{name:null,file:e}]:e).forEach((function(e){b.append(n,e.file,e.name===null?e.file.name:""+e.name+e.file.name)}));var y=Bt(h(b),Vt(t,i.url),_);y.onload=function(e){o(qt("load",e.status,g(e.response),e.getAllResponseHeaders()))};y.onerror=function(e){s(qt("error",e.status,m(e.response)||e.statusText,e.getAllResponseHeaders()))};y.ontimeout=Ht(s);y.onprogress=l;y.onabort=c;return y}};var Kt=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;var n=arguments.length>2?arguments[2]:undefined;var a=arguments.length>3?arguments[3]:undefined;if(typeof i==="function")return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return i.apply(void 0,[n].concat(t,[a]))};if(!i||!J(i.url))return null;return Xt(t,i,n,a)};var Zt=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i=arguments.length>1?arguments[1]:undefined;if(typeof i==="function"){return i}if(!i||!J(i.url)){return function(e,t){return t()}}var n=i.onload||function(e){return e};var a=i.onerror||function(e){return null};return function(e,r,o){var s=Bt(e,t+i.url,i);s.onload=function(e){r(qt("load",e.status,n(e.response),e.getAllResponseHeaders()))};s.onerror=function(e){o(qt("error",e.status,a(e.response)||e.statusText,e.getAllResponseHeaders()))};s.ontimeout=Ht(o);return s}};var Qt=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return t+Math.random()*(i-t)};var $t=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e3;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:25;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var r=null;var o=Date.now();var s=function e(){var s=Date.now()-o;var l=Qt(n,a);if(s+l>i){l=s+l-i}var c=s/i;if(c>=1||document.hidden){t(1);return}t(c);r=setTimeout(e,l)};if(i>0)s();return{clear:function e(){clearTimeout(r)}}};var Jt=function e(t,i){var n={complete:false,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null};var a=i.allowMinimumUploadDuration;var r=function e(i,r){var o=function e(){if(n.duration===0||n.progress===null)return;u.fire("progress",u.getProgress())};var s=function e(){n.complete=true;u.fire("load-perceived",n.response.body)};u.fire("start");n.timestamp=Date.now();n.perceivedPerformanceUpdater=$t((function(e){n.perceivedProgress=e;n.perceivedDuration=Date.now()-n.timestamp;o();if(n.response&&n.perceivedProgress===1&&!n.complete){s()}}),a?Qt(750,1500):0);n.request=t(i,r,(function(e){n.response=pe(e)?e:{type:"load",code:200,body:""+e,headers:{}};n.duration=Date.now()-n.timestamp;n.progress=1;u.fire("load",n.response.body);if(!a||a&&n.perceivedProgress===1){s()}}),(function(e){n.perceivedPerformanceUpdater.clear();u.fire("error",pe(e)?e:{type:"error",code:0,body:""+e})}),(function(e,t,i){n.duration=Date.now()-n.timestamp;n.progress=e?t/i:null;o()}),(function(){n.perceivedPerformanceUpdater.clear();u.fire("abort",n.response?n.response.body:null)}),(function(e){u.fire("transfer",e)}))};var o=function e(){if(!n.request)return;n.perceivedPerformanceUpdater.clear();if(n.request.abort)n.request.abort();n.complete=true};var s=function e(){o();n.complete=false;n.perceivedProgress=0;n.progress=0;n.timestamp=null;n.perceivedDuration=0;n.duration=0;n.request=null;n.response=null};var l=a?function(){return n.progress?Math.min(n.progress,n.perceivedProgress):null}:function(){return n.progress||null};var c=a?function(){return Math.min(n.duration,n.perceivedDuration)}:function(){return n.duration};var u=Object.assign({},Ne(),{process:r,abort:o,getProgress:l,getDuration:c,reset:s});return u};var ei=function e(t){return t.substring(0,t.lastIndexOf("."))||t};var ti=function e(t){var i=[t.name,t.size,t.type];if(t instanceof Blob||bt(t)){i[0]=t.name||kt()}else if(bt(t)){i[1]=t.length;i[2]=Ct(t)}else if(J(t)){i[0]=yt(t);i[1]=0;i[2]="application/octet-stream"}return{name:i[0],size:i[1],type:i[2]}};var ii=function e(t){return!!(t instanceof File||t instanceof Blob&&t.name)};var ni=function e(t){if(!pe(t))return t;var i=Y(t)?[]:{};for(var n in t){if(!t.hasOwnProperty(n))continue;var a=t[n];i[n]=a&&pe(a)?e(a):a}return i};var ai=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var a=Ae();var o={archived:false,frozen:false,released:false,source:null,file:n,serverFileReference:i,transferId:null,processingAborted:false,status:i?qe.PROCESSING_COMPLETE:qe.INIT,activeLoader:null,activeProcessor:null};var s=null;var l={};var c=function e(t){return o.status=t};var u=function e(t){if(o.released||o.frozen)return;for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++){n[a-1]=arguments[a]}k.fire.apply(k,[t].concat(n))};var d=function e(){return wt(o.file.name)};var p=function e(){return o.file.type};var f=function e(){return o.file.size};var h=function e(){return o.file};var g=function e(i,n,a){o.source=i;k.fireSync("init");if(o.file){k.fireSync("load-skip");return}o.file=ti(i);n.on("init",(function(){u("load-init")}));n.on("meta",(function(e){o.file.size=e.size;o.file.filename=e.filename;if(e.source){t=He.LIMBO;o.serverFileReference=e.source;o.status=qe.PROCESSING_COMPLETE}u("load-meta")}));n.on("progress",(function(e){c(qe.LOADING);u("load-progress",e)}));n.on("error",(function(e){c(qe.LOAD_ERROR);u("load-request-error",e)}));n.on("abort",(function(){c(qe.INIT);u("load-abort")}));n.on("load",(function(e){o.activeLoader=null;var i=function e(i){o.file=ii(i)?i:o.file;if(t===He.LIMBO&&o.serverFileReference){c(qe.PROCESSING_COMPLETE)}else{c(qe.IDLE)}u("load")};var n=function t(i){o.file=e;u("load-meta");c(qe.LOAD_ERROR);u("load-file-error",i)};if(o.serverFileReference){i(e);return}a(e,i,n)}));n.setSource(i);o.activeLoader=n;n.load()};var m=function e(){if(!o.activeLoader){return}o.activeLoader.load()};var v=function e(){if(o.activeLoader){o.activeLoader.abort();return}c(qe.INIT);u("load-abort")};var _=function e(t,i){if(o.processingAborted){o.processingAborted=false;return}c(qe.PROCESSING);s=null;if(!(o.file instanceof Blob)){k.on("load",(function(){e(t,i)}));return}t.on("load",(function(e){o.transferId=null;o.serverFileReference=e}));t.on("transfer",(function(e){o.transferId=e}));t.on("load-perceived",(function(e){o.activeProcessor=null;o.transferId=null;o.serverFileReference=e;c(qe.PROCESSING_COMPLETE);u("process-complete",e)}));t.on("start",(function(){u("process-start")}));t.on("error",(function(e){o.activeProcessor=null;c(qe.PROCESSING_ERROR);u("process-error",e)}));t.on("abort",(function(e){o.activeProcessor=null;o.serverFileReference=e;c(qe.IDLE);u("process-abort");if(s){s()}}));t.on("progress",(function(e){u("process-progress",e)}));var n=function e(i){if(o.archived)return;t.process(i,Object.assign({},l))};var a=console.error;i(o.file,n,a);o.activeProcessor=t};var b=function e(){o.processingAborted=false;c(qe.PROCESSING_QUEUED)};var y=function e(){return new Promise((function(e){if(!o.activeProcessor){o.processingAborted=true;c(qe.IDLE);u("process-abort");e();return}s=function t(){e()};o.activeProcessor.abort()}))};var w=function e(t,i){return new Promise((function(e,n){var a=o.serverFileReference!==null?o.serverFileReference:o.transferId;if(a===null){e();return}t(a,(function(){o.serverFileReference=null;o.transferId=null;e()}),(function(t){if(!i){e();return}c(qe.PROCESSING_REVERT_ERROR);u("process-revert-error");n(t)}));c(qe.IDLE);u("process-revert")}))};var x=function e(t,i,n){var a=t.split(".");var r=a[0];var o=a.pop();var s=l;a.forEach((function(e){return s=s[e]}));if(JSON.stringify(s[o])===JSON.stringify(i))return;s[o]=i;u("metadata-update",{key:r,value:l[r],silent:n})};var E=function e(t){return ni(t?l[t]:l)};var k=Object.assign({id:{get:function e(){return a}},origin:{get:function e(){return t},set:function e(i){return t=i}},serverId:{get:function e(){return o.serverFileReference}},transferId:{get:function e(){return o.transferId}},status:{get:function e(){return o.status}},filename:{get:function e(){return o.file.name}},filenameWithoutExtension:{get:function e(){return ei(o.file.name)}},fileExtension:{get:d},fileType:{get:p},fileSize:{get:f},file:{get:h},relativePath:{get:function e(){return o.file._relativePath}},source:{get:function e(){return o.source}},getMetadata:E,setMetadata:function e(t,i,n){if(pe(t)){var a=t;Object.keys(a).forEach((function(e){x(e,a[e],i)}));return t}x(t,i,n);return i},extend:function e(t,i){return I[t]=i},abortLoad:v,retryLoad:m,requestProcessing:b,abortProcessing:y,load:g,process:_,revert:w},Ne(),{freeze:function e(){return o.frozen=true},release:function e(){return o.released=true},released:{get:function e(){return o.released}},archive:function e(){return o.archived=true},archived:{get:function e(){return o.archived}}});var I=r(k);return I};var ri=function e(t,i){if(W(i)){return 0}if(!J(i)){return-1}return t.findIndex((function(e){return e.id===i}))};var oi=function e(t,i){var n=ri(t,i);if(n<0){return}return t[n]||null};var si=function e(t,i,n,a,r,o){var s=Bt(null,t,{method:"GET",responseType:"blob"});s.onload=function(e){var n=e.getAllResponseHeaders();var a=Ft(n).name||yt(t);i(qt("load",e.status,It(e.response,a),n))};s.onerror=function(e){n(qt("error",e.status,e.statusText,e.getAllResponseHeaders()))};s.onheaders=function(e){o(qt("headers",e.status,null,e.getAllResponseHeaders()))};s.ontimeout=Ht(n);s.onprogress=a;s.onabort=r;return s};var li=function e(t){if(t.indexOf("//")===0){t=location.protocol+t}return t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]};var ci=function e(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&li(location.href)!==li(t)};var ui=function e(t){return function(){return re(t)?t.apply(void 0,arguments):t}};var di=function e(t){return!ii(t.file)};var pi=function e(t,i){clearTimeout(i.listUpdateTimeout);i.listUpdateTimeout=setTimeout((function(){t("DID_UPDATE_ITEMS",{items:nt(i.items)})}),0)};var fi=function e(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++){n[a-1]=arguments[a]}return new Promise((function(e){if(!t){return e(true)}var i=t.apply(void 0,n);if(i==null){return e(true)}if(typeof i==="boolean"){return e(i)}if(typeof i.then==="function"){i.then(e)}}))};var hi=function e(t,i){t.items.sort((function(e,t){return i(ze(e),ze(t))}))};var gi=function e(t,i){return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=e.query,a=e.success,r=a===void 0?function(){}:a,o=e.failure,s=o===void 0?function(){}:o,l=Ce(e,["query","success","failure"]);var c=tt(t.items,n);if(!c){s({error:qt("error",0,"Item not found"),file:null});return}i(c,r,s,l||{})}};var mi=function e(t,i,n){return{ABORT_ALL:function e(){nt(n.items).forEach((function(e){e.freeze();e.abortLoad();e.abortProcessing()}))},DID_SET_FILES:function e(i){var a=i.value,r=a===void 0?[]:a;var o=r.map((function(e){return{source:e.source?e.source:e,options:e.options}}));var s=nt(n.items);s.forEach((function(e){if(!o.find((function(t){return t.source===e.source||t.source===e.file}))){t("REMOVE_ITEM",{query:e,remove:false})}}));s=nt(n.items);o.forEach((function(e,i){if(s.find((function(t){return t.source===e.source||t.file===e.source})))return;t("ADD_ITEM",Object.assign({},e,{interactionMethod:Te.NONE,index:i}))}))},DID_UPDATE_ITEM_METADATA:function e(a){var r=a.id,o=a.action,s=a.change;if(s.silent)return;clearTimeout(n.itemUpdateTimeout);n.itemUpdateTimeout=setTimeout((function(){var e=oi(n.items,r);if(!i("IS_ASYNC")){Xe("SHOULD_PREPARE_OUTPUT",false,{item:e,query:i,action:o,change:s}).then((function(n){var a=i("GET_BEFORE_PREPARE_FILE");if(a)n=a(e,n);if(!n)return;t("REQUEST_PREPARE_OUTPUT",{query:r,item:e,success:function e(i){t("DID_PREPARE_OUTPUT",{id:r,file:i})}},true)}));return}if(e.origin===He.LOCAL){t("DID_LOAD_ITEM",{id:e.id,error:null,serverFileReference:e.source})}var a=function e(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:r})}),32)};var l=function t(r){e.revert(Zt(n.options.server.url,n.options.server.revert),i("GET_FORCE_REVERT")).then(r?a:function(){}).catch((function(){}))};var c=function t(i){e.abortProcessing().then(i?a:function(){})};if(e.status===qe.PROCESSING_COMPLETE){return l(n.options.instantUpload)}if(e.status===qe.PROCESSING){return c(n.options.instantUpload)}if(n.options.instantUpload){a()}}),0)},MOVE_ITEM:function e(t){var i=t.query,a=t.index;var r=tt(n.items,i);if(!r)return;var o=n.items.indexOf(r);a=mt(a,0,n.items.length-1);if(o===a)return;n.items.splice(a,0,n.items.splice(o,1)[0])},SORT:function e(a){var r=a.compare;hi(n,r);t("DID_SORT_ITEMS",{items:i("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function e(n){var a=n.items,r=n.index,o=n.interactionMethod,s=n.success,l=s===void 0?function(){}:s,c=n.failure,u=c===void 0?function(){}:c;var d=r;if(r===-1||typeof r==="undefined"){var p=i("GET_ITEM_INSERT_LOCATION");var f=i("GET_TOTAL_ITEMS");d=p==="before"?0:f}var h=i("GET_IGNORED_FILES");var g=function e(t){return ii(t)?!h.includes(t.name.toLowerCase()):!W(t)};var m=a.filter(g);var v=m.map((function(e){return new Promise((function(i,n){t("ADD_ITEM",{interactionMethod:o,source:e.source||e,success:i,failure:n,index:d++,options:e.options||{}})}))}));Promise.all(v).then(l).catch(u)},ADD_ITEM:function e(a){var r=a.source,o=a.index,s=o===void 0?-1:o,l=a.interactionMethod,c=a.success,u=c===void 0?function(){}:c,d=a.failure,p=d===void 0?function(){}:d,f=a.options,h=f===void 0?{}:f;if(W(r)){p({error:qt("error",0,"No source"),file:null});return}if(ii(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase())){return}if(!gt(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var g=qt("warning",0,"Max files");t("DID_THROW_MAX_FILES",{source:r,error:g});p({error:g,file:null});return}var m=nt(n.items)[0];if(m.status===qe.PROCESSING_COMPLETE||m.status===qe.PROCESSING_REVERT_ERROR){var v=i("GET_FORCE_REVERT");m.revert(Zt(n.options.server.url,n.options.server.revert),v).then((function(){if(!v)return;t("ADD_ITEM",{source:r,index:s,interactionMethod:l,success:u,failure:p,options:h})})).catch((function(){}));if(v)return}t("REMOVE_ITEM",{query:m.id})}var _=h.type==="local"?He.LOCAL:h.type==="limbo"?He.LIMBO:He.INPUT;var b=ai(_,_===He.INPUT?null:r,h.file);Object.keys(h.metadata||{}).forEach((function(e){b.setMetadata(e,h.metadata[e])}));Ke("DID_CREATE_ITEM",b,{query:i,dispatch:t});var y=i("GET_ITEM_INSERT_LOCATION");if(!n.options.itemInsertLocationFreedom){s=y==="before"?-1:n.items.length}_t(n.items,b,s);if(re(y)&&r){hi(n,y)}var w=b.id;b.on("init",(function(){t("DID_INIT_ITEM",{id:w})}));b.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:w})}));b.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:w})}));b.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:w,progress:e})}));b.on("load-request-error",(function(e){var i=ui(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500){t("DID_THROW_ITEM_INVALID",{id:w,error:e,status:{main:i,sub:e.code+" ("+e.body+")"}});p({error:e,file:ze(b)});return}t("DID_THROW_ITEM_LOAD_ERROR",{id:w,error:e,status:{main:i,sub:n.options.labelTapToRetry}})}));b.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:w,error:e.status,status:e.status});p({error:e.status,file:ze(b)})}));b.on("load-abort",(function(){t("REMOVE_ITEM",{query:w})}));b.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:w,item:b,data:{source:r,success:u}})}));b.on("load",(function(){var e=function e(a){if(!a){t("REMOVE_ITEM",{query:w});return}b.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:w,change:e})}));Xe("SHOULD_PREPARE_OUTPUT",false,{item:b,query:i}).then((function(e){var a=i("GET_BEFORE_PREPARE_FILE");if(a)e=a(b,e);var o=function e(){t("COMPLETE_LOAD_ITEM",{query:w,item:b,data:{source:r,success:u}});pi(t,n)};if(e){t("REQUEST_PREPARE_OUTPUT",{query:w,item:b,success:function e(i){t("DID_PREPARE_OUTPUT",{id:w,file:i});o()}},true);return}o()}))};Xe("DID_LOAD_ITEM",b,{query:i,dispatch:t}).then((function(){fi(i("GET_BEFORE_ADD_FILE"),ze(b)).then(e)})).catch((function(i){if(!i||!i.error||!i.status)return e(false);t("DID_THROW_ITEM_INVALID",{id:w,error:i.error,status:i.status})}))}));b.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:w})}));b.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:w,progress:e})}));b.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:w,error:e,status:{main:ui(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})}));b.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:w,error:e,status:{main:ui(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})}));b.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:w,error:null,serverFileReference:e});t("DID_DEFINE_VALUE",{id:w,value:e})}));b.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:w})}));b.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:w});t("DID_DEFINE_VALUE",{id:w,value:null})}));t("DID_ADD_ITEM",{id:w,index:s,interactionMethod:l});pi(t,n);var x=n.options.server||{},E=x.url,k=x.load,I=x.restore,T=x.fetch;b.load(r,Gt(_===He.INPUT?J(r)&&ci(r)?T?jt(E,T):si:si:_===He.LIMBO?jt(E,I):jt(E,k)),(function(e,t,n){Xe("LOAD_FILE",e,{query:i}).then(t).catch(n)}))},REQUEST_PREPARE_OUTPUT:function e(t){var n=t.item,a=t.success,r=t.failure,o=r===void 0?function(){}:r;var s={error:qt("error",0,"Item not found"),file:null};if(n.archived)return o(s);Xe("PREPARE_OUTPUT",n.file,{query:i,item:n}).then((function(e){Xe("COMPLETE_PREPARE_OUTPUT",e,{query:i,item:n}).then((function(e){if(n.archived)return o(s);a(e)}))}))},COMPLETE_LOAD_ITEM:function e(a){var r=a.item,o=a.data;var s=o.success,l=o.source;var c=i("GET_ITEM_INSERT_LOCATION");if(re(c)&&l){hi(n,c)}t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===He.INPUT?null:l});s(ze(r));if(r.origin===He.LOCAL){t("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===He.LIMBO){t("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:l});t("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||l});return}if(i("IS_ASYNC")&&n.options.instantUpload){t("REQUEST_ITEM_PROCESSING",{query:r.id})}},RETRY_ITEM_LOAD:gi(n,(function(e){e.retryLoad()})),REQUEST_ITEM_PREPARE:gi(n,(function(e,i,n){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function n(a){t("DID_PREPARE_OUTPUT",{id:e.id,file:a});i({file:e,output:a})},failure:n},true)})),REQUEST_ITEM_PROCESSING:gi(n,(function(e,a,r){var o=e.status===qe.IDLE||e.status===qe.PROCESSING_ERROR;if(!o){var s=function i(){return t("REQUEST_ITEM_PROCESSING",{query:e,success:a,failure:r})};var l=function e(){return document.hidden?s():setTimeout(s,32)};if(e.status===qe.PROCESSING_COMPLETE||e.status===qe.PROCESSING_REVERT_ERROR){e.revert(Zt(n.options.server.url,n.options.server.revert),i("GET_FORCE_REVERT")).then(l).catch((function(){}))}else if(e.status===qe.PROCESSING){e.abortProcessing().then(l)}return}if(e.status===qe.PROCESSING_QUEUED)return;e.requestProcessing();t("DID_REQUEST_ITEM_PROCESSING",{id:e.id});t("PROCESS_ITEM",{query:e,success:a,failure:r},true)})),PROCESS_ITEM:gi(n,(function(e,a,r){var o=i("GET_MAX_PARALLEL_UPLOADS");var s=i("GET_ITEMS_BY_STATUS",qe.PROCESSING).length;if(s===o){n.processingQueue.push({id:e.id,success:a,failure:r});return}if(e.status===qe.PROCESSING)return;var l=function e(){var i=n.processingQueue.shift();if(!i)return;var a=i.id,r=i.success,o=i.failure;var s=tt(n.items,a);if(!s||s.archived){e();return}t("PROCESS_ITEM",{query:a,success:r,failure:o},true)};e.onOnce("process-complete",(function(){a(ze(e));l();var r=n.options.server;var o=n.options.instantUpload;if(o&&e.origin===He.LOCAL&&re(r.remove)){var s=function e(){};e.origin=He.LIMBO;n.options.server.remove(e.source,s,s)}var c=i("GET_ITEMS_BY_STATUS",qe.PROCESSING_COMPLETE).length===n.items.length;if(c){t("DID_COMPLETE_ITEM_PROCESSING_ALL")}}));e.onOnce("process-error",(function(t){r({error:t,file:ze(e)});l()}));var c=n.options;e.process(Jt(Kt(c.server.url,c.server.process,c.name,{chunkTransferId:e.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays}),{allowMinimumUploadDuration:i("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(function(n,a,r){Xe("PREPARE_OUTPUT",n,{query:i,item:e}).then((function(i){t("DID_PREPARE_OUTPUT",{id:e.id,file:i});a(i)})).catch(r)}))})),RETRY_ITEM_PROCESSING:gi(n,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:gi(n,(function(e){fi(i("GET_BEFORE_REMOVE_FILE"),ze(e)).then((function(i){if(!i){return}t("REMOVE_ITEM",{query:e})}))})),RELEASE_ITEM:gi(n,(function(e){e.release()})),REMOVE_ITEM:gi(n,(function(e,a,r,o){var s=function i(){var r=e.id;oi(n.items,r).archive();t("DID_REMOVE_ITEM",{error:null,id:r,item:e});pi(t,n);a(ze(e))};var l=n.options.server;if(e.origin===He.LOCAL&&l&&re(l.remove)&&o.remove!==false){t("DID_START_ITEM_REMOVE",{id:e.id});l.remove(e.source,(function(){return s()}),(function(i){t("DID_THROW_ITEM_REMOVE_ERROR",{id:e.id,error:qt("error",0,i,null),status:{main:ui(n.options.labelFileRemoveError)(i),sub:n.options.labelTapToRetry}})}))}else{if(o.revert&&e.origin!==He.LOCAL&&e.serverId!==null||n.options.chunkUploads&&e.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce){e.revert(Zt(n.options.server.url,n.options.server.revert),i("GET_FORCE_REVERT"))}s()}})),ABORT_ITEM_LOAD:gi(n,(function(e){e.abortLoad()})),ABORT_ITEM_PROCESSING:gi(n,(function(e){if(e.serverId){t("REVERT_ITEM_PROCESSING",{id:e.id});return}e.abortProcessing().then((function(){var i=n.options.instantUpload;if(i){t("REMOVE_ITEM",{query:e.id})}}))})),REQUEST_REVERT_ITEM_PROCESSING:gi(n,(function(e){if(!n.options.instantUpload){t("REVERT_ITEM_PROCESSING",{query:e});return}var a=function i(n){if(!n)return;t("REVERT_ITEM_PROCESSING",{query:e})};var r=i("GET_BEFORE_REMOVE_FILE");if(!r){return a(true)}var o=r(ze(e));if(o==null){return a(true)}if(typeof o==="boolean"){return a(o)}if(typeof o.then==="function"){o.then(a)}})),REVERT_ITEM_PROCESSING:gi(n,(function(e){e.revert(Zt(n.options.server.url,n.options.server.revert),i("GET_FORCE_REVERT")).then((function(){var i=n.options.instantUpload||di(e);if(i){t("REMOVE_ITEM",{query:e.id})}})).catch((function(){}))})),SET_OPTIONS:function e(i){var n=i.options;var a=Object.keys(n);var r=vi.filter((function(e){return a.includes(e)}));var o=[].concat(Me(r),Me(Object.keys(n).filter((function(e){return!r.includes(e)}))));o.forEach((function(e){t("SET_"+xe(e,"_").toUpperCase(),{value:n[e]})}))}}};var vi=["server"];var _i=function e(t){return t};var bi=function e(t){return document.createElement(t)};var yi=function e(t,i){var n=t.childNodes[0];if(!n){n=document.createTextNode(i);t.appendChild(n)}else if(i!==n.nodeValue){n.nodeValue=i}};var wi=function e(t,i,n,a){var r=(a%360-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:i+n*Math.sin(r)}};var xi=function e(t,i,n,a,r,o){var s=wi(t,i,n,r);var l=wi(t,i,n,a);return["M",s.x,s.y,"A",n,n,0,o,0,l.x,l.y].join(" ")};var Ei=function e(t,i,n,a,r){var o=1;if(r>a&&r-a<=.5){o=0}if(a>r&&a-r>=.5){o=0}return xi(t,i,n,Math.min(.9999,a)*360,Math.min(.9999,r)*360,o)};var ki=function e(t){var i=t.root,n=t.props;n.spin=false;n.progress=0;n.opacity=0;var a=u("svg");i.ref.path=u("path",{"stroke-width":2,"stroke-linecap":"round"});a.appendChild(i.ref.path);i.ref.svg=a;i.appendChild(a)};var Ii=function e(t){var i=t.root,n=t.props;if(n.opacity===0){return}if(n.align){i.element.dataset.align=n.align}var a=parseInt(o(i.ref.path,"stroke-width"),10);var r=i.rect.element.width*.5;var s=0;var l=0;if(n.spin){s=0;l=.5}else{s=0;l=n.progress}var c=Ei(r,r,r-a,s,l);o(i.ref.path,"d",c);o(i.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)};var Ti=q({tag:"div",name:"progress-indicator",ignoreRectUpdate:true,ignoreRect:true,create:ki,write:Ii,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}});var Ai=function e(t){var i=t.root,n=t.props;i.element.innerHTML=(n.icon||"")+("<span>"+n.label+"</span>");n.isDisabled=false};var Si=function e(t){var i=t.root,n=t.props;var a=n.isDisabled;var r=i.query("GET_DISABLED")||n.opacity===0;if(r&&!a){n.isDisabled=true;o(i.element,"disabled","disabled")}else if(!r&&a){n.isDisabled=false;i.element.removeAttribute("disabled")}};var Ci=q({tag:"button",attributes:{type:"button"},ignoreRect:true,ignoreRectUpdate:true,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:true},create:Ai,write:Si});var Mi=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:".";var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1e3;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var r=a.labelBytes,o=r===void 0?"bytes":r,s=a.labelKilobytes,l=s===void 0?"KB":s,c=a.labelMegabytes,u=c===void 0?"MB":c,d=a.labelGigabytes,p=d===void 0?"GB":d;t=Math.round(Math.abs(t));var f=n;var h=n*n;var g=n*n*n;if(t<f){return t+" "+o}if(t<h){return Math.floor(t/f)+" "+l}if(t<g){return Di(t/h,1,i)+" "+u}return Di(t/g,2,i)+" "+p};var Di=function e(t,i,n){return t.toFixed(i).split(".").filter((function(e){return e!=="0"})).join(n)};var Li=function e(t){var i=t.root,n=t.props;var a=bi("span");a.className="filepond--file-info-main";o(a,"aria-hidden","true");i.appendChild(a);i.ref.fileName=a;var r=bi("span");r.className="filepond--file-info-sub";i.appendChild(r);i.ref.fileSize=r;yi(r,i.query("GET_LABEL_FILE_WAITING_FOR_SIZE"));yi(a,_i(i.query("GET_ITEM_NAME",n.id)))};var Oi=function e(t){var i=t.root,n=t.props;yi(i.ref.fileSize,Mi(i.query("GET_ITEM_SIZE",n.id),".",i.query("GET_FILE_SIZE_BASE"),i.query("GET_FILE_SIZE_LABELS",i.query)));yi(i.ref.fileName,_i(i.query("GET_ITEM_NAME",n.id)))};var Pi=function e(t){var i=t.root,n=t.props;if(ne(i.query("GET_ITEM_SIZE",n.id))){Oi({root:i,props:n});return}yi(i.ref.fileSize,i.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))};var Ri=q({name:"file-info",ignoreRect:true,ignoreRectUpdate:true,write:U({DID_LOAD_ITEM:Oi,DID_UPDATE_ITEM_META:Oi,DID_THROW_ITEM_LOAD_ERROR:Pi,DID_THROW_ITEM_INVALID:Pi}),didCreateView:function e(t){Ke("CREATE_VIEW",Object.assign({},t,{view:t}))},create:Li,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}});var Ni=function e(t){return Math.round(t*100)};var Fi=function e(t){var i=t.root;var n=bi("span");n.className="filepond--file-status-main";i.appendChild(n);i.ref.main=n;var a=bi("span");a.className="filepond--file-status-sub";i.appendChild(a);i.ref.sub=a;Gi({root:i,action:{progress:null}})};var Gi=function e(t){var i=t.root,n=t.action;var a=n.progress===null?i.query("GET_LABEL_FILE_LOADING"):i.query("GET_LABEL_FILE_LOADING")+" "+Ni(n.progress)+"%";yi(i.ref.main,a);yi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))};var zi=function e(t){var i=t.root,n=t.action;var a=n.progress===null?i.query("GET_LABEL_FILE_PROCESSING"):i.query("GET_LABEL_FILE_PROCESSING")+" "+Ni(n.progress)+"%";yi(i.ref.main,a);yi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))};var Bi=function e(t){var i=t.root;yi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING"));yi(i.ref.sub,i.query("GET_LABEL_TAP_TO_CANCEL"))};var qi=function e(t){var i=t.root;yi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING_ABORTED"));yi(i.ref.sub,i.query("GET_LABEL_TAP_TO_RETRY"))};var Hi=function e(t){var i=t.root;yi(i.ref.main,i.query("GET_LABEL_FILE_PROCESSING_COMPLETE"));yi(i.ref.sub,i.query("GET_LABEL_TAP_TO_UNDO"))};var Ui=function e(t){var i=t.root;yi(i.ref.main,"");yi(i.ref.sub,"")};var Vi=function e(t){var i=t.root,n=t.action;yi(i.ref.main,n.status.main);yi(i.ref.sub,n.status.sub)};var ji=q({name:"file-status",ignoreRect:true,ignoreRectUpdate:true,write:U({DID_LOAD_ITEM:Ui,DID_REVERT_ITEM_PROCESSING:Ui,DID_REQUEST_ITEM_PROCESSING:Bi,DID_ABORT_ITEM_PROCESSING:qi,DID_COMPLETE_ITEM_PROCESSING:Hi,DID_UPDATE_ITEM_PROCESS_PROGRESS:zi,DID_UPDATE_ITEM_LOAD_PROGRESS:Gi,DID_THROW_ITEM_LOAD_ERROR:Vi,DID_THROW_ITEM_INVALID:Vi,DID_THROW_ITEM_PROCESSING_ERROR:Vi,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Vi,DID_THROW_ITEM_REMOVE_ERROR:Vi}),didCreateView:function e(t){Ke("CREATE_VIEW",Object.assign({},t,{view:t}))},create:Fi,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}});var Yi={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}};var Wi=[];a(Yi,(function(e){Wi.push(e)}));var Xi=function e(t){if(en(t)==="right")return 0;var i=t.ref.buttonRemoveItem.rect.element;return i.hidden?null:i.width+i.left};var Ki=function e(t){var i=t.ref.buttonAbortItemLoad.rect.element;return i.width};var Zi=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)};var Qi=function e(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)};var $i=function e(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")};var Ji=function e(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")};var en=function e(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")};var tn={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:$i},processProgressIndicator:{opacity:0,align:Ji},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}};var nn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Xi},status:{translateX:Xi}};var an={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}};var rn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Xi},status:{translateX:Xi,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Xi},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:en},info:{translateX:Xi},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:en},buttonRemoveItem:{opacity:1},info:{translateX:Xi},status:{opacity:1,translateX:Xi}},DID_LOAD_ITEM:nn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Xi},status:{translateX:Xi}},DID_START_ITEM_PROCESSING:an,DID_REQUEST_ITEM_PROCESSING:an,DID_UPDATE_ITEM_PROCESS_PROGRESS:an,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Xi}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Xi},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:nn};var on=q({create:function e(t){var i=t.root;i.element.innerHTML=i.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:true,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}});var sn=function e(t){var i=t.root,n=t.props;var r=Object.keys(Yi).reduce((function(e,t){e[t]=Object.assign({},Yi[t]);return e}),{});var o=n.id;var s=i.query("GET_ALLOW_REVERT");var l=i.query("GET_ALLOW_REMOVE");var c=i.query("GET_ALLOW_PROCESS");var u=i.query("GET_INSTANT_UPLOAD");var d=i.query("IS_ASYNC");var p=i.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");var f;if(d){if(c&&!s){f=function e(t){return!/RevertItemProcessing/.test(t)}}else if(!c&&s){f=function e(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}}else if(!c&&!s){f=function e(t){return!/Process/.test(t)}}}else{f=function e(t){return!/Process/.test(t)}}var h=f?Wi.filter(f):Wi.concat();if(u&&s){r["RevertItemProcessing"].label="GET_LABEL_BUTTON_REMOVE_ITEM";r["RevertItemProcessing"].icon="GET_ICON_REMOVE"}if(d&&!s){var g=rn["DID_COMPLETE_ITEM_PROCESSING"];g.info.translateX=Qi;g.info.translateY=Zi;g.status.translateY=Zi;g.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(d&&!c){["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(e){rn[e].status.translateY=Zi}));rn["DID_THROW_ITEM_PROCESSING_ERROR"].status.translateX=Ki}if(p&&s){r["RevertItemProcessing"].align="BUTTON_REMOVE_ITEM_POSITION";var m=rn["DID_COMPLETE_ITEM_PROCESSING"];m.info.translateX=Xi;m.status.translateY=Zi;m.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(!l){r["RemoveItem"].disabled=true}a(r,(function(e,t){var n=i.createChildView(Ci,{label:i.query(t.label),icon:i.query(t.icon),opacity:0});if(h.includes(e)){i.appendChildView(n)}if(t.disabled){n.element.setAttribute("disabled","disabled");n.element.setAttribute("hidden","hidden")}n.element.dataset.align=i.query("GET_STYLE_"+t.align);n.element.classList.add(t.className);n.on("click",(function(e){e.stopPropagation();if(t.disabled)return;i.dispatch(t.action,{query:o})}));i.ref["button"+e]=n}));i.ref.processingCompleteIndicator=i.appendChildView(i.createChildView(on));i.ref.processingCompleteIndicator.element.dataset.align=i.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION");i.ref.info=i.appendChildView(i.createChildView(Ri,{id:o}));i.ref.status=i.appendChildView(i.createChildView(ji,{id:o}));var v=i.appendChildView(i.createChildView(Ti,{opacity:0,align:i.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));v.element.classList.add("filepond--load-indicator");i.ref.loadProgressIndicator=v;var _=i.appendChildView(i.createChildView(Ti,{opacity:0,align:i.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));_.element.classList.add("filepond--process-indicator");i.ref.processProgressIndicator=_;i.ref.activeStyles=[]};var ln=function e(t){var i=t.root,n=t.actions,r=t.props;cn({root:i,actions:n,props:r});var o=n.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return rn[e.type]}));if(o){i.ref.activeStyles=[];var s=rn[o.type];a(tn,(function(e,t){var n=i.ref[e];a(t,(function(t,a){var r=s[e]&&typeof s[e][t]!=="undefined"?s[e][t]:a;i.ref.activeStyles.push({control:n,key:t,value:r})}))}))}i.ref.activeStyles.forEach((function(e){var t=e.control,n=e.key,a=e.value;t[n]=typeof a==="function"?a(i):a}))};var cn=U({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function e(t){var i=t.root,n=t.action;i.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function e(t){var i=t.root,n=t.action;i.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function e(t){var i=t.root,n=t.action;i.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function e(t){var i=t.root;i.ref.processProgressIndicator.spin=true;i.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function e(t){var i=t.root;i.ref.loadProgressIndicator.spin=true;i.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function e(t){var i=t.root;i.ref.processProgressIndicator.spin=true;i.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function e(t){var i=t.root,n=t.action;i.ref.loadProgressIndicator.spin=false;i.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function e(t){var i=t.root,n=t.action;i.ref.processProgressIndicator.spin=false;i.ref.processProgressIndicator.progress=n.progress}});var un=q({create:sn,write:ln,didCreateView:function e(t){Ke("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"});var dn=function e(t){var i=t.root,n=t.props;i.ref.fileName=bi("legend");i.appendChild(i.ref.fileName);i.ref.file=i.appendChildView(i.createChildView(un,{id:n.id}));i.ref.data=false};var pn=function e(t){var i=t.root,n=t.props;yi(i.ref.fileName,_i(i.query("GET_ITEM_NAME",n.id)))};var fn=q({create:dn,ignoreRect:true,write:U({DID_LOAD_ITEM:pn}),didCreateView:function e(t){Ke("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"});var hn={type:"spring",damping:.6,mass:7};var gn=function e(t){var i=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:hn},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:hn},styles:["translateY"]}}].forEach((function(e){mn(i,e,n.name)}));i.element.classList.add("filepond--"+n.name);i.ref.scalable=null};var mn=function e(t,i,n){var a=q({name:"panel-"+i.name+" filepond--"+n,mixins:i.mixins,ignoreRectUpdate:true});var r=t.createChildView(a,i.props);t.ref[i.name]=t.appendChildView(r)};var vn=function e(t){var i=t.root,n=t.props;if(i.ref.scalable===null||n.scalable!==i.ref.scalable){i.ref.scalable=Q(n.scalable)?n.scalable:true;i.element.dataset.scalable=i.ref.scalable}if(!n.height)return;var a=i.ref.top.rect.element;var r=i.ref.bottom.rect.element;var o=Math.max(a.height+r.height,n.height);i.ref.center.translateY=a.height;i.ref.center.scaleY=(o-a.height-r.height)/100;i.ref.bottom.translateY=o-r.height};var _n=q({name:"panel",read:function e(t){var i=t.root,n=t.props;return n.heightCurrent=i.ref.bottom.translateY},write:vn,create:gn,ignoreRect:true,mixins:{apis:["height","heightCurrent","scalable"]}});var bn=function e(t){var i=t.map((function(e){return e.id}));var n=undefined;return{setIndex:function e(t){n=t},getIndex:function e(){return n},getItemIndex:function e(t){return i.indexOf(t.id)}}};var yn={type:"spring",stiffness:.75,damping:.45,mass:10};var wn="spring";var xn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"};var En=function e(t){var i=t.root,n=t.props;i.ref.handleClick=function(e){return i.dispatch("DID_ACTIVATE_ITEM",{id:n.id})};i.element.id="filepond--item-"+n.id;i.element.addEventListener("click",i.ref.handleClick);i.ref.container=i.appendChildView(i.createChildView(fn,{id:n.id}));i.ref.panel=i.appendChildView(i.createChildView(_n,{name:"item-panel"}));i.ref.panel.height=null;n.markedForRemoval=false;if(!i.query("GET_ALLOW_REORDER"))return;i.element.dataset.dragState="idle";var a=function e(t){if(!t.isPrimary)return;var a=false;var r={x:t.pageX,y:t.pageY};n.dragOrigin={x:i.translateX,y:i.translateY};n.dragCenter={x:t.offsetX,y:t.offsetY};var o=bn(i.query("GET_ACTIVE_ITEMS"));i.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:o});var s=function e(t){if(!t.isPrimary)return;t.stopPropagation();t.preventDefault();n.dragOffset={x:t.pageX-r.x,y:t.pageY-r.y};var s=n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y;if(s>16&&!a){a=true;i.element.removeEventListener("click",i.ref.handleClick)}i.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:o})};var l=function e(t){if(!t.isPrimary)return;document.removeEventListener("pointermove",s);document.removeEventListener("pointerup",e);n.dragOffset={x:t.pageX-r.x,y:t.pageY-r.y};i.dispatch("DID_DROP_ITEM",{id:n.id,dragState:o});if(a){setTimeout((function(){return i.element.addEventListener("click",i.ref.handleClick)}),0)}};document.addEventListener("pointermove",s);document.addEventListener("pointerup",l)};i.element.addEventListener("pointerdown",a)};var kn=U({DID_UPDATE_PANEL_HEIGHT:function e(t){var i=t.root,n=t.action;i.height=n.height}});var In=U({DID_GRAB_ITEM:function e(t){var i=t.root,n=t.props;n.dragOrigin={x:i.translateX,y:i.translateY}},DID_DRAG_ITEM:function e(t){var i=t.root;i.element.dataset.dragState="drag"},DID_DROP_ITEM:function e(t){var i=t.root,n=t.props;n.dragOffset=null;n.dragOrigin=null;i.element.dataset.dragState="drop"}},(function(e){var t=e.root,i=e.actions,n=e.props,a=e.shouldOptimize;if(t.element.dataset.dragState==="drop"){if(t.scaleX<=1){t.element.dataset.dragState="idle"}}var r=i.concat().filter((function(e){return/^DID_/.test(e.type)})).reverse().find((function(e){return xn[e.type]}));if(r&&r.type!==n.currentState){n.currentState=r.type;t.element.dataset.filepondItemState=xn[n.currentState]||""}var o=t.query("GET_ITEM_PANEL_ASPECT_RATIO")||t.query("GET_PANEL_ASPECT_RATIO");if(!o){kn({root:t,actions:i,props:n});if(!t.height&&t.ref.container.rect.element.height>0){t.height=t.ref.container.rect.element.height}}else if(!a){t.height=t.rect.element.width*o}if(a){t.ref.panel.height=null}t.ref.panel.height=t.height}));var Tn=q({create:En,write:In,destroy:function e(t){var i=t.root,n=t.props;i.element.removeEventListener("click",i.ref.handleClick);i.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:wn,scaleY:wn,translateX:yn,translateY:yn,opacity:{type:"tween",duration:150}}}});var An=function(e,t){return Math.max(1,Math.floor((e+1)/t))};var Sn=function e(t,i,n){if(!n)return;var a=t.rect.element.width;var r=i.length;var o=null;if(r===0||n.top<i[0].rect.element.top)return-1;var s=i[0];var l=s.rect.element;var c=l.marginLeft+l.marginRight;var u=l.width+c;var d=An(a,u);if(d===1){for(var p=0;p<r;p++){var f=i[p];var h=f.rect.outer.top+f.rect.element.height*.5;if(n.top<h){return p}}return r}var g=l.marginTop+l.marginBottom;var m=l.height+g;for(var v=0;v<r;v++){var _=v%d;var b=Math.floor(v/d);var y=_*u;var w=b*m;var x=w-l.marginTop;var E=y+u;var k=w+m+l.marginBottom;if(n.top<k&&n.top>x){if(n.left<E){return v}else if(v!==r-1){o=v}else{o=null}}}if(o!==null){return o}return r};var Cn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){if(this.height===0||e===0)this.height=e},get getWidth(){return this.width},set setWidth(e){if(this.width===0||e===0)this.width=e},setDimensions:function e(t,i){if(this.height===0||t===0)this.height=t;if(this.width===0||i===0)this.width=i}};var Mn=function e(t){var i=t.root;o(i.element,"role","list");i.ref.lastItemSpanwDate=Date.now()};var Dn=function e(t){var i=t.root,n=t.action;var a=n.id,r=n.index,o=n.interactionMethod;i.ref.addIndex=r;var s=Date.now();var l=s;var c=1;if(o!==Te.NONE){c=0;var u=i.query("GET_ITEM_INSERT_INTERVAL");var d=s-i.ref.lastItemSpanwDate;l=d<u?s+(u-d):s}i.ref.lastItemSpanwDate=l;i.appendChildView(i.createChildView(Tn,{spawnDate:l,id:a,opacity:c,interactionMethod:o}),r)};var Ln=function e(t,i,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1;if(t.dragOffset){t.translateX=null;t.translateY=null;t.translateX=t.dragOrigin.x+t.dragOffset.x;t.translateY=t.dragOrigin.y+t.dragOffset.y;t.scaleX=1.025;t.scaleY=1.025}else{t.translateX=i;t.translateY=n;if(Date.now()>t.spawnDate){if(t.opacity===0){On(t,i,n,a,r)}t.scaleX=1;t.scaleY=1;t.opacity=1}}};var On=function e(t,i,n,a,r){if(t.interactionMethod===Te.NONE){t.translateX=null;t.translateX=i;t.translateY=null;t.translateY=n}else if(t.interactionMethod===Te.DROP){t.translateX=null;t.translateX=i-a*20;t.translateY=null;t.translateY=n-r*10;t.scaleX=.8;t.scaleY=.8}else if(t.interactionMethod===Te.BROWSE){t.translateY=null;t.translateY=n-30}else if(t.interactionMethod===Te.API){t.translateX=null;t.translateX=i-30;t.translateY=null}};var Pn=function e(t){var i=t.root,n=t.action;var a=n.id;var r=i.childViews.find((function(e){return e.id===a}));if(!r){return}r.scaleX=.9;r.scaleY=.9;r.opacity=0;r.markedForRemoval=true};var Rn=function e(t){return t.rect.element.height+t.rect.element.marginBottom*.5+t.rect.element.marginTop*.5};var Nn=function e(t){return t.rect.element.width+t.rect.element.marginLeft*.5+t.rect.element.marginRight*.5};var Fn=function e(t){var i=t.root,n=t.action;var a=n.id,r=n.dragState;var o=i.query("GET_ITEM",{id:a});var s=i.childViews.find((function(e){return e.id===a}));var l=i.childViews.length;var c=r.getItemIndex(o);if(!s)return;var u={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y};var d=Rn(s);var p=Nn(s);var f=Math.floor(i.rect.outer.width/p);if(f>l)f=l;var h=Math.floor(l/f+1);Cn.setHeight=d*h;Cn.setWidth=p*f;var g={y:Math.floor(u.y/d),x:Math.floor(u.x/p),getGridIndex:function e(){if(u.y>Cn.getHeight||u.y<0||u.x>Cn.getWidth||u.x<0)return c;return this.y*f+this.x},getColIndex:function e(){var t=i.query("GET_ACTIVE_ITEMS");var n=i.childViews.filter((function(e){return e.rect.element.height}));var a=t.map((function(e){return n.find((function(t){return t.id===e.id}))}));var r=a.findIndex((function(e){return e===s}));var o=Rn(s);var l=a.length;var c=l;var d=0;var p=0;var f=0;for(var h=0;h<l;h++){d=Rn(a[h]);f=p;p=f+d;if(u.y<p){if(r>h){if(u.y<f+o){c=h;break}continue}c=h;break}}return c}};var m=f>1?g.getGridIndex():g.getColIndex();i.dispatch("MOVE_ITEM",{query:s,index:m});var v=r.getIndex();if(v===undefined||v!==m){r.setIndex(m);if(v===undefined)return;i.dispatch("DID_REORDER_ITEMS",{items:i.query("GET_ACTIVE_ITEMS"),origin:c,target:m})}};var Gn=U({DID_ADD_ITEM:Dn,DID_REMOVE_ITEM:Pn,DID_DRAG_ITEM:Fn});var zn=function e(t){var i=t.root,n=t.props,a=t.actions,r=t.shouldOptimize;Gn({root:i,props:n,actions:a});var o=n.dragCoordinates;var s=i.rect.element.width;var l=i.childViews.filter((function(e){return e.rect.element.height}));var c=i.query("GET_ACTIVE_ITEMS").map((function(e){return l.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));var u=o?Sn(i,c,o):null;var d=i.ref.addIndex||null;i.ref.addIndex=null;var p=0;var f=0;var h=0;if(c.length===0)return;var g=c[0].rect.element;var m=g.marginTop+g.marginBottom;var v=g.marginLeft+g.marginRight;var _=g.width+v;var b=g.height+m;var y=An(s,_);if(y===1){var w=0;var x=0;c.forEach((function(e,t){if(u){var i=t-u;if(i===-2){x=-m*.25}else if(i===-1){x=-m*.75}else if(i===0){x=m*.75}else if(i===1){x=m*.25}else{x=0}}if(r){e.translateX=null;e.translateY=null}if(!e.markedForRemoval){Ln(e,0,w+x)}var n=e.rect.element.height+m;var a=n*(e.markedForRemoval?e.opacity:1);w+=a}))}else{var E=0;var k=0;c.forEach((function(e,t){if(t===u){p=1}if(t===d){h+=1}if(e.markedForRemoval&&e.opacity<.5){f-=1}var i=t+h+p+f;var n=i%y;var a=Math.floor(i/y);var o=n*_;var s=a*b;var l=Math.sign(o-E);var c=Math.sign(s-k);E=o;k=s;if(e.markedForRemoval)return;if(r){e.translateX=null;e.translateY=null}Ln(e,o,s,l,c)}))}};var Bn=function e(t,i){return i.filter((function(e){if(e.data&&e.data.id){return t.id===e.data.id}return true}))};var qn=q({create:Mn,write:zn,tag:"ul",name:"list",didWriteView:function e(t){var i=t.root;i.childViews.filter((function(e){return e.markedForRemoval&&e.opacity===0&&e.resting})).forEach((function(e){e._destroy();i.removeChildView(e)}))},filterFrameActionsForChild:Bn,mixins:{apis:["dragCoordinates"]}});var Hn=function e(t){var i=t.root,n=t.props;i.ref.list=i.appendChildView(i.createChildView(qn));n.dragCoordinates=null;n.overflowing=false};var Un=function e(t){var i=t.root,n=t.props,a=t.action;if(!i.query("GET_ITEM_INSERT_LOCATION_FREEDOM"))return;n.dragCoordinates={left:a.position.scopeLeft-i.ref.list.rect.element.left,top:a.position.scopeTop-(i.rect.outer.top+i.rect.element.marginTop+i.rect.element.scrollTop)}};var Vn=function e(t){var i=t.props;i.dragCoordinates=null};var jn=U({DID_DRAG:Un,DID_END_DRAG:Vn});var Yn=function e(t){var i=t.root,n=t.props,a=t.actions;jn({root:i,props:n,actions:a});i.ref.list.dragCoordinates=n.dragCoordinates;if(n.overflowing&&!n.overflow){n.overflowing=false;i.element.dataset.state="";i.height=null}if(n.overflow){var r=Math.round(n.overflow);if(r!==i.height){n.overflowing=true;i.element.dataset.state="overflow";i.height=r}}};var Wn=q({create:Hn,write:Yn,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}});var Xn=function e(t,i,n){var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";if(n){o(t,i,a)}else{t.removeAttribute(i)}};var Kn=function e(t){if(!t||t.value===""){return}try{t.value=""}catch(e){}if(t.value){var i=bi("form");var n=t.parentNode;var a=t.nextSibling;i.appendChild(t);i.reset();if(a){n.insertBefore(t,a)}else{n.appendChild(t)}}};var Zn=function e(t){var i=t.root,n=t.props;i.element.id="filepond--browser-"+n.id;o(i.element,"name",i.query("GET_NAME"));o(i.element,"aria-controls","filepond--assistant-"+n.id);o(i.element,"aria-labelledby","filepond--drop-label-"+n.id);Qn({root:i,action:{value:i.query("GET_ACCEPTED_FILE_TYPES")}});$n({root:i,action:{value:i.query("GET_ALLOW_MULTIPLE")}});Jn({root:i,action:{value:i.query("GET_ALLOW_DIRECTORIES_ONLY")}});ea({root:i});ta({root:i,action:{value:i.query("GET_REQUIRED")}});ia({root:i,action:{value:i.query("GET_CAPTURE_METHOD")}});i.ref.handleChange=function(e){if(!i.element.value){return}var t=Array.from(i.element.files).map((function(e){e._relativePath=e.webkitRelativePath;return e}));setTimeout((function(){n.onload(t);Kn(i.element)}),250)};i.element.addEventListener("change",i.ref.handleChange)};var Qn=function e(t){var i=t.root,n=t.action;if(!i.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE"))return;Xn(i.element,"accept",!!n.value,n.value?n.value.join(","):"")};var $n=function e(t){var i=t.root,n=t.action;Xn(i.element,"multiple",n.value)};var Jn=function e(t){var i=t.root,n=t.action;Xn(i.element,"webkitdirectory",n.value)};var ea=function e(t){var i=t.root;var n=i.query("GET_DISABLED");var a=i.query("GET_ALLOW_BROWSE");var r=n||!a;Xn(i.element,"disabled",r)};var ta=function e(t){var i=t.root,n=t.action;if(!n.value){Xn(i.element,"required",false)}else if(i.query("GET_TOTAL_ITEMS")===0){Xn(i.element,"required",true)}};var ia=function e(t){var i=t.root,n=t.action;Xn(i.element,"capture",!!n.value,n.value===true?"":n.value)};var na=function e(t){var i=t.root;var n=i.element;if(i.query("GET_TOTAL_ITEMS")>0){Xn(n,"required",false);Xn(n,"name",false)}else{Xn(n,"name",true,i.query("GET_NAME"));var a=i.query("GET_CHECK_VALIDITY");if(a){n.setCustomValidity("")}if(i.query("GET_REQUIRED")){Xn(n,"required",true)}}};var aa=function e(t){var i=t.root;var n=i.query("GET_CHECK_VALIDITY");if(!n)return;i.element.setCustomValidity(i.query("GET_LABEL_INVALID_FIELD"))};var ra=q({tag:"input",name:"browser",ignoreRect:true,ignoreRectUpdate:true,attributes:{type:"file"},create:Zn,destroy:function e(t){var i=t.root;i.element.removeEventListener("change",i.ref.handleChange)},write:U({DID_LOAD_ITEM:na,DID_REMOVE_ITEM:na,DID_THROW_ITEM_INVALID:aa,DID_SET_DISABLED:ea,DID_SET_ALLOW_BROWSE:ea,DID_SET_ALLOW_DIRECTORIES_ONLY:Jn,DID_SET_ALLOW_MULTIPLE:$n,DID_SET_ACCEPTED_FILE_TYPES:Qn,DID_SET_CAPTURE_METHOD:ia,DID_SET_REQUIRED:ta})});var oa={ENTER:13,SPACE:32};var sa=function e(t){var i=t.root,n=t.props;var a=bi("label");o(a,"for","filepond--browser-"+n.id);o(a,"id","filepond--drop-label-"+n.id);o(a,"aria-hidden","true");i.ref.handleKeyDown=function(e){var t=e.keyCode===oa.ENTER||e.keyCode===oa.SPACE;if(!t)return;e.preventDefault();i.ref.label.click()};i.ref.handleClick=function(e){var t=e.target===a||a.contains(e.target);if(t)return;i.ref.label.click()};a.addEventListener("keydown",i.ref.handleKeyDown);i.element.addEventListener("click",i.ref.handleClick);la(a,n.caption);i.appendChild(a);i.ref.label=a};var la=function e(t,i){t.innerHTML=i;var n=t.querySelector(".filepond--label-action");if(n){o(n,"tabindex","0")}return i};var ca=q({name:"drop-label",ignoreRect:true,create:sa,destroy:function e(t){var i=t.root;i.ref.label.addEventListener("keydown",i.ref.handleKeyDown);i.element.removeEventListener("click",i.ref.handleClick)},write:U({DID_SET_LABEL_IDLE:function e(t){var i=t.root,n=t.action;la(i.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}});var ua=q({name:"drip-blob",ignoreRect:true,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}});var da=function e(t){var i=t.root;var n=i.rect.element.width*.5;var a=i.rect.element.height*.5;i.ref.blob=i.appendChildView(i.createChildView(ua,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:a}))};var pa=function e(t){var i=t.root,n=t.action;if(!i.ref.blob){da({root:i});return}i.ref.blob.translateX=n.position.scopeLeft;i.ref.blob.translateY=n.position.scopeTop;i.ref.blob.scaleX=1;i.ref.blob.scaleY=1;i.ref.blob.opacity=1};var fa=function e(t){var i=t.root;if(!i.ref.blob){return}i.ref.blob.opacity=0};var ha=function e(t){var i=t.root;if(!i.ref.blob){return}i.ref.blob.scaleX=2.5;i.ref.blob.scaleY=2.5;i.ref.blob.opacity=0};var ga=function e(t){var i=t.root,n=t.props,a=t.actions;ma({root:i,props:n,actions:a});var r=i.ref.blob;if(a.length===0&&r&&r.opacity===0){i.removeChildView(r);i.ref.blob=null}};var ma=U({DID_DRAG:pa,DID_DROP:ha,DID_END_DRAG:fa});var va=q({ignoreRect:true,ignoreRectUpdate:true,name:"drip",write:ga});var _a=function e(t,i){try{var n=new DataTransfer;i.forEach((function(e){if(e instanceof File){n.items.add(e)}else{n.items.add(new File([e],e.name,{type:e.type}))}}));t.files=n.files}catch(e){return false}return true};var ba=function e(t){var i=t.root;return i.ref.fields={}};var ya=function e(t,i){return t.ref.fields[i]};var wa=function e(t){t.query("GET_ACTIVE_ITEMS").forEach((function(e){if(!t.ref.fields[e.id])return;t.element.appendChild(t.ref.fields[e.id])}))};var xa=function e(t){var i=t.root;return wa(i)};var Ea=function e(t){var i=t.root,n=t.action;var a=i.query("GET_ITEM",n.id);var r=a.origin===He.LOCAL;var o=!r&&i.query("SHOULD_UPDATE_FILE_INPUT");var s=bi("input");s.type=o?"file":"hidden";s.name=i.query("GET_NAME");s.disabled=i.query("GET_DISABLED");i.ref.fields[n.id]=s;wa(i)};var ka=function e(t){var i=t.root,n=t.action;var a=ya(i,n.id);if(!a)return;if(n.serverFileReference!==null)a.value=n.serverFileReference;if(!i.query("SHOULD_UPDATE_FILE_INPUT"))return;var r=i.query("GET_ITEM",n.id);_a(a,[r.file])};var Ia=function e(t){var i=t.root,n=t.action;if(!i.query("SHOULD_UPDATE_FILE_INPUT"))return;setTimeout((function(){var e=ya(i,n.id);if(!e)return;_a(e,[n.file])}),0)};var Ta=function e(t){var i=t.root;i.element.disabled=i.query("GET_DISABLED")};var Aa=function e(t){var i=t.root,n=t.action;var a=ya(i,n.id);if(!a)return;if(a.parentNode)a.parentNode.removeChild(a);delete i.ref.fields[n.id]};var Sa=function e(t){var i=t.root,n=t.action;var a=ya(i,n.id);if(!a)return;if(n.value===null){a.removeAttribute("value")}else{a.value=n.value}wa(i)};var Ca=U({DID_SET_DISABLED:Ta,DID_ADD_ITEM:Ea,DID_LOAD_ITEM:ka,DID_REMOVE_ITEM:Aa,DID_DEFINE_VALUE:Sa,DID_PREPARE_OUTPUT:Ia,DID_REORDER_ITEMS:xa,DID_SORT_ITEMS:xa});var Ma=q({tag:"fieldset",name:"data",create:ba,write:Ca,ignoreRect:true});var Da=function e(t){return"getRootNode"in t?t.getRootNode():document};var La=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"];var Oa=["css","csv","html","txt"];var Pa={zip:"zip|compressed",epub:"application/epub+zip"};var Ra=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";t=t.toLowerCase();if(La.includes(t)){return"image/"+(t==="jpg"?"jpeg":t==="svg"?"svg+xml":t)}if(Oa.includes(t)){return"text/"+t}return Pa[t]||""};var Na=function e(t){return new Promise((function(e,i){var n=Ya(t);if(n.length&&!Fa(t)){return e(n)}Ga(t).then(e)}))};var Fa=function e(t){if(t.files)return t.files.length>0;return false};var Ga=function e(t){return new Promise((function(e,i){var n=(t.items?Array.from(t.items):[]).filter((function(e){return za(e)})).map((function(e){return Ba(e)}));if(!n.length){e(t.files?Array.from(t.files):[]);return}Promise.all(n).then((function(t){var i=[];t.forEach((function(e){i.push.apply(i,e)}));e(i.filter((function(e){return e})).map((function(e){if(!e._relativePath)e._relativePath=e.webkitRelativePath;return e})))})).catch(console.error)}))};var za=function e(t){if(Va(t)){var i=ja(t);if(i){return i.isFile||i.isDirectory}}return t.kind==="file"};var Ba=function e(t){return new Promise((function(e,i){if(Ua(t)){qa(ja(t)).then(e).catch(i);return}e([t.getAsFile()])}))};var qa=function e(t){return new Promise((function(e,i){var n=[];var a=0;var r=0;var o=function t(){if(r===0&&a===0){e(n)}};var s=function e(t){a++;var s=t.createReader();var l=function t(){s.readEntries((function(i){if(i.length===0){a--;o();return}i.forEach((function(t){if(t.isDirectory){e(t)}else{r++;t.file((function(e){var i=Ha(e);if(t.fullPath)i._relativePath=t.fullPath;n.push(i);r--;o()}))}}));t()}),i)};l()};s(t)}))};var Ha=function e(t){if(t.type.length)return t;var i=t.lastModifiedDate;var n=t.name;var a=Ra(wt(t.name));if(!a.length)return t;t=t.slice(0,t.size,a);t.name=n;t.lastModifiedDate=i;return t};var Ua=function e(t){return Va(t)&&(ja(t)||{}).isDirectory};var Va=function e(t){return"webkitGetAsEntry"in t};var ja=function e(t){return t.webkitGetAsEntry()};var Ya=function e(t){var i=[];try{i=Xa(t);if(i.length){return i}i=Wa(t)}catch(e){}return i};var Wa=function e(t){var i=t.getData("url");if(typeof i==="string"&&i.length){return[i]}return[]};var Xa=function e(t){var i=t.getData("text/html");if(typeof i==="string"&&i.length){var n=i.match(/src\s*=\s*"(.+?)"/);if(n){return[n[1]]}}return[]};var Ka=[];var Za=function e(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}};var Qa=function e(t,i,n){var a=$a(i);var r={element:t,filterElement:n,state:null,ondrop:function e(){},onenter:function e(){},ondrag:function e(){},onexit:function e(){},onload:function e(){},allowdrop:function e(){}};r.destroy=a.addListener(r);return r};var $a=function e(t){var i=Ka.find((function(e){return e.element===t}));if(i){return i}var n=Ja(t);Ka.push(n);return n};var Ja=function e(t){var i=[];var n={dragenter:ar,dragover:rr,dragleave:sr,drop:or};var r={};a(n,(function(e,n){r[e]=n(t,i);t.addEventListener(e,r[e],false)}));var o={element:t,addListener:function e(s){i.push(s);return function(){i.splice(i.indexOf(s),1);if(i.length===0){Ka.splice(Ka.indexOf(o),1);a(n,(function(e){t.removeEventListener(e,r[e],false)}))}}}};return o};var er=function e(t,i){if(!("elementFromPoint"in t)){t=document}return t.elementFromPoint(i.x,i.y)};var tr=function e(t,i){var n=Da(i);var a=er(n,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return a===i||i.contains(a)};var ir=null;var nr=function e(t,i){try{t.dropEffect=i}catch(e){}};var ar=function e(t,i){return function(e){e.preventDefault();ir=e.target;i.forEach((function(t){var i=t.element,n=t.onenter;if(tr(e,i)){t.state="enter";n(Za(e))}}))}};var rr=function e(t,i){return function(e){e.preventDefault();var t=e.dataTransfer;Na(t).then((function(n){var a=false;i.some((function(i){var r=i.filterElement,o=i.element,s=i.onenter,l=i.onexit,c=i.ondrag,u=i.allowdrop;nr(t,"copy");var d=u(n);if(!d){nr(t,"none");return}if(tr(e,o)){a=true;if(i.state===null){i.state="enter";s(Za(e));return}i.state="over";if(r&&!d){nr(t,"none");return}c(Za(e))}else{if(r&&!a){nr(t,"none")}if(i.state){i.state=null;l(Za(e))}}}))}))}};var or=function e(t,i){return function(e){e.preventDefault();var t=e.dataTransfer;Na(t).then((function(t){i.forEach((function(i){var n=i.filterElement,a=i.element,r=i.ondrop,o=i.onexit,s=i.allowdrop;i.state=null;if(n&&!tr(e,a))return;if(!s(t))return o(Za(e));r(Za(e),t)}))}))}};var sr=function e(t,i){return function(e){if(ir!==e.target){return}i.forEach((function(t){var i=t.onexit;t.state=null;i(Za(e))}))}};var lr=function e(t,i,n){t.classList.add("filepond--hopper");var a=n.catchesDropsOnPage,r=n.requiresDropOnElement,o=n.filterItems,s=o===void 0?function(e){return e}:o;var l=Qa(t,a?document.documentElement:t,r);var c="";var u="";l.allowdrop=function(e){return i(s(e))};l.ondrop=function(e,t){var n=s(t);if(!i(n)){d.ondragend(e);return}u="drag-drop";d.onload(n,e)};l.ondrag=function(e){d.ondrag(e)};l.onenter=function(e){u="drag-over";d.ondragstart(e)};l.onexit=function(e){u="drag-exit";d.ondragend(e)};var d={updateHopperState:function e(){if(c!==u){t.dataset.hopperState=u;c=u}},onload:function e(){},ondragstart:function e(){},ondrag:function e(){},ondragend:function e(){},destroy:function e(){l.destroy()}};return d};var cr=false;var ur=[];var dr=function e(t){var i=document.activeElement;if(i&&/textarea|input/i.test(i.nodeName)){var n=false;var a=i;while(a!==document.body){if(a.classList.contains("filepond--root")){n=true;break}a=a.parentNode}if(!n)return}Na(t.clipboardData).then((function(e){if(!e.length){return}ur.forEach((function(t){return t(e)}))}))};var pr=function e(t){if(ur.includes(t)){return}ur.push(t);if(cr){return}cr=true;document.addEventListener("paste",dr)};var fr=function e(t){Pe(ur,ur.indexOf(t));if(ur.length===0){document.removeEventListener("paste",dr);cr=false}};var hr=function e(){var t=function e(t){i.onload(t)};var i={destroy:function e(){fr(t)},onload:function e(){}};pr(t);return i};var gr=function e(t){var i=t.root,n=t.props;i.element.id="filepond--assistant-"+n.id;o(i.element,"role","status");o(i.element,"aria-live","polite");o(i.element,"aria-relevant","additions")};var mr=null;var vr=null;var _r=[];var br=function e(t,i){t.element.textContent=i};var yr=function e(t){t.element.textContent=""};var wr=function e(t,i,n){var a=t.query("GET_TOTAL_ITEMS");br(t,n+" "+i+", "+a+" "+(a===1?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL")));clearTimeout(vr);vr=setTimeout((function(){yr(t)}),1500)};var xr=function e(t){return t.element.parentNode.contains(document.activeElement)};var Er=function e(t){var i=t.root,n=t.action;if(!xr(i)){return}i.element.textContent="";var a=i.query("GET_ITEM",n.id);_r.push(a.filename);clearTimeout(mr);mr=setTimeout((function(){wr(i,_r.join(", "),i.query("GET_LABEL_FILE_ADDED"));_r.length=0}),750)};var kr=function e(t){var i=t.root,n=t.action;if(!xr(i)){return}var a=n.item;wr(i,a.filename,i.query("GET_LABEL_FILE_REMOVED"))};var Ir=function e(t){var i=t.root,n=t.action;var a=i.query("GET_ITEM",n.id);var r=a.filename;var o=i.query("GET_LABEL_FILE_PROCESSING_COMPLETE");br(i,r+" "+o)};var Tr=function e(t){var i=t.root,n=t.action;var a=i.query("GET_ITEM",n.id);var r=a.filename;var o=i.query("GET_LABEL_FILE_PROCESSING_ABORTED");br(i,r+" "+o)};var Ar=function e(t){var i=t.root,n=t.action;var a=i.query("GET_ITEM",n.id);var r=a.filename;br(i,n.status.main+" "+r+" "+n.status.sub)};var Sr=q({create:gr,ignoreRect:true,ignoreRectUpdate:true,write:U({DID_LOAD_ITEM:Er,DID_REMOVE_ITEM:kr,DID_COMPLETE_ITEM_PROCESSING:Ir,DID_ABORT_ITEM_PROCESSING:Tr,DID_REVERT_ITEM_PROCESSING:Tr,DID_THROW_ITEM_REMOVE_ERROR:Ar,DID_THROW_ITEM_LOAD_ERROR:Ar,DID_THROW_ITEM_INVALID:Ar,DID_THROW_ITEM_PROCESSING_ERROR:Ar}),tag:"span",name:"assistant"});var Cr=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"-";return t.replace(new RegExp(i+".","g"),(function(e){return e.charAt(1).toUpperCase()}))};var Mr=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:16;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var a=Date.now();var r=null;return function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++){o[s]=arguments[s]}clearTimeout(r);var l=Date.now()-a;var c=function e(){a=Date.now();t.apply(void 0,o)};if(l<i){if(!n){r=setTimeout(c,i-l)}}else{c()}}};var Dr=1e6;var Lr=function e(t){return t.preventDefault()};var Or=function e(t){var i=t.root,n=t.props;var a=i.query("GET_ID");if(a){i.element.id=a}var r=i.query("GET_CLASS_NAME");if(r){r.split(" ").filter((function(e){return e.length})).forEach((function(e){i.element.classList.add(e)}))}i.ref.label=i.appendChildView(i.createChildView(ca,Object.assign({},n,{translateY:null,caption:i.query("GET_LABEL_IDLE")})));i.ref.list=i.appendChildView(i.createChildView(Wn,{translateY:null}));i.ref.panel=i.appendChildView(i.createChildView(_n,{name:"panel-root"}));i.ref.assistant=i.appendChildView(i.createChildView(Sr,Object.assign({},n)));i.ref.data=i.appendChildView(i.createChildView(Ma,Object.assign({},n)));i.ref.measure=bi("div");i.ref.measure.style.height="100%";i.element.appendChild(i.ref.measure);i.ref.bounds=null;i.query("GET_STYLES").filter((function(e){return!W(e.value)})).map((function(e){var t=e.name,n=e.value;i.element.dataset[t]=n}));i.ref.widthPrevious=null;i.ref.widthUpdated=Mr((function(){i.ref.updateHistory=[];i.dispatch("DID_RESIZE_ROOT")}),250);i.ref.previousAspectRatio=null;i.ref.updateHistory=[];var o=window.matchMedia("(pointer: fine) and (hover: hover)").matches;var s="PointerEvent"in window;if(i.query("GET_ALLOW_REORDER")&&s&&!o){i.element.addEventListener("touchmove",Lr,{passive:false});i.element.addEventListener("gesturestart",Lr)}var l=i.query("GET_CREDITS");var c=l.length===2;if(c){var u=document.createElement("a");u.className="filepond--credits";u.setAttribute("aria-hidden","true");u.href=l[0];u.tabindex=-1;u.target="_blank";u.rel="noopener noreferrer";u.textContent=l[1];i.element.appendChild(u);i.ref.credits=u}};var Pr=function e(t){var i=t.root,n=t.props,a=t.actions;Ur({root:i,props:n,actions:a});a.filter((function(e){return/^DID_SET_STYLE_/.test(e.type)})).filter((function(e){return!W(e.data.value)})).map((function(e){var t=e.type,n=e.data;var a=Cr(t.substring(8).toLowerCase(),"_");i.element.dataset[a]=n.value;i.invalidateLayout()}));if(i.rect.element.hidden)return;if(i.rect.element.width!==i.ref.widthPrevious){i.ref.widthPrevious=i.rect.element.width;i.ref.widthUpdated()}var r=i.ref.bounds;if(!r){r=i.ref.bounds=Fr(i);i.element.removeChild(i.ref.measure);i.ref.measure=null}var o=i.ref,s=o.hopper,l=o.label,c=o.list,u=o.panel;if(s){s.updateHopperState()}var d=i.query("GET_PANEL_ASPECT_RATIO");var p=i.query("GET_ALLOW_MULTIPLE");var f=i.query("GET_TOTAL_ITEMS");var h=p?i.query("GET_MAX_FILES")||Dr:1;var g=f===h;var m=a.find((function(e){return e.type==="DID_ADD_ITEM"}));if(g&&m){var v=m.data.interactionMethod;l.opacity=0;if(p){l.translateY=-40}else{if(v===Te.API){l.translateX=40}else if(v===Te.BROWSE){l.translateY=40}else{l.translateY=30}}}else if(!g){l.opacity=1;l.translateX=0;l.translateY=0}var _=Rr(i);var b=Nr(i);var y=l.rect.element.height;var w=!p||g?0:y;var x=g?c.rect.element.marginTop:0;var E=f===0?0:c.rect.element.marginBottom;var k=w+x+b.visual+E;var I=w+x+b.bounds+E;c.translateY=Math.max(0,w-c.rect.element.marginTop)-_.top;if(d){var T=i.rect.element.width;var A=T*d;if(d!==i.ref.previousAspectRatio){i.ref.previousAspectRatio=d;i.ref.updateHistory=[]}var S=i.ref.updateHistory;S.push(T);var C=2;if(S.length>C*2){var M=S.length;var D=M-10;var L=0;for(var O=M;O>=D;O--){if(S[O]===S[O-2]){L++}if(L>=C){return}}}u.scalable=false;u.height=A;var P=A-w-(E-_.bottom)-(g?x:0);if(b.visual>P){c.overflow=P}else{c.overflow=null}i.height=A}else if(r.fixedHeight){u.scalable=false;var R=r.fixedHeight-w-(E-_.bottom)-(g?x:0);if(b.visual>R){c.overflow=R}else{c.overflow=null}}else if(r.cappedHeight){var N=k>=r.cappedHeight;var F=Math.min(r.cappedHeight,k);u.scalable=true;u.height=N?F:F-_.top-_.bottom;var G=F-w-(E-_.bottom)-(g?x:0);if(k>r.cappedHeight&&b.visual>G){c.overflow=G}else{c.overflow=null}i.height=Math.min(r.cappedHeight,I-_.top-_.bottom)}else{var z=f>0?_.top+_.bottom:0;u.scalable=true;u.height=Math.max(y,k-z);i.height=Math.max(y,I-z)}if(i.ref.credits&&u.heightCurrent)i.ref.credits.style.transform="translateY("+u.heightCurrent+"px)"};var Rr=function e(t){var i=t.ref.list.childViews[0].childViews[0];return i?{top:i.rect.element.marginTop,bottom:i.rect.element.marginBottom}:{top:0,bottom:0}};var Nr=function e(t){var i=0;var n=0;var a=t.ref.list;var r=a.childViews[0];var o=r.childViews.filter((function(e){return e.rect.element.height}));var s=t.query("GET_ACTIVE_ITEMS").map((function(e){return o.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));if(s.length===0)return{visual:i,bounds:n};var l=r.rect.element.width;var c=Sn(r,s,a.dragCoordinates);var u=s[0].rect.element;var d=u.marginTop+u.marginBottom;var p=u.marginLeft+u.marginRight;var f=u.width+p;var h=u.height+d;var g=typeof c!=="undefined"&&c>=0?1:0;var m=s.find((function(e){return e.markedForRemoval&&e.opacity<.45}))?-1:0;var v=s.length+g+m;var _=An(l,f);if(_===1){s.forEach((function(e){var t=e.rect.element.height+d;n+=t;i+=t*e.opacity}))}else{n=Math.ceil(v/_)*h;i=n}return{visual:i,bounds:n}};var Fr=function e(t){var i=t.ref.measureHeight||null;var n=parseInt(t.style.maxHeight,10)||null;var a=i===0?null:i;return{cappedHeight:n,fixedHeight:a}};var Gr=function e(t,i){var n=t.query("GET_ALLOW_REPLACE");var a=t.query("GET_ALLOW_MULTIPLE");var r=t.query("GET_TOTAL_ITEMS");var o=t.query("GET_MAX_FILES");var s=i.length;if(!a&&s>1){t.dispatch("DID_THROW_MAX_FILES",{source:i,error:qt("warning",0,"Max files")});return true}o=a?o:1;if(!a&&n){return false}var l=ne(o);if(l&&r+s>o){t.dispatch("DID_THROW_MAX_FILES",{source:i,error:qt("warning",0,"Max files")});return true}return false};var zr=function e(t,i,n){var a=t.childViews[0];return Sn(a,i,{left:n.scopeLeft-a.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})};var Br=function e(t){var i=t.query("GET_ALLOW_DROP");var n=t.query("GET_DISABLED");var a=i&&!n;if(a&&!t.ref.hopper){var r=lr(t.element,(function(e){var i=t.query("GET_BEFORE_DROP_FILE")||function(){return true};var n=t.query("GET_DROP_VALIDATION");return n?e.every((function(e){return Ke("ALLOW_HOPPER_ITEM",e,{query:t.query}).every((function(e){return e===true}))&&i(e)})):true}),{filterItems:function e(i){var n=t.query("GET_IGNORED_FILES");return i.filter((function(e){if(ii(e)){return!n.includes(e.name.toLowerCase())}return true}))},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});r.onload=function(e,i){var n=t.ref.list.childViews[0];var a=n.childViews.filter((function(e){return e.rect.element.height}));var r=t.query("GET_ACTIVE_ITEMS").map((function(e){return a.find((function(t){return t.id===e.id}))})).filter((function(e){return e}));Xe("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Gr(t,e))return false;t.dispatch("ADD_ITEMS",{items:e,index:zr(t.ref.list,r,i),interactionMethod:Te.DROP})}));t.dispatch("DID_DROP",{position:i});t.dispatch("DID_END_DRAG",{position:i})};r.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})};r.ondrag=Mr((function(e){t.dispatch("DID_DRAG",{position:e})}));r.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})};t.ref.hopper=r;t.ref.drip=t.appendChildView(t.createChildView(va))}else if(!a&&t.ref.hopper){t.ref.hopper.destroy();t.ref.hopper=null;t.removeChildView(t.ref.drip)}};var qr=function e(t,i){var n=t.query("GET_ALLOW_BROWSE");var a=t.query("GET_DISABLED");var r=n&&!a;if(r&&!t.ref.browser){t.ref.browser=t.appendChildView(t.createChildView(ra,Object.assign({},i,{onload:function e(i){Xe("ADD_ITEMS",i,{dispatch:t.dispatch}).then((function(e){if(Gr(t,e))return false;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Te.BROWSE})}))}})),0)}else if(!r&&t.ref.browser){t.removeChildView(t.ref.browser);t.ref.browser=null}};var Hr=function e(t){var i=t.query("GET_ALLOW_PASTE");var n=t.query("GET_DISABLED");var a=i&&!n;if(a&&!t.ref.paster){t.ref.paster=hr();t.ref.paster.onload=function(e){Xe("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Gr(t,e))return false;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:Te.PASTE})}))}}else if(!a&&t.ref.paster){t.ref.paster.destroy();t.ref.paster=null}};var Ur=U({DID_SET_ALLOW_BROWSE:function e(t){var i=t.root,n=t.props;qr(i,n)},DID_SET_ALLOW_DROP:function e(t){var i=t.root;Br(i)},DID_SET_ALLOW_PASTE:function e(t){var i=t.root;Hr(i)},DID_SET_DISABLED:function e(t){var i=t.root,n=t.props;Br(i);Hr(i);qr(i,n);var a=i.query("GET_DISABLED");if(a){i.element.dataset.disabled="disabled"}else{i.element.removeAttribute("data-disabled")}}});var Vr=q({name:"root",read:function e(t){var i=t.root;if(i.ref.measure){i.ref.measureHeight=i.ref.measure.offsetHeight}},create:Or,write:Pr,destroy:function e(t){var i=t.root;if(i.ref.paster){i.ref.paster.destroy()}if(i.ref.hopper){i.ref.hopper.destroy()}i.element.removeEventListener("touchmove",Lr);i.element.removeEventListener("gesturestart",Lr)},mixins:{styles:["height"]}});var jr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=null;var a=$e();var o=i(we(a),[ht,Ie(a)],[mi,ke(a)]);o.dispatch("SET_OPTIONS",{options:t});var s=function e(){if(document.hidden)return;o.dispatch("KICK")};document.addEventListener("visibilitychange",s);var l=null;var c=false;var u=false;var d=null;var p=null;var f=function e(){if(!c){c=true}clearTimeout(l);l=setTimeout((function(){c=false;d=null;p=null;if(u){u=false;o.dispatch("DID_STOP_RESIZE")}}),500)};window.addEventListener("resize",f);var h=Vr(o,{id:Ae()});var g=false;var m=false;var v={_read:function e(){if(c){p=window.innerWidth;if(!d){d=p}if(!u&&p!==d){o.dispatch("DID_START_RESIZE");u=true}}if(m&&g){g=h.element.offsetParent===null}if(g)return;h._read();m=h.rect.element.hidden},_write:function e(t){var i=o.processActionQueue().filter((function(e){return!/^SET_/.test(e.type)}));if(g&&!i.length)return;x(i);g=h._write(t,i,u);Be(o.query("GET_ITEMS"));if(g){o.processDispatchQueue()}}};var _=function e(t){return function(e){var i={type:t};if(!e){return i}if(e.hasOwnProperty("error")){i.error=e.error?Object.assign({},e.error):null}if(e.status){i.status=Object.assign({},e.status)}if(e.file){i.output=e.file}if(e.source){i.file=e.source}else if(e.item||e.id){var n=e.item?e.item:o.query("GET_ITEM",e.id);i.file=n?ze(n):null}if(e.items){i.items=e.items.map(ze)}if(/progress/.test(t)){i.progress=e.progress}if(e.hasOwnProperty("origin")&&e.hasOwnProperty("target")){i.origin=e.origin;i.target=e.target}return i}};var b={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_INIT_ITEM:_("initfile"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile"),DID_REORDER_ITEMS:_("reorderfiles")};var y=function e(t){var i=Object.assign({pond:R},t);delete i.type;h.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:i,bubbles:true,cancelable:true,composed:true}));var n=[];if(t.hasOwnProperty("error")){n.push(t.error)}if(t.hasOwnProperty("file")){n.push(t.file)}var a=["type","error","file"];Object.keys(t).filter((function(e){return!a.includes(e)})).forEach((function(e){return n.push(t[e])}));R.fire.apply(R,[t.type].concat(n));var r=o.query("GET_ON"+t.type.toUpperCase());if(r){r.apply(void 0,n)}};var x=function e(t){if(!t.length)return;t.filter((function(e){return b[e.type]})).forEach((function(e){var t=b[e.type];(Array.isArray(t)?t:[t]).forEach((function(t){if(e.type==="DID_INIT_ITEM"){y(t(e.data))}else{setTimeout((function(){y(t(e.data))}),0)}}))}))};var E=function e(t){return o.dispatch("SET_OPTIONS",{options:t})};var k=function e(t){return o.query("GET_ACTIVE_ITEM",t)};var I=function e(t){return new Promise((function(e,i){o.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function t(i){e(i)},failure:function e(t){i(t)}})}))};var T=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return new Promise((function(e,n){C([{source:t,options:i}],{index:i.index}).then((function(t){return e(t&&t[0])})).catch(n)}))};var A=function e(t){return t.file&&t.id};var S=function e(t,i){if(typeof t==="object"&&!A(t)&&!i){i=t;t=undefined}o.dispatch("REMOVE_ITEM",Object.assign({},i,{query:t}));return o.query("GET_ACTIVE_ITEM",t)===null};var C=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}return new Promise((function(e,t){var n=[];var a={};if(Y(i[0])){n.push.apply(n,i[0]);Object.assign(a,i[1]||{})}else{var r=i[i.length-1];if(typeof r==="object"&&!(r instanceof Blob)){Object.assign(a,i.pop())}n.push.apply(n,i)}o.dispatch("ADD_ITEMS",{items:n,index:a.index,interactionMethod:Te.API,success:e,failure:t})}))};var M=function e(){return o.query("GET_ACTIVE_ITEMS")};var D=function e(t){return new Promise((function(e,i){o.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function t(i){e(i)},failure:function e(t){i(t)}})}))};var L=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}var a=Array.isArray(i[0])?i[0]:i;var r=a.length?a:M();return Promise.all(r.map(I))};var O=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}var a=Array.isArray(i[0])?i[0]:i;if(!a.length){var r=M().filter((function(e){return!(e.status===qe.IDLE&&e.origin===He.LOCAL)&&e.status!==qe.PROCESSING&&e.status!==qe.PROCESSING_COMPLETE&&e.status!==qe.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(D))}return Promise.all(a.map(D))};var P=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}var a=Array.isArray(i[0])?i[0]:i;var r;if(typeof a[a.length-1]==="object"){r=a.pop()}else if(Array.isArray(i[0])){r=i[1]}var o=M();if(!a.length)return Promise.all(o.map((function(e){return S(e,r)})));var s=a.map((function(e){return w(e)?o[e]?o[e].id:null:e})).filter((function(e){return e}));return s.map((function(e){return S(e,r)}))};var R=Object.assign({},Ne(),{},v,{},Ee(o,a),{setOptions:E,addFile:T,addFiles:C,getFile:k,processFile:D,prepareFile:I,removeFile:S,moveFile:function e(t,i){return o.dispatch("MOVE_ITEM",{query:t,index:i})},getFiles:M,processFiles:O,removeFiles:P,prepareFiles:L,sort:function e(t){return o.dispatch("SORT",{compare:t})},browse:function e(){var t=h.element.querySelector("input[type=file]");if(t){t.click()}},destroy:function e(){R.fire("destroy",h.element);o.dispatch("ABORT_ALL");h._destroy();window.removeEventListener("resize",f);document.removeEventListener("visibilitychange",s);o.dispatch("DID_DESTROY")},insertBefore:function e(t){return V(h.element,t)},insertAfter:function e(t){return j(h.element,t)},appendTo:function e(t){return t.appendChild(h.element)},replaceElement:function e(t){V(h.element,t);t.parentNode.removeChild(t);n=t},restoreElement:function e(){if(!n){return}j(n,h.element);h.element.parentNode.removeChild(h.element);n=null},isAttachedTo:function e(t){return h.element===t||n===t},element:{get:function e(){return h.element}},status:{get:function e(){return o.query("GET_STATUS")}}});o.dispatch("DID_INIT");return r(R)};var Yr=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i={};a($e(),(function(e,t){i[e]=t[0]}));var n=jr(Object.assign({},i,{},t));return n};var Wr=function e(t){return t.charAt(0).toLowerCase()+t.slice(1)};var Xr=function e(t){return Cr(t.replace(/^data-/,""))};var Kr=function e(t,i){a(i,(function(i,n){a(t,(function(e,a){var r=new RegExp(i);var o=r.test(e);if(!o){return}delete t[e];if(n===false){return}if(J(n)){t[n]=a;return}var s=n.group;if(pe(n)&&!t[s]){t[s]={}}t[s][Wr(e.replace(r,""))]=a}));if(n.mapping){e(t[n.group],n.mapping)}}))};var Zr=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=[];a(t.attributes,(function(e){n.push(t.attributes[e])}));var r=n.filter((function(e){return e.name})).reduce((function(e,i){var n=o(t,i.name);e[Xr(i.name)]=n===i.name?true:n;return e}),{});Kr(r,i);return r};var Qr=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":false,"^files$":false};Ke("SET_ATTRIBUTE_TO_OPTION_MAP",n);var a=Object.assign({},i);var r=Zr(t.nodeName==="FIELDSET"?t.querySelector("input[type=file]"):t,n);Object.keys(r).forEach((function(e){if(pe(r[e])){if(!pe(a[e])){a[e]={}}Object.assign(a[e],r[e])}else{a[e]=r[e]}}));a.files=(i.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map((function(e){return{source:e.value,options:{type:e.dataset.type}}})));var o=Yr(a);if(t.files){Array.from(t.files).forEach((function(e){o.addFile(e)}))}o.replaceElement(t);return o};var $r=function e(){return t(arguments.length<=0?undefined:arguments[0])?Qr.apply(void 0,arguments):Yr.apply(void 0,arguments)};var Jr=["fire","_read","_write"];var eo=function e(t){var i={};Fe(t,i,Jr);return i};var to=function e(t,i){return t.replace(/(?:{([a-zA-Z]+)})/g,(function(e,t){return i[t]}))};var io=function e(t){var i=new Blob(["(",t.toString(),")()"],{type:"application/javascript"});var n=URL.createObjectURL(i);var a=new Worker(n);return{transfer:function e(t,i){},post:function e(t,i,n){var r=Ae();a.onmessage=function(e){if(e.data.id===r){i(e.data.message)}};a.postMessage({id:r,message:t},n)},terminate:function e(){a.terminate();URL.revokeObjectURL(n)}}};var no=function e(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){e(n)};n.onerror=function(e){i(e)};n.src=t}))};var ao=function e(t,i){var n=t.slice(0,t.size,t.type);n.lastModifiedDate=t.lastModifiedDate;n.name=i;return n};var ro=function e(t){return ao(t,t.name)};var oo=[];var so=function e(t){if(oo.includes(t)){return}oo.push(t);var i=t({addFilter:Ze,utils:{Type:Ye,forin:a,isString:J,isFile:ii,toNaturalFileSize:Mi,replaceInString:to,getExtensionFromFilename:wt,getFilenameWithoutExtension:ei,guesstimateMimeType:Ra,getFileFromBlob:It,getFilenameFromURL:yt,createRoute:U,createWorker:io,createView:q,createItemAPI:ze,loadImage:no,copyFile:ro,renameFile:ao,createBlob:At,applyFilterChain:Xe,text:yi,getNumericAspectRatioFromString:it},views:{fileActionButton:Ci}});Qe(i.options)};var lo=function e(){return Object.prototype.toString.call(window.operamini)==="[object OperaMini]"};var co=function e(){return"Promise"in window};var uo=function e(){return"slice"in Blob.prototype};var po=function e(){return"URL"in window&&"createObjectURL"in window.URL};var fo=function e(){return"visibilityState"in document};var ho=function e(){return"performance"in window};var go=function e(){return"supports"in(window.CSS||{})};var mo=function e(){return/MSIE|Trident/.test(window.navigator.userAgent)};var vo=function(){var e=g()&&!lo()&&fo()&&co()&&uo()&&po()&&ho()&&(go()||mo());return function(){return e}}();var _o={apps:[]};var bo="filepond";var yo=function e(){};e.Status={};e.FileStatus={};e.FileOrigin={};e.OptionTypes={};e.create=yo;e.destroy=yo;e.parse=yo;e.find=yo;e.registerPlugin=yo;e.getOptions=yo;e.setOptions=yo;if(vo()){H((function(){_o.apps.forEach((function(e){return e._read()}))}),(function(e){_o.apps.forEach((function(t){return t._write(e)}))}));var wo=function t(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:vo,create:e.create,destroy:e.destroy,parse:e.parse,find:e.find,registerPlugin:e.registerPlugin,setOptions:e.setOptions}}));document.removeEventListener("DOMContentLoaded",t)};if(document.readyState!=="loading"){setTimeout((function(){return wo()}),0)}else{document.addEventListener("DOMContentLoaded",wo)}var xo=function t(){return a($e(),(function(t,i){e.OptionTypes[t]=i[1]}))};e.Status=Object.assign({},at);e.FileOrigin=Object.assign({},He);e.FileStatus=Object.assign({},qe);e.OptionTypes={};xo();e.create=function t(){var i=$r.apply(void 0,arguments);i.on("destroy",e.destroy);_o.apps.push(i);return eo(i)};e.destroy=function e(t){var i=_o.apps.findIndex((function(e){return e.isAttachedTo(t)}));if(i>=0){var n=_o.apps.splice(i,1)[0];n.restoreElement();return true}return false};e.parse=function t(i){var n=Array.from(i.querySelectorAll("."+bo));var a=n.filter((function(e){return!_o.apps.find((function(t){return t.isAttachedTo(e)}))}));return a.map((function(t){return e.create(t)}))};e.find=function e(t){var i=_o.apps.find((function(e){return e.isAttachedTo(t)}));if(!i){return null}return eo(i)};e.registerPlugin=function e(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++){i[n]=arguments[n]}i.forEach(so);xo()};e.getOptions=function e(){var t={};a($e(),(function(e,i){t[e]=i[0]}));return t};e.setOptions=function t(i){if(pe(i)){_o.apps.forEach((function(e){e.setOptions(i)}));Je(i)}return e.getOptions()}}e.supported=vo;Object.defineProperty(e,"__esModule",{value:true})}))}));var filepondPluginFileValidateSize=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginFileValidateSize 2.2.7
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e=function e(t){var i=t.addFilter,n=t.utils;var a=n.Type,r=n.replaceInString,o=n.toNaturalFileSize;i("ALLOW_HOPPER_ITEM",(function(e,t){var i=t.query;if(!i("GET_ALLOW_FILE_SIZE_VALIDATION")){return true}var n=i("GET_MAX_FILE_SIZE");if(n!==null&&e.size>n){return false}var a=i("GET_MIN_FILE_SIZE");if(a!==null&&e.size<a){return false}return true}));i("LOAD_FILE",(function(e,t){var i=t.query;return new Promise((function(t,n){if(!i("GET_ALLOW_FILE_SIZE_VALIDATION")){return t(e)}var a=i("GET_FILE_VALIDATE_SIZE_FILTER");if(a&&!a(e)){return t(e)}var s=i("GET_MAX_FILE_SIZE");if(s!==null&&e.size>s){n({status:{main:i("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MAX_FILE_SIZE"),{filesize:o(s,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}var l=i("GET_MIN_FILE_SIZE");if(l!==null&&e.size<l){n({status:{main:i("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MIN_FILE_SIZE"),{filesize:o(l,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}var c=i("GET_MAX_TOTAL_FILE_SIZE");if(c!==null){var u=i("GET_ACTIVE_ITEMS").reduce((function(e,t){return e+t.fileSize}),0);if(u>c){n({status:{main:i("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(i("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:o(c,".",i("GET_FILE_SIZE_BASE"),i("GET_FILE_SIZE_LABELS",i))})}});return}}t(e)}))}));return{options:{allowFileSizeValidation:[true,a.BOOLEAN],maxFileSize:[null,a.INT],minFileSize:[null,a.INT],maxTotalFileSize:[null,a.INT],fileValidateSizeFilter:[null,a.FUNCTION],labelMinFileSizeExceeded:["File is too small",a.STRING],labelMinFileSize:["Minimum file size is {filesize}",a.STRING],labelMaxFileSizeExceeded:["File is too large",a.STRING],labelMaxFileSize:["Maximum file size is {filesize}",a.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",a.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",a.STRING]}}};var t=typeof window!=="undefined"&&typeof window.document!=="undefined";if(t){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}))}));var filepondPluginImageExifOrientation=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginImageExifOrientation 1.0.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e=function e(t){return/^image\/jpeg/.test(t.type)};var t={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280};var i=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return t.getUint16(i,n)};var n=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return t.getUint32(i,n)};var a=function e(a){return new Promise((function(e,r){var o=new FileReader;o.onload=function(a){var r=new DataView(a.target.result);if(i(r,0)!==t.JPEG){e(-1);return}var o=r.byteLength;var s=2;while(s<o){var l=i(r,s);s+=2;if(l===t.APP1){if(n(r,s+=2)!==t.EXIF){break}var c=i(r,s+=6)===t.TIFF;s+=n(r,s+4,c);var u=i(r,s,c);s+=2;for(var d=0;d<u;d++){if(i(r,s+d*12,c)===t.Orientation){e(i(r,s+d*12+8,c));return}}}else if((l&t.Unknown)!==t.Unknown){break}else{s+=i(r,s)}}e(-1)};o.readAsArrayBuffer(a.slice(0,64*1024))}))};var r=function(){return typeof window!=="undefined"&&typeof window.document!=="undefined"}();var o=function e(){return r};var s="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";var l=undefined;var c=o()?new Image:{};c.onload=function(){return l=c.naturalWidth>c.naturalHeight};c.src=s;var u=function e(){return l};var d=function t(i){var n=i.addFilter,r=i.utils;var o=r.Type,s=r.isFile;n("DID_LOAD_ITEM",(function(t,i){var n=i.query;return new Promise((function(i,r){var o=t.file;if(!s(o)||!e(o)||!n("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!u()){return i(t)}a(o).then((function(e){t.setMetadata("exif",{orientation:e});i(t)}))}))}));return{options:{allowImageExifOrientation:[true,o.BOOLEAN]}}};var p=typeof window!=="undefined"&&typeof window.document!=="undefined";if(p){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:d}))}return d}))}));var filepondPluginImagePreview=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginImagePreview 4.6.11
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e=function e(t){return/^image/.test(t.type)};function t(e,t){return i(e)||n(e,t)||a()}function i(e){if(Array.isArray(e))return e}function n(e,t){var i=[];var n=true;var a=false;var r=undefined;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){i.push(s.value);if(t&&i.length===t)break}}catch(e){a=true;r=e}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(a)throw r}}return i}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var r=function e(t,i){return c(t.x*i,t.y*i)};var o=function e(t,i){return c(t.x+i.x,t.y+i.y)};var s=function e(t){var i=Math.sqrt(t.x*t.x+t.y*t.y);if(i===0){return{x:0,y:0}}return c(t.x/i,t.y/i)};var l=function e(t,i,n){var a=Math.cos(i);var r=Math.sin(i);var o=c(t.x-n.x,t.y-n.y);return c(n.x+a*o.x-r*o.y,n.y+r*o.x+a*o.y)};var c=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return{x:t,y:i}};var u=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var a=arguments.length>3?arguments[3]:undefined;if(typeof t==="string"){return parseFloat(t)*n}if(typeof t==="number"){return t*(a?i[a]:Math.min(i.width,i.height))}return};var d=function e(t,i,n){var a=t.borderStyle||t.lineStyle||"solid";var r=t.backgroundColor||t.fontColor||"transparent";var o=t.borderColor||t.lineColor||"transparent";var s=u(t.borderWidth||t.lineWidth,i,n);var l=t.lineCap||"round";var c=t.lineJoin||"round";var d=typeof a==="string"?"":a.map((function(e){return u(e,i,n)})).join(",");var p=t.opacity||1;return{"stroke-linecap":l,"stroke-linejoin":c,"stroke-width":s||0,"stroke-dasharray":d,stroke:o,fill:r,opacity:p}};var p=function e(t){return t!=null};var f=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var a=u(t.x,i,n,"width")||u(t.left,i,n,"width");var r=u(t.y,i,n,"height")||u(t.top,i,n,"height");var o=u(t.width,i,n,"width");var s=u(t.height,i,n,"height");var l=u(t.right,i,n,"width");var c=u(t.bottom,i,n,"height");if(!p(r)){if(p(s)&&p(c)){r=i.height-s-c}else{r=c}}if(!p(a)){if(p(o)&&p(l)){a=i.width-o-l}else{a=l}}if(!p(o)){if(p(a)&&p(l)){o=i.width-a-l}else{o=0}}if(!p(s)){if(p(r)&&p(c)){s=i.height-r-c}else{s=0}}return{x:a||0,y:r||0,width:o||0,height:s||0}};var h=function e(t){return t.map((function(e,t){return"".concat(t===0?"M":"L"," ").concat(e.x," ").concat(e.y)})).join(" ")};var g=function e(t,i){return Object.keys(i).forEach((function(e){return t.setAttribute(e,i[e])}))};var m="http://www.w3.org/2000/svg";var v=function e(t,i){var n=document.createElementNS(m,t);if(i){g(n,i)}return n};var _=function e(t){return g(t,Object.assign({},t.rect,t.styles))};var b=function e(t){var i=t.rect.x+t.rect.width*.5;var n=t.rect.y+t.rect.height*.5;var a=t.rect.width*.5;var r=t.rect.height*.5;return g(t,Object.assign({cx:i,cy:n,rx:a,ry:r},t.styles))};var y={contain:"xMidYMid meet",cover:"xMidYMid slice"};var w=function e(t,i){g(t,Object.assign({},t.rect,t.styles,{preserveAspectRatio:y[i.fit]||"none"}))};var x={left:"start",center:"middle",right:"end"};var E=function e(t,i,n,a){var r=u(i.fontSize,n,a);var o=i.fontFamily||"sans-serif";var s=i.fontWeight||"normal";var l=x[i.textAlign]||"start";g(t,Object.assign({},t.rect,t.styles,{"stroke-width":0,"font-weight":s,"font-size":r,"font-family":o,"text-anchor":l}));if(t.text!==i.text){t.text=i.text;t.textContent=i.text.length?i.text:" "}};var k=function e(t,i,n,a){g(t,Object.assign({},t.rect,t.styles,{fill:"none"}));var c=t.childNodes[0];var d=t.childNodes[1];var p=t.childNodes[2];var f=t.rect;var h={x:t.rect.x+t.rect.width,y:t.rect.y+t.rect.height};g(c,{x1:f.x,y1:f.y,x2:h.x,y2:h.y});if(!i.lineDecoration)return;d.style.display="none";p.style.display="none";var m=s({x:h.x-f.x,y:h.y-f.y});var v=u(.05,n,a);if(i.lineDecoration.indexOf("arrow-begin")!==-1){var _=r(m,v);var b=o(f,_);var y=l(f,2,b);var w=l(f,-2,b);g(d,{style:"display:block;",d:"M".concat(y.x,",").concat(y.y," L").concat(f.x,",").concat(f.y," L").concat(w.x,",").concat(w.y)})}if(i.lineDecoration.indexOf("arrow-end")!==-1){var x=r(m,-v);var E=o(h,x);var k=l(h,2,E);var I=l(h,-2,E);g(p,{style:"display:block;",d:"M".concat(k.x,",").concat(k.y," L").concat(h.x,",").concat(h.y," L").concat(I.x,",").concat(I.y)})}};var I=function e(t,i,n,a){g(t,Object.assign({},t.styles,{fill:"none",d:h(i.points.map((function(e){return{x:u(e.x,n,a,"width"),y:u(e.y,n,a,"height")}})))}))};var T=function e(t){return function(e){return v(t,{id:e.id})}};var A=function e(t){var i=v("image",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});i.onload=function(){i.setAttribute("opacity",t.opacity||1)};i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.src);return i};var S=function e(t){var i=v("g",{id:t.id,"stroke-linecap":"round","stroke-linejoin":"round"});var n=v("line");i.appendChild(n);var a=v("path");i.appendChild(a);var r=v("path");i.appendChild(r);return i};var C={image:A,rect:T("rect"),ellipse:T("ellipse"),text:T("text"),path:T("path"),line:S};var M={rect:_,ellipse:b,image:w,text:E,path:I,line:k};var D=function e(t,i){return C[t](i)};var L=function e(t,i,n,a,r){if(i!=="path"){t.rect=f(n,a,r)}t.styles=d(n,a,r);M[i](t,n,a,r)};var O=["x","y","left","top","right","bottom","width","height"];var P=function e(t){return typeof t==="string"&&/%/.test(t)?parseFloat(t)/100:t};var R=function e(i){var n=t(i,2),a=n[0],r=n[1];var o=r.points?{}:O.reduce((function(e,t){e[t]=P(r[t]);return e}),{});return[a,Object.assign({zIndex:0},r,o)]};var N=function e(t,i){if(t[1].zIndex>i[1].zIndex){return 1}if(t[1].zIndex<i[1].zIndex){return-1}return 0};var F=function e(i){return i.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:true,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:function e(i){var n=i.root,a=i.props;if(!a.dirty)return;var r=a.crop,o=a.resize,s=a.markup;var l=a.width;var c=a.height;var u=r.width;var d=r.height;if(o){var p=o.size;var f=p&&p.width;var h=p&&p.height;var g=o.mode;var m=o.upscale;if(f&&!h)h=f;if(h&&!f)f=h;var v=u<f&&d<h;if(!v||v&&m){var _=f/u;var b=h/d;if(g==="force"){u=f;d=h}else{var y;if(g==="cover"){y=Math.max(_,b)}else if(g==="contain"){y=Math.min(_,b)}u=u*y;d=d*y}}}var w={width:l,height:c};n.element.setAttribute("width",w.width);n.element.setAttribute("height",w.height);var x=Math.min(l/u,c/d);n.element.innerHTML="";var E=n.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");s.filter(E).map(R).sort(N).forEach((function(e){var i=t(e,2),a=i[0],r=i[1];var o=D(a,r);L(o,a,r,w,x);n.element.appendChild(o)}))}})};var G=function e(t,i){return{x:t,y:i}};var z=function e(t,i){return t.x*i.x+t.y*i.y};var B=function e(t,i){return G(t.x-i.x,t.y-i.y)};var q=function e(t,i){return z(B(t,i),B(t,i))};var H=function e(t,i){return Math.sqrt(q(t,i))};var U=function e(t,i){var n=t;var a=1.5707963267948966;var r=i;var o=1.5707963267948966-i;var s=Math.sin(a);var l=Math.sin(r);var c=Math.sin(o);var u=Math.cos(o);var d=n/s;var p=d*l;var f=d*c;return G(u*p,u*f)};var V=function e(t,i){var n=t.width;var a=t.height;var r=U(n,i);var o=U(a,i);var s=G(t.x+Math.abs(r.x),t.y-Math.abs(r.y));var l=G(t.x+t.width+Math.abs(o.y),t.y+Math.abs(o.x));var c=G(t.x-Math.abs(o.y),t.y+t.height-Math.abs(o.x));return{width:H(s,l),height:H(s,c)}};var j=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var a=t.height/t.width;var r=1;var o=i;var s=1;var l=a;if(l>o){l=o;s=l/a}var c=Math.max(r/s,o/l);var u=t.width/(n*c*s);var d=u*i;return{width:u,height:d}};var Y=function e(t,i,n,a){var r=a.x>.5?1-a.x:a.x;var o=a.y>.5?1-a.y:a.y;var s=r*2*t.width;var l=o*2*t.height;var c=V(i,n);return Math.max(c.width/s,c.height/l)};var W=function e(t,i){var n=t.width;var a=n*i;if(a>t.height){a=t.height;n=a/i}var r=(t.width-n)*.5;var o=(t.height-a)*.5;return{x:r,y:o,width:n,height:a}};var X=function e(t){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=i.zoom,a=i.rotation,r=i.center,o=i.aspectRatio;if(!o)o=t.height/t.width;var s=j(t,o,n);var l={x:s.width*.5,y:s.height*.5};var c={x:0,y:0,width:s.width,height:s.height,center:l};var u=typeof i.scaleToFit==="undefined"||i.scaleToFit;var d=Y(t,W(c,o),a,u?r:{x:.5,y:.5});var p=n*d;return{widthFloat:s.width/p,heightFloat:s.height/p,width:Math.round(s.width/p),height:Math.round(s.height/p)}};var K={type:"spring",stiffness:.5,damping:.45,mass:10};var Z=function e(t){return t.utils.createView({name:"image-bitmap",ignoreRect:true,mixins:{styles:["scaleX","scaleY"]},create:function e(t){var i=t.root,n=t.props;i.appendChild(n.image)}})};var Q=function e(t){return t.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:true,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:K,originY:K,scaleX:K,scaleY:K,translateX:K,translateY:K,rotateZ:K}},create:function e(i){var n=i.root,a=i.props;a.width=a.image.width;a.height=a.image.height;n.ref.bitmap=n.appendChildView(n.createChildView(Z(t),{image:a.image}))},write:function e(t){var i=t.root,n=t.props;var a=n.crop.flip;var r=i.ref.bitmap;r.scaleX=a.horizontal?-1:1;r.scaleY=a.vertical?-1:1}})};var $=function e(t){return t.utils.createView({name:"image-clip",tag:"div",ignoreRect:true,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function e(t){var i=t.root,n=t.props;if(!n.background)return;i.element.style.backgroundColor=n.background},create:function e(i){var n=i.root,a=i.props;n.ref.image=n.appendChildView(n.createChildView(Q(t),Object.assign({},a)));n.ref.createMarkup=function(){if(n.ref.markup)return;n.ref.markup=n.appendChildView(n.createChildView(F(t),Object.assign({},a)))};n.ref.destroyMarkup=function(){if(!n.ref.markup)return;n.removeChildView(n.ref.markup);n.ref.markup=null};var r=n.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");if(r===null)return;if(r==="grid"){n.element.dataset.transparencyIndicator=r}else{n.element.dataset.transparencyIndicator="color"}},write:function e(t){var i=t.root,n=t.props,a=t.shouldOptimize;var r=n.crop,o=n.markup,s=n.resize,l=n.dirty,c=n.width,u=n.height;i.ref.image.crop=r;var d={x:0,y:0,width:c,height:u,center:{x:c*.5,y:u*.5}};var p={width:i.ref.image.width,height:i.ref.image.height};var f={x:r.center.x*p.width,y:r.center.y*p.height};var h={x:d.center.x-p.width*r.center.x,y:d.center.y-p.height*r.center.y};var g=Math.PI*2+r.rotation%(Math.PI*2);var m=r.aspectRatio||p.height/p.width;var v=typeof r.scaleToFit==="undefined"||r.scaleToFit;var _=Y(p,W(d,m),g,v?r.center:{x:.5,y:.5});var b=r.zoom*_;if(o&&o.length){i.ref.createMarkup();i.ref.markup.width=c;i.ref.markup.height=u;i.ref.markup.resize=s;i.ref.markup.dirty=l;i.ref.markup.markup=o;i.ref.markup.crop=X(p,r)}else if(i.ref.markup){i.ref.destroyMarkup()}var y=i.ref.image;if(a){y.originX=null;y.originY=null;y.translateX=null;y.translateY=null;y.rotateZ=null;y.scaleX=null;y.scaleY=null;return}y.originX=f.x;y.originY=f.y;y.translateX=h.x;y.translateY=h.y;y.rotateZ=g;y.scaleX=b;y.scaleY=b}})};var J=function e(t){return t.utils.createView({name:"image-preview",tag:"div",ignoreRect:true,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:K,scaleY:K,translateY:K,opacity:{type:"tween",duration:400}}},create:function e(i){var n=i.root,a=i.props;n.ref.clip=n.appendChildView(n.createChildView($(t),{id:a.id,image:a.image,crop:a.crop,markup:a.markup,resize:a.resize,dirty:a.dirty,background:a.background}))},write:function e(t){var i=t.root,n=t.props,a=t.shouldOptimize;var r=i.ref.clip;var o=n.image,s=n.crop,l=n.markup,c=n.resize,u=n.dirty;r.crop=s;r.markup=l;r.resize=c;r.dirty=u;r.opacity=a?0:1;if(a||i.rect.element.hidden)return;var d=o.height/o.width;var p=s.aspectRatio||d;var f=i.rect.inner.width;var h=i.rect.inner.height;var g=i.query("GET_IMAGE_PREVIEW_HEIGHT");var m=i.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var v=i.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var _=i.query("GET_PANEL_ASPECT_RATIO");var b=i.query("GET_ALLOW_MULTIPLE");if(_&&!b){g=f*_;p=_}var y=g!==null?g:Math.max(m,Math.min(f*p,v));var w=y/p;if(w>f){w=f;y=w*p}if(y>h){y=h;w=h/p}r.width=w;r.height=y}})};var ee='<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">\n    <defs>\n        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">\n            <stop offset=\'50%\' stop-color=\'#000000\'/>\n            <stop offset=\'56%\' stop-color=\'#0a0a0a\'/>\n            <stop offset=\'63%\' stop-color=\'#262626\'/>\n            <stop offset=\'69%\' stop-color=\'#4f4f4f\'/>\n            <stop offset=\'75%\' stop-color=\'#808080\'/>\n            <stop offset=\'81%\' stop-color=\'#b1b1b1\'/>\n            <stop offset=\'88%\' stop-color=\'#dadada\'/>\n            <stop offset=\'94%\' stop-color=\'#f6f6f6\'/>\n            <stop offset=\'100%\' stop-color=\'#ffffff\'/>\n        </radialGradient>\n        <mask id="mask-__UID__">\n            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>\n        </mask>\n    </defs>\n    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>\n</svg>';var te=0;var ie=function e(t){return t.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:true,create:function e(t){var i=t.root,n=t.props;var a=ee;if(document.querySelector("base")){var r=new URL(window.location.href.replace(window.location.hash,"")).href;a=a.replace(/url\(\#/g,"url("+r+"#")}te++;i.element.classList.add("filepond--image-preview-overlay-".concat(n.status));i.element.innerHTML=a.replace(/__UID__/g,te)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})};var ne=function e(){self.onmessage=function(e){createImageBitmap(e.data.message.file).then((function(t){self.postMessage({id:e.data.id,message:t},[t])}))}};var ae=function e(){self.onmessage=function(e){var t=e.data.message.imageData;var i=e.data.message.colorMatrix;var n=t.data;var a=n.length;var r=i[0];var o=i[1];var s=i[2];var l=i[3];var c=i[4];var u=i[5];var d=i[6];var p=i[7];var f=i[8];var h=i[9];var g=i[10];var m=i[11];var v=i[12];var _=i[13];var b=i[14];var y=i[15];var w=i[16];var x=i[17];var E=i[18];var k=i[19];var I=0,T=0,A=0,S=0,C=0;for(;I<a;I+=4){T=n[I]/255;A=n[I+1]/255;S=n[I+2]/255;C=n[I+3]/255;n[I]=Math.max(0,Math.min((T*r+A*o+S*s+C*l+c)*255,255));n[I+1]=Math.max(0,Math.min((T*u+A*d+S*p+C*f+h)*255,255));n[I+2]=Math.max(0,Math.min((T*g+A*m+S*v+C*_+b)*255,255));n[I+3]=Math.max(0,Math.min((T*y+A*w+S*x+C*E+k)*255,255))}self.postMessage({id:e.data.id,message:t},[t.data.buffer])}};var re=function e(t,i){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;i(e,t)};n.src=t};var oe={1:function e(){return[1,0,0,1,0,0]},2:function e(t){return[-1,0,0,1,t,0]},3:function e(t,i){return[-1,0,0,-1,t,i]},4:function e(t,i){return[1,0,0,-1,0,i]},5:function e(){return[0,1,1,0,0,0]},6:function e(t,i){return[0,1,-1,0,i,0]},7:function e(t,i){return[0,-1,-1,0,i,t]},8:function e(t){return[0,-1,1,0,0,t]}};var se=function e(t,i,n,a){if(a===-1){return}t.transform.apply(t,oe[a](i,n))};var le=function e(t,i,n,a){i=Math.round(i);n=Math.round(n);var r=document.createElement("canvas");r.width=i;r.height=n;var o=r.getContext("2d");if(a>=5&&a<=8){var s=[n,i];i=s[0];n=s[1]}se(o,i,n,a);o.drawImage(t,0,0,i,n);return r};var ce=function e(t){return/^image/.test(t.type)&&!/svg/.test(t.type)};var ue=10;var de=10;var pe=function e(t){var i=Math.min(ue/t.width,de/t.height);var n=document.createElement("canvas");var a=n.getContext("2d");var r=n.width=Math.ceil(t.width*i);var o=n.height=Math.ceil(t.height*i);a.drawImage(t,0,0,r,o);var s=null;try{s=a.getImageData(0,0,r,o).data}catch(e){return null}var l=s.length;var c=0;var u=0;var d=0;var p=0;for(;p<l;p+=4){c+=s[p]*s[p];u+=s[p+1]*s[p+1];d+=s[p+2]*s[p+2]}c=fe(c,l);u=fe(u,l);d=fe(d,l);return{r:c,g:u,b:d}};var fe=function e(t,i){return Math.floor(Math.sqrt(t/(i/4)))};var he=function e(t,i){i=i||document.createElement("canvas");i.width=t.width;i.height=t.height;var n=i.getContext("2d");n.drawImage(t,0,0);return i};var ge=function e(t){var i;try{i=new ImageData(t.width,t.height)}catch(e){var n=document.createElement("canvas");var a=n.getContext("2d");i=a.createImageData(t.width,t.height)}i.data.set(new Uint8ClampedArray(t.data));return i};var me=function e(t){return new Promise((function(e,i){var n=new Image;n.crossOrigin="Anonymous";n.onload=function(){e(n)};n.onerror=function(e){i(e)};n.src=t}))};var ve=function e(t){var i=ie(t);var n=J(t);var a=t.utils.createWorker;var r=function e(t,i,n){return new Promise((function(e){if(!t.ref.imageData){t.ref.imageData=n.getContext("2d").getImageData(0,0,n.width,n.height)}var r=ge(t.ref.imageData);if(!i||i.length!==20){n.getContext("2d").putImageData(r,0,0);return e()}var o=a(ae);o.post({imageData:r,colorMatrix:i},(function(t){n.getContext("2d").putImageData(t,0,0);o.terminate();e()}),[r.data.buffer])}))};var o=function e(t,i){t.removeChildView(i);i.image.width=1;i.image.height=1;i._destroy()};var s=function e(t){var i=t.root;var n=i.ref.images.shift();n.opacity=0;n.translateY=-15;i.ref.imageViewBin.push(n);return n};var l=function e(t){var i=t.root,a=t.props,r=t.image;var o=a.id;var s=i.query("GET_ITEM",{id:o});if(!s)return;var l=s.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:false,vertical:false},zoom:1,rotation:0,aspectRatio:null};var c=i.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");var u;var d;var p=false;if(i.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){u=s.getMetadata("markup")||[];d=s.getMetadata("resize");p=true}var f=i.appendChildView(i.createChildView(n,{id:o,image:r,crop:l,resize:d,markup:u,dirty:p,background:c,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),i.childViews.length);i.ref.images.push(f);f.opacity=1;f.scaleX=1;f.scaleY=1;f.translateY=0;setTimeout((function(){i.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:o})}),250)};var c=function e(t){var i=t.root,n=t.props;var a=i.query("GET_ITEM",{id:n.id});if(!a)return;var r=i.ref.images[i.ref.images.length-1];r.crop=a.getMetadata("crop");r.background=i.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");if(i.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")){r.dirty=true;r.resize=a.getMetadata("resize");r.markup=a.getMetadata("markup")}};var u=function e(t){var i=t.root,n=t.props,a=t.action;if(!/crop|filter|markup|resize/.test(a.change.key))return;if(!i.ref.images.length)return;var o=i.query("GET_ITEM",{id:n.id});if(!o)return;if(/filter/.test(a.change.key)){var u=i.ref.images[i.ref.images.length-1];r(i,a.change.value,u.image);return}if(/crop|markup|resize/.test(a.change.key)){var d=o.getMetadata("crop");var p=i.ref.images[i.ref.images.length-1];if(d&&d.aspectRatio&&p.crop&&p.crop.aspectRatio&&Math.abs(d.aspectRatio-p.crop.aspectRatio)>1e-5){var f=s({root:i});l({root:i,props:n,image:he(f.image)})}else{c({root:i,props:n})}}};var d=function e(t){var i=window.navigator.userAgent;var n=i.match(/Firefox\/([0-9]+)\./);var a=n?parseInt(n[1]):null;if(a<=58)return false;return"createImageBitmap"in window&&ce(t)};var p=function e(t){var i=t.root,n=t.props;var a=n.id;var r=i.query("GET_ITEM",a);if(!r)return;var o=URL.createObjectURL(r.file);re(o,(function(e,t){i.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:a,width:e,height:t})}))};var f=function e(t){var i=t.root,n=t.props;var o=n.id;var s=i.query("GET_ITEM",o);if(!s)return;var c=URL.createObjectURL(s.file);var u=function e(){me(c).then(p)};var p=function e(t){URL.revokeObjectURL(c);var a=s.getMetadata("exif")||{};var o=a.orientation||-1;var u=t.width,d=t.height;if(!u||!d)return;if(o>=5&&o<=8){var p=[d,u];u=p[0];d=p[1]}var f=Math.max(1,window.devicePixelRatio*.75);var h=i.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR");var g=h*f;var m=d/u;var v=i.rect.element.width;var _=i.rect.element.height;var b=v;var y=b*m;if(m>1){b=Math.min(u,v*g);y=b*m}else{y=Math.min(d,_*g);b=y/m}var w=le(t,b,y,o);var x=function e(){var a=i.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?pe(data):null;s.setMetadata("color",a,true);if("close"in t){t.close()}i.ref.overlayShadow.opacity=1;l({root:i,props:n,image:w})};var E=s.getMetadata("filter");if(E){r(i,E,w).then(x)}else{x()}};if(d(s.file)){var f=a(ne);f.post({file:s.file},(function(e){f.terminate();if(!e){u();return}p(e)}))}else{u()}};var h=function e(t){var i=t.root;var n=i.ref.images[i.ref.images.length-1];n.translateY=0;n.scaleX=1;n.scaleY=1;n.opacity=1};var g=function e(t){var i=t.root;i.ref.overlayShadow.opacity=1;i.ref.overlayError.opacity=0;i.ref.overlaySuccess.opacity=0};var m=function e(t){var i=t.root;i.ref.overlayShadow.opacity=.25;i.ref.overlayError.opacity=1};var v=function e(t){var i=t.root;i.ref.overlayShadow.opacity=.25;i.ref.overlaySuccess.opacity=1};var _=function e(t){var n=t.root;n.ref.images=[];n.ref.imageData=null;n.ref.imageViewBin=[];n.ref.overlayShadow=n.appendChildView(n.createChildView(i,{opacity:0,status:"idle"}));n.ref.overlaySuccess=n.appendChildView(n.createChildView(i,{opacity:0,status:"success"}));n.ref.overlayError=n.appendChildView(n.createChildView(i,{opacity:0,status:"failure"}))};return t.utils.createView({name:"image-preview-wrapper",create:_,styles:["height"],apis:["height"],destroy:function e(t){var i=t.root;i.ref.images.forEach((function(e){e.image.width=1;e.image.height=1}))},didWriteView:function e(t){var i=t.root;i.ref.images.forEach((function(e){e.dirty=false}))},write:t.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:h,DID_IMAGE_PREVIEW_CONTAINER_CREATE:p,DID_FINISH_CALCULATE_PREVIEWSIZE:f,DID_UPDATE_ITEM_METADATA:u,DID_THROW_ITEM_LOAD_ERROR:m,DID_THROW_ITEM_PROCESSING_ERROR:m,DID_THROW_ITEM_INVALID:m,DID_COMPLETE_ITEM_PROCESSING:v,DID_START_ITEM_PROCESSING:g,DID_REVERT_ITEM_PROCESSING:g},(function(e){var t=e.root;var i=t.ref.imageViewBin.filter((function(e){return e.opacity===0}));t.ref.imageViewBin=t.ref.imageViewBin.filter((function(e){return e.opacity>0}));i.forEach((function(e){return o(t,e)}));i.length=0}))})};var _e=function t(i){var n=i.addFilter,a=i.utils;var r=a.Type,o=a.createRoute,s=a.isFile;var l=ve(i);n("CREATE_VIEW",(function(t){var i=t.is,n=t.view,a=t.query;if(!i("file")||!a("GET_ALLOW_IMAGE_PREVIEW"))return;var r=function t(i){var r=i.root,o=i.props;var c=o.id;var u=a("GET_ITEM",c);if(!u||!s(u.file)||u.archived)return;var d=u.file;if(!e(d))return;if(!a("GET_IMAGE_PREVIEW_FILTER_ITEM")(u))return;var p="createImageBitmap"in(window||{});var f=a("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!p&&f&&d.size>f)return;r.ref.imagePreview=n.appendChildView(n.createChildView(l,{id:c}));var h=r.query("GET_IMAGE_PREVIEW_HEIGHT");if(h){r.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:u.id,height:h})}var g=!p&&d.size>a("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");r.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:c},g)};var c=function e(t,i){if(!t.ref.imagePreview)return;var n=i.id;var a=t.query("GET_ITEM",{id:n});if(!a)return;var r=t.query("GET_PANEL_ASPECT_RATIO");var o=t.query("GET_ITEM_PANEL_ASPECT_RATIO");var s=t.query("GET_IMAGE_PREVIEW_HEIGHT");if(r||o||s)return;var l=t.ref,c=l.imageWidth,u=l.imageHeight;if(!c||!u)return;var d=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT");var p=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT");var f=a.getMetadata("exif")||{};var h=f.orientation||-1;if(h>=5&&h<=8){var g=[u,c];c=g[0];u=g[1]}if(!ce(a.file)||t.query("GET_IMAGE_PREVIEW_UPSCALE")){var m=2048/c;c*=m;u*=m}var v=u/c;var _=(a.getMetadata("crop")||{}).aspectRatio||v;var b=Math.max(d,Math.min(u,p));var y=t.rect.element.width;var w=Math.min(y*_,b);t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:a.id,height:w})};var u=function e(t){var i=t.root;i.ref.shouldRescale=true};var d=function e(t){var i=t.root,n=t.action;if(n.change.key!=="crop")return;i.ref.shouldRescale=true};var p=function e(t){var i=t.root,n=t.action;i.ref.imageWidth=n.width;i.ref.imageHeight=n.height;i.ref.shouldRescale=true;i.ref.shouldDrawPreview=true;i.dispatch("KICK")};n.registerWriter(o({DID_RESIZE_ROOT:u,DID_STOP_RESIZE:u,DID_LOAD_ITEM:r,DID_IMAGE_PREVIEW_CALCULATE_SIZE:p,DID_UPDATE_ITEM_METADATA:d},(function(e){var t=e.root,i=e.props;if(!t.ref.imagePreview)return;if(t.rect.element.hidden)return;if(t.ref.shouldRescale){c(t,i);t.ref.shouldRescale=false}if(t.ref.shouldDrawPreview){requestAnimationFrame((function(){requestAnimationFrame((function(){t.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:i.id})}))}));t.ref.shouldDrawPreview=false}})))}));return{options:{allowImagePreview:[true,r.BOOLEAN],imagePreviewFilterItem:[function(){return true},r.FUNCTION],imagePreviewHeight:[null,r.INT],imagePreviewMinHeight:[44,r.INT],imagePreviewMaxHeight:[256,r.INT],imagePreviewMaxFileSize:[null,r.INT],imagePreviewZoomFactor:[2,r.INT],imagePreviewUpscale:[false,r.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,r.INT],imagePreviewTransparencyIndicator:[null,r.STRING],imagePreviewCalculateAverageImageColor:[false,r.BOOLEAN],imagePreviewMarkupShow:[true,r.BOOLEAN],imagePreviewMarkupFilter:[function(){return true},r.FUNCTION]}}};var be=typeof window!=="undefined"&&typeof window.document!=="undefined";if(be){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:_e}))}return _e}))}));var FilePondPluginImagePreview=getDefaultExportFromCjs(filepondPluginImagePreview);var filepondPluginImageEdit=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginImageEdit 1.6.3
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e=function e(t){return/^image/.test(t.type)};var t=function t(i){var n=i.addFilter,a=i.utils,r=i.views;var o=a.Type,s=a.createRoute,l=a.createItemAPI,c=l===void 0?function(e){return e}:l;var u=r.fileActionButton;n("SHOULD_REMOVE_ON_REVERT",(function(t,i){var n=i.item,a=i.query;return new Promise((function(t){var i=n.file;var r=a("GET_ALLOW_IMAGE_EDIT")&&a("GET_IMAGE_EDIT_ALLOW_EDIT")&&e(i);t(!r)}))}));n("DID_LOAD_ITEM",(function(t,i){var n=i.query,a=i.dispatch;return new Promise((function(i,r){if(t.origin>1){i(t);return}var o=t.file;if(!n("GET_ALLOW_IMAGE_EDIT")||!n("GET_IMAGE_EDIT_INSTANT_EDIT")){i(t);return}if(!e(o)){i(t);return}var s=function e(t,i,n){return function(e){d.shift();if(e){i(t)}else{n(t)}a("KICK");l()}};var l=function e(){if(!d.length)return;var t=d[0],i=t.item,n=t.resolve,r=t.reject;a("EDIT_ITEM",{id:i.id,handleEditorResponse:s(i,n,r)})};p({item:t,resolve:i,reject:r});if(d.length===1){l()}}))}));n("DID_CREATE_ITEM",(function(e,t){var i=t.dispatch;e.extend("edit",(function(){i("EDIT_ITEM",{id:e.id})}))}));var d=[];var p=function e(t){d.push(t);return t};n("CREATE_VIEW",(function(t){var i=t.is,n=t.view,a=t.query;if(!a("GET_ALLOW_IMAGE_EDIT"))return;var r=a("GET_ALLOW_IMAGE_PREVIEW");var o=i("file-info")&&!r||i("file")&&r;if(!o)return;var l=a("GET_IMAGE_EDIT_EDITOR");if(!l)return;if(!l.filepondCallbackBridge){l.outputData=true;l.outputFile=false;l.filepondCallbackBridge={onconfirm:l.onconfirm||function(){},oncancel:l.oncancel||function(){}}}var d=function e(t){var i=t.root,n=t.props,a=t.action;var r=n.id;var o=a.handleEditorResponse;l.cropAspectRatio=i.query("GET_IMAGE_CROP_ASPECT_RATIO")||l.cropAspectRatio;l.outputCanvasBackgroundColor=i.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||l.outputCanvasBackgroundColor;var s=i.query("GET_ITEM",r);if(!s)return;var u=s.file;var d=s.getMetadata("crop");var p={center:{x:.5,y:.5},flip:{horizontal:false,vertical:false},zoom:1,rotation:0,aspectRatio:null};var f=s.getMetadata("resize");var h=s.getMetadata("filter")||null;var g=s.getMetadata("filters")||null;var m=s.getMetadata("colors")||null;var v=s.getMetadata("markup")||null;var _={crop:d||p,size:f?{upscale:f.upscale,mode:f.mode,width:f.size.width,height:f.size.height}:null,filter:g?g.id||g.matrix:i.query("GET_ALLOW_IMAGE_FILTER")&&i.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!m?h:null,color:m,markup:v};l.onconfirm=function(e){var t=e.data;var i=t.crop,n=t.size,a=t.filter,r=t.color,u=t.colorMatrix,d=t.markup;var p={};if(i){p.crop=i}if(n){var f=(s.getMetadata("resize")||{}).size;var h={width:n.width,height:n.height};if(!(h.width&&h.height)&&f){h.width=f.width;h.height=f.height}if(h.width||h.height){p.resize={upscale:n.upscale,mode:n.mode,size:h}}}if(d){p.markup=d}p.colors=r;p.filters=a;p.filter=u;s.setMetadata(p);l.filepondCallbackBridge.onconfirm(t,c(s));if(!o)return;l.onclose=function(){o(true);l.onclose=null}};l.oncancel=function(){l.filepondCallbackBridge.oncancel(c(s));if(!o)return;l.onclose=function(){o(false);l.onclose=null}};l.open(u,_)};var p=function t(i){var o=i.root,s=i.props;if(!a("GET_IMAGE_EDIT_ALLOW_EDIT"))return;var l=s.id;var c=a("GET_ITEM",l);if(!c)return;var d=c.file;if(!e(d))return;o.ref.handleEdit=function(e){e.stopPropagation();o.dispatch("EDIT_ITEM",{id:l})};if(r){var p=n.createChildView(u,{label:"edit",icon:a("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});p.element.classList.add("filepond--action-edit-item");p.element.dataset.align=a("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION");p.on("click",o.ref.handleEdit);o.ref.buttonEditItem=n.appendChildView(p)}else{var f=n.element.querySelector(".filepond--file-info-main");var h=document.createElement("button");h.className="filepond--action-edit-item-alt";h.innerHTML=a("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>";h.addEventListener("click",o.ref.handleEdit);f.appendChild(h);o.ref.editButton=h}};n.registerDestroyer((function(e){var t=e.root;if(t.ref.buttonEditItem){t.ref.buttonEditItem.off("click",t.ref.handleEdit)}if(t.ref.editButton){t.ref.editButton.removeEventListener("click",t.ref.handleEdit)}}));var f={EDIT_ITEM:d,DID_LOAD_ITEM:p};if(r){var h=function e(t){var i=t.root;if(!i.ref.buttonEditItem)return;i.ref.buttonEditItem.opacity=1};f.DID_IMAGE_PREVIEW_SHOW=h}n.registerWriter(s(f))}));return{options:{allowImageEdit:[true,o.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",o.STRING],imageEditInstantEdit:[false,o.BOOLEAN],imageEditAllowEdit:[true,o.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',o.STRING],imageEditEditor:[null,o.OBJECT]}}};var i=typeof window!=="undefined"&&typeof window.document!=="undefined";if(i){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t}))}return t}))}));var filepondPluginFileValidateType=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginFileValidateType 1.2.8
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e=function e(t){var i=t.addFilter,n=t.utils;var a=n.Type,r=n.isString,o=n.replaceInString,s=n.guesstimateMimeType,l=n.getExtensionFromFilename,c=n.getFilenameFromURL;var u=function e(t,i){var n=(/^[^/]+/.exec(t)||[]).pop();var a=i.slice(0,-2);return n===a};var d=function e(t,i){return t.some((function(e){if(/\*$/.test(e)){return u(i,e)}return e===i}))};var p=function e(t){var i="";if(r(t)){var n=c(t);var a=l(n);if(a){i=s(a)}}else{i=t.type}return i};var f=function e(t,i,n){if(i.length===0){return true}var a=p(t);if(!n){return d(i,a)}return new Promise((function(e,r){n(t,a).then((function(t){if(d(i,t)){e()}else{r()}})).catch(r)}))};var h=function e(t){return function(e){return t[e]===null?false:t[e]||e}};i("SET_ATTRIBUTE_TO_OPTION_MAP",(function(e){return Object.assign(e,{accept:"acceptedFileTypes"})}));i("ALLOW_HOPPER_ITEM",(function(e,t){var i=t.query;if(!i("GET_ALLOW_FILE_TYPE_VALIDATION")){return true}return f(e,i("GET_ACCEPTED_FILE_TYPES"))}));i("LOAD_FILE",(function(e,t){var i=t.query;return new Promise((function(t,n){if(!i("GET_ALLOW_FILE_TYPE_VALIDATION")){t(e);return}var a=i("GET_ACCEPTED_FILE_TYPES");var r=i("GET_FILE_VALIDATE_TYPE_DETECT_TYPE");var s=f(e,a,r);var l=function e(){var t=a.map(h(i("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"))).filter((function(e){return e!==false}));var r=t.filter((function(e,i){return t.indexOf(e)===i}));n({status:{main:i("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:o(i("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:r.join(", "),allButLastType:r.slice(0,-1).join(", "),lastType:r[t.length-1]})}})};if(typeof s==="boolean"){if(!s){return l()}return t(e)}s.then((function(){t(e)})).catch(l)}))}));return{options:{allowFileTypeValidation:[true,a.BOOLEAN],acceptedFileTypes:[[],a.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",a.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",a.STRING],fileValidateTypeLabelExpectedTypesMap:[{},a.OBJECT],fileValidateTypeDetectType:[null,a.FUNCTION]}}};var t=typeof window!=="undefined"&&typeof window.document!=="undefined";if(t){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e}))}return e}))}));var filepondPluginFilePoster=createCommonjsModule((function(e,t){
/*!
   * FilePondPluginFilePoster 2.5.1
   * Licensed under MIT, https://opensource.org/licenses/MIT/
   * Please visit https://pqina.nl/filepond/ for details.
   */
(function(t,i){e.exports=i()})(commonjsGlobal,(function(){var e={type:"spring",stiffness:.5,damping:.45,mass:10};var t=function t(i){return i.utils.createView({name:"file-poster",tag:"div",ignoreRect:true,create:function e(t){var i=t.root;i.ref.image=document.createElement("img");i.element.appendChild(i.ref.image)},write:i.utils.createRoute({DID_FILE_POSTER_LOAD:function e(t){var i=t.root,n=t.props;var a=n.id;var r=i.query("GET_ITEM",{id:n.id});if(!r)return;var o=r.getMetadata("poster");i.ref.image.src=o;i.dispatch("DID_FILE_POSTER_DRAW",{id:a})}}),mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:e,scaleY:e,opacity:{type:"tween",duration:750}}}})};var i=function e(t,i){i.width=t.width;i.height=t.height;var n=i.getContext("2d");n.drawImage(t,0,0)};var n=function e(t){return t.utils.createView({name:"file-poster-overlay",tag:"canvas",ignoreRect:true,create:function e(t){var n=t.root,a=t.props;i(a.template,n.element)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}})};var a=function e(t,i){var n=new Image;n.onload=function(){var e=n.naturalWidth;var t=n.naturalHeight;n=null;i(e,t)};n.src=t};var r=function e(t){return-.5*(Math.cos(Math.PI*t)-1)};var o=function e(t,i){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:r;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:10;var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var l=1-s;var c=i.join(",");for(var u=0;u<=o;u++){var d=u/o;var p=s+l*d;t.addColorStop(p,"rgba(".concat(c,", ").concat(a(d)*n,")"))}};var s=10;var l=10;var c=function e(t){var i=Math.min(s/t.width,l/t.height);var n=document.createElement("canvas");var a=n.getContext("2d");var r=n.width=Math.ceil(t.width*i);var o=n.height=Math.ceil(t.height*i);a.drawImage(t,0,0,r,o);var c=null;try{c=a.getImageData(0,0,r,o).data}catch(e){return null}var d=c.length;var p=0;var f=0;var h=0;var g=0;for(;g<d;g+=4){p+=c[g]*c[g];f+=c[g+1]*c[g+1];h+=c[g+2]*c[g+2]}p=u(p,d);f=u(f,d);h=u(h,d);return{r:p,g:f,b:h}};var u=function e(t,i){return Math.floor(Math.sqrt(t/(i/4)))};var d=function e(t,i,n,a,r){t.width=i;t.height=n;var s=t.getContext("2d");var l=i*.5;var c=s.createRadialGradient(l,n+110,n-100,l,n+110,n+100);o(c,a,r,undefined,8,.4);s.save();s.translate(-i*.5,0);s.scale(2,1);s.fillStyle=c;s.fillRect(0,0,i,n);s.restore()};var p=typeof navigator!=="undefined";var f=500;var h=200;var g=p&&document.createElement("canvas");var m=p&&document.createElement("canvas");var v=p&&document.createElement("canvas");var _=[40,40,40];var b=[196,78,71];var y=[54,151,99];if(p){d(g,f,h,_,.85);d(m,f,h,b,1);d(v,f,h,y,1)}var w=function e(t,i){return new Promise((function(e,n){var a=new Image;if(typeof crossOrigin==="string"){a.crossOrigin=i}a.onload=function(){e(a)};a.onerror=function(e){n(e)};a.src=t}))};var x=function e(i){var r=n(i);var o=function e(t){var i=t.root,n=t.props;var r=n.id;var o=i.query("GET_ITEM",r);if(!o)return;var s=o.getMetadata("poster");var l=function e(t){var n=i.query("GET_FILE_POSTER_CALCULATE_AVERAGE_IMAGE_COLOR")?c(t):null;o.setMetadata("color",n,true);i.dispatch("DID_FILE_POSTER_LOAD",{id:r,data:t})};a(s,(function(e,t){i.dispatch("DID_FILE_POSTER_CALCULATE_SIZE",{id:r,width:e,height:t});w(s,i.query("GET_FILE_POSTER_CROSS_ORIGIN_ATTRIBUTE_VALUE")).then(l)}))};var s=function e(t){var i=t.root;i.ref.overlayShadow.opacity=1};var l=function e(t){var i=t.root;var n=i.ref.image;n.scaleX=1;n.scaleY=1;n.opacity=1};var u=function e(t){var i=t.root;i.ref.overlayShadow.opacity=1;i.ref.overlayError.opacity=0;i.ref.overlaySuccess.opacity=0};var p=function e(t){var i=t.root;i.ref.overlayShadow.opacity=.25;i.ref.overlayError.opacity=1};var x=function e(t){var i=t.root;i.ref.overlayShadow.opacity=.25;i.ref.overlaySuccess.opacity=1};var E=function e(n){var a=n.root,o=n.props;var s=a.query("GET_FILE_POSTER_ITEM_OVERLAY_SHADOW_COLOR");var l=a.query("GET_FILE_POSTER_ITEM_OVERLAY_ERROR_COLOR");var c=a.query("GET_FILE_POSTER_ITEM_OVERLAY_SUCCESS_COLOR");if(s&&s!==_){_=s;d(g,f,h,_,.85)}if(l&&l!==b){b=l;d(m,f,h,b,1)}if(c&&c!==y){y=c;d(v,f,h,y,1)}var u=t(i);a.ref.image=a.appendChildView(a.createChildView(u,{id:o.id,scaleX:1.25,scaleY:1.25,opacity:0}));a.ref.overlayShadow=a.appendChildView(a.createChildView(r,{template:g,opacity:0}));a.ref.overlaySuccess=a.appendChildView(a.createChildView(r,{template:v,opacity:0}));a.ref.overlayError=a.appendChildView(a.createChildView(r,{template:m,opacity:0}))};return i.utils.createView({name:"file-poster-wrapper",create:E,write:i.utils.createRoute({DID_FILE_POSTER_LOAD:s,DID_FILE_POSTER_DRAW:l,DID_FILE_POSTER_CONTAINER_CREATE:o,DID_THROW_ITEM_LOAD_ERROR:p,DID_THROW_ITEM_PROCESSING_ERROR:p,DID_THROW_ITEM_INVALID:p,DID_COMPLETE_ITEM_PROCESSING:x,DID_START_ITEM_PROCESSING:u,DID_REVERT_ITEM_PROCESSING:u})})};var E=function e(t){var i=t.addFilter,n=t.utils;var a=n.Type,r=n.createRoute;var o=x(t);i("CREATE_VIEW",(function(e){var t=e.is,i=e.view,n=e.query;if(!t("file")||!n("GET_ALLOW_FILE_POSTER"))return;var a=function e(t){var i=t.root,n=t.props;l(i,n)};var s=function e(t){var i=t.root,n=t.props,a=t.action;if(!/poster/.test(a.change.key))return;l(i,n)};var l=function e(t,a){var r=a.id;var s=n("GET_ITEM",r);if(!s||!s.getMetadata("poster")||s.archived)return;if(t.ref.previousPoster===s.getMetadata("poster"))return;t.ref.previousPoster=s.getMetadata("poster");if(!n("GET_FILE_POSTER_FILTER_ITEM")(s))return;if(t.ref.filePoster){i.removeChildView(t.ref.filePoster)}t.ref.filePoster=i.appendChildView(i.createChildView(o,{id:r}));t.dispatch("DID_FILE_POSTER_CONTAINER_CREATE",{id:r})};var c=function e(t){var i=t.root,n=t.action;if(!i.ref.filePoster)return;i.ref.imageWidth=n.width;i.ref.imageHeight=n.height;i.ref.shouldUpdatePanelHeight=true;i.dispatch("KICK")};var u=function e(t){var i=t.root;var n=i.query("GET_FILE_POSTER_HEIGHT");if(n){return n}var a=i.query("GET_FILE_POSTER_MIN_HEIGHT");var r=i.query("GET_FILE_POSTER_MAX_HEIGHT");if(a&&i.ref.imageHeight<a){return a}var o=i.rect.element.width*(i.ref.imageHeight/i.ref.imageWidth);if(a&&o<a){return a}if(r&&o>r){return r}return o};i.registerWriter(r({DID_LOAD_ITEM:a,DID_FILE_POSTER_CALCULATE_SIZE:c,DID_UPDATE_ITEM_METADATA:s},(function(e){var t=e.root,i=e.props;if(!t.ref.filePoster)return;if(t.rect.element.hidden)return;if(t.ref.shouldUpdatePanelHeight){t.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:i.id,height:u({root:t})});t.ref.shouldUpdatePanelHeight=false}})))}));return{options:{allowFilePoster:[true,a.BOOLEAN],filePosterHeight:[null,a.INT],filePosterMinHeight:[null,a.INT],filePosterMaxHeight:[null,a.INT],filePosterFilterItem:[function(){return true},a.FUNCTION],filePosterCalculateAverageImageColor:[false,a.BOOLEAN],filePosterCrossOriginAttributeValue:["Anonymous",a.STRING],filePosterItemOverlayShadowColor:[null,a.ARRAY],filePosterItemOverlayErrorColor:[null,a.ARRAY],filePosterItemOverlaySuccessColor:[null,a.ARRAY]}}};var k=typeof window!=="undefined"&&typeof window.document!=="undefined";if(k){document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:E}))}return E}))}));var sallaFileUploadCss="/*!\n * FilePond 4.30.4\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */.filepond--assistant{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--browser.filepond--browser{position:absolute;margin:0;padding:0;left:1em;top:1.75em;width:calc(100% - 2em);opacity:0;font-size:0}.filepond--data{position:absolute;width:0;height:0;padding:0;margin:0;border:none;visibility:hidden;pointer-events:none;contain:strict}.filepond--drip{position:absolute;top:0;left:0;right:0;bottom:0;overflow:hidden;opacity:.1;pointer-events:none;border-radius:.5em;background:rgba(0,0,0,.01)}.filepond--drip-blob{-webkit-transform-origin:center center;transform-origin:center center;width:8em;height:8em;margin-left:-4em;margin-top:-4em;background:#292625;border-radius:50%}.filepond--drip-blob,.filepond--drop-label{position:absolute;top:0;left:0;will-change:transform,opacity}.filepond--drop-label{right:0;margin:0;color:#4f4f4f;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;height:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--drop-label.filepond--drop-label label{display:block;margin:0;padding:.5em}.filepond--drop-label label{cursor:default;font-size:.875em;font-weight:400;text-align:center;line-height:1.5}.filepond--label-action{text-decoration:underline;-webkit-text-decoration-skip:ink;text-decoration-skip-ink:auto;-webkit-text-decoration-color:#a7a4a4;text-decoration-color:#a7a4a4;cursor:pointer}.filepond--root[data-disabled] .filepond--drop-label label{opacity:.5}.filepond--file-action-button.filepond--file-action-button{font-size:1em;width:1.625em;height:1.625em;font-family:inherit;line-height:inherit;margin:0;padding:0;border:none;outline:none;will-change:transform,opacity}.filepond--file-action-button.filepond--file-action-button span{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file-action-button.filepond--file-action-button svg{width:100%;height:100%}.filepond--file-action-button.filepond--file-action-button:after{position:absolute;left:-.75em;right:-.75em;top:-.75em;bottom:-.75em;content:\"\"}.filepond--file-action-button{cursor:auto;color:#fff;border-radius:50%;background-color:rgba(0,0,0,.5);background-image:none;-webkit-box-shadow:0 0 0 0 hsla(0,0%,100%,0);box-shadow:0 0 0 0 hsla(0,0%,100%,0);-webkit-transition:-webkit-box-shadow .25s ease-in;transition:-webkit-box-shadow .25s ease-in;transition:box-shadow .25s ease-in;transition:box-shadow .25s ease-in, -webkit-box-shadow .25s ease-in}.filepond--file-action-button:focus,.filepond--file-action-button:hover{-webkit-box-shadow:0 0 0 .125em hsla(0,0%,100%,.9);box-shadow:0 0 0 .125em hsla(0,0%,100%,.9)}.filepond--file-action-button[disabled]{color:hsla(0,0%,100%,.5);background-color:rgba(0,0,0,.25)}.filepond--file-action-button[hidden]{display:none}.filepond--action-edit-item.filepond--action-edit-item{width:2em;height:2em;padding:.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=center]{margin-left:-.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*=bottom]{margin-bottom:-.1875em}.filepond--action-edit-item-alt{border:none;line-height:inherit;background:transparent;font-family:inherit;color:inherit;outline:none;padding:0;margin:0 0 0 .25em;pointer-events:all;position:absolute}.filepond--action-edit-item-alt svg{width:1.3125em;height:1.3125em}.filepond--action-edit-item-alt span{font-size:0;opacity:0}.filepond--file-info{position:static;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:flex-start;-ms-flex:1;flex:1;margin:0 .5em 0 0;min-width:0;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-info *{margin:0}.filepond--file-info .filepond--file-info-main{font-size:.75em;line-height:1.2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%}.filepond--file-info .filepond--file-info-sub{font-size:.625em;opacity:.5;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out;white-space:nowrap}.filepond--file-info .filepond--file-info-sub:empty{display:none}.filepond--file-status{position:static;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:end;align-items:flex-end;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0;margin:0;min-width:2.25em;text-align:right;will-change:transform,opacity;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--file-status *{margin:0;white-space:nowrap}.filepond--file-status .filepond--file-status-main{font-size:.75em;line-height:1.2}.filepond--file-status .filepond--file-status-sub{font-size:.625em;opacity:.5;-webkit-transition:opacity .25s ease-in-out;transition:opacity .25s ease-in-out}.filepond--file-wrapper.filepond--file-wrapper{border:none;margin:0;padding:0;min-width:0;height:100%}.filepond--file-wrapper.filepond--file-wrapper>legend{position:absolute;overflow:hidden;height:1px;width:1px;padding:0;border:0;clip:rect(1px,1px,1px,1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);white-space:nowrap}.filepond--file{position:static;display:-ms-flexbox;display:flex;height:100%;-ms-flex-align:start;align-items:flex-start;padding:.5625em;color:#fff;border-radius:.5em}.filepond--file .filepond--file-status{margin-left:auto;margin-right:2.25em}.filepond--file .filepond--processing-complete-indicator{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:3}.filepond--file .filepond--file-action-button,.filepond--file .filepond--processing-complete-indicator,.filepond--file .filepond--progress-indicator{position:absolute}.filepond--file [data-align*=left]{left:.5625em}.filepond--file [data-align*=right]{right:.5625em}.filepond--file [data-align*=center]{left:calc(50% - .8125em)}.filepond--file [data-align*=bottom]{bottom:1.125em}.filepond--file [data-align=center]{top:calc(50% - .8125em)}.filepond--file .filepond--progress-indicator{margin-top:.1875em}.filepond--file .filepond--progress-indicator[data-align*=right]{margin-right:.1875em}.filepond--file .filepond--progress-indicator[data-align*=left]{margin-left:.1875em}[data-filepond-item-state*=error] .filepond--file-info,[data-filepond-item-state*=invalid] .filepond--file-info,[data-filepond-item-state=cancelled] .filepond--file-info{margin-right:2.25em}[data-filepond-item-state~=processing] .filepond--file-status-sub{opacity:0}[data-filepond-item-state~=processing] .filepond--action-abort-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-error] .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-error] .filepond--action-retry-item-processing~.filepond--file-status .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing svg{-webkit-animation:fall .5s linear .125s both;animation:fall .5s linear .125s both}[data-filepond-item-state=processing-complete] .filepond--file-status-sub{opacity:.5}[data-filepond-item-state=processing-complete] .filepond--file-info-sub,[data-filepond-item-state=processing-complete] .filepond--processing-complete-indicator:not([style*=hidden])~.filepond--file-status .filepond--file-status-sub{opacity:0}[data-filepond-item-state=processing-complete] .filepond--action-revert-item-processing~.filepond--file-info .filepond--file-info-sub{opacity:.5}[data-filepond-item-state*=error] .filepond--file-wrapper,[data-filepond-item-state*=error] .filepond--panel,[data-filepond-item-state*=invalid] .filepond--file-wrapper,[data-filepond-item-state*=invalid] .filepond--panel{-webkit-animation:shake .65s linear both;animation:shake .65s linear both}[data-filepond-item-state*=busy] .filepond--progress-indicator svg{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@keyframes shake{10%,90%{-webkit-transform:translateX(-.0625em);transform:translateX(-.0625em)}20%,80%{-webkit-transform:translateX(.125em);transform:translateX(.125em)}30%,50%,70%{-webkit-transform:translateX(-.25em);transform:translateX(-.25em)}40%,60%{-webkit-transform:translateX(.25em);transform:translateX(.25em)}}@-webkit-keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}@keyframes fall{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}70%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}to{-webkit-transform:scale(1);transform:scale(1);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}}.filepond--hopper[data-hopper-state=drag-over]>*{pointer-events:none}.filepond--hopper[data-hopper-state=drag-over]:after{content:\"\";position:absolute;left:0;top:0;right:0;bottom:0;z-index:100}.filepond--progress-indicator{z-index:103}.filepond--file-action-button{z-index:102}.filepond--file-status{z-index:101}.filepond--file-info{z-index:100}.filepond--item{position:absolute;top:0;left:0;right:0;z-index:1;padding:0;margin:.25em;will-change:transform,opacity}.filepond--item>.filepond--panel{z-index:-1}.filepond--item>.filepond--panel .filepond--panel-bottom{-webkit-box-shadow:0 .0625em .125em -.0625em rgba(0,0,0,.25);box-shadow:0 .0625em .125em -.0625em rgba(0,0,0,.25)}.filepond--item>.filepond--file-wrapper,.filepond--item>.filepond--panel{-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out}.filepond--item[data-drag-state]{cursor:-webkit-grab;cursor:grab}.filepond--item[data-drag-state]>.filepond--panel{-webkit-transition:-webkit-box-shadow .125s ease-in-out;transition:-webkit-box-shadow .125s ease-in-out;transition:box-shadow .125s ease-in-out;transition:box-shadow .125s ease-in-out, -webkit-box-shadow .125s ease-in-out;-webkit-box-shadow:0 0 0 transparent;box-shadow:0 0 0 transparent}.filepond--item[data-drag-state=drag]{cursor:-webkit-grabbing;cursor:grabbing}.filepond--item[data-drag-state=drag]>.filepond--panel{-webkit-box-shadow:0 .125em .3125em rgba(0,0,0,.325);box-shadow:0 .125em .3125em rgba(0,0,0,.325)}.filepond--item[data-drag-state]:not([data-drag-state=idle]){z-index:2}.filepond--item-panel{background-color:#64605e}[data-filepond-item-state=processing-complete] .filepond--item-panel{background-color:#369763}[data-filepond-item-state*=error] .filepond--item-panel,[data-filepond-item-state*=invalid] .filepond--item-panel{background-color:#c44e47}.filepond--item-panel{border-radius:.5em;-webkit-transition:background-color .25s;transition:background-color .25s}.filepond--list-scroller{position:absolute;top:0;left:0;right:0;margin:0;will-change:transform}.filepond--list-scroller[data-state=overflow] .filepond--list{bottom:0;right:0}.filepond--list-scroller[data-state=overflow]{overflow-y:scroll;overflow-x:hidden;-webkit-overflow-scrolling:touch;-webkit-mask:-webkit-gradient(linear,left top, left bottom,from(#000),to(transparent));-webkit-mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent);mask:-webkit-gradient(linear,left top, left bottom,from(#000),to(transparent));mask:linear-gradient(180deg,#000 calc(100% - .5em),transparent)}.filepond--list-scroller::-webkit-scrollbar{background:transparent}.filepond--list-scroller::-webkit-scrollbar:vertical{width:1em}.filepond--list-scroller::-webkit-scrollbar:horizontal{height:0}.filepond--list-scroller::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:99999px;border:.3125em solid transparent;background-clip:content-box}.filepond--list.filepond--list{position:absolute;top:0;margin:0;padding:0;list-style-type:none;will-change:transform}.filepond--list{left:.75em;right:.75em}.filepond--root[data-style-panel-layout~=integrated]{width:100%;height:100%;max-width:none;margin:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root{border-radius:0}.filepond--root[data-style-panel-layout~=circle] .filepond--panel-root>*,.filepond--root[data-style-panel-layout~=integrated] .filepond--panel-root>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{bottom:0;height:auto;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;z-index:7}.filepond--root[data-style-panel-layout~=circle] .filepond--item-panel,.filepond--root[data-style-panel-layout~=integrated] .filepond--item-panel{display:none}.filepond--root[data-style-panel-layout~=compact] .filepond--list-scroller,.filepond--root[data-style-panel-layout~=integrated] .filepond--list-scroller{overflow:hidden;height:100%;margin-top:0;margin-bottom:0}.filepond--root[data-style-panel-layout~=compact] .filepond--list,.filepond--root[data-style-panel-layout~=integrated] .filepond--list{left:0;right:0;height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--item,.filepond--root[data-style-panel-layout~=integrated] .filepond--item{margin:0}.filepond--root[data-style-panel-layout~=compact] .filepond--file-wrapper,.filepond--root[data-style-panel-layout~=integrated] .filepond--file-wrapper{height:100%}.filepond--root[data-style-panel-layout~=compact] .filepond--drop-label,.filepond--root[data-style-panel-layout~=integrated] .filepond--drop-label{z-index:7}.filepond--root[data-style-panel-layout~=circle]{border-radius:99999rem;overflow:hidden}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel{border-radius:inherit}.filepond--root[data-style-panel-layout~=circle]>.filepond--panel>*{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--file-info,.filepond--root[data-style-panel-layout~=circle] .filepond--file-status{display:none}.filepond--root[data-style-panel-layout~=circle] .filepond--action-edit-item{opacity:1!important;visibility:visible!important}@media not all and (-webkit-min-device-pixel-ratio:0), not all and (min-resolution:0.001dpcm){@supports (-webkit-appearance:none) and (stroke-color:transparent){.filepond--root[data-style-panel-layout~=circle]{will-change:transform}}}.filepond--panel-root{border-radius:.5em;background-color:#f1f0ef}.filepond--panel{position:absolute;left:0;top:0;right:0;margin:0;height:100%!important;pointer-events:none}.filepond-panel:not([data-scalable=false]){height:auto!important}.filepond--panel[data-scalable=false]>div{display:none}.filepond--panel[data-scalable=true]{-webkit-transform-style:preserve-3d;transform-style:preserve-3d;background-color:transparent!important;border:none!important}.filepond--panel-bottom,.filepond--panel-center,.filepond--panel-top{position:absolute;left:0;top:0;right:0;margin:0;padding:0}.filepond--panel-bottom,.filepond--panel-top{height:.5em}.filepond--panel-top{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important;border-bottom:none!important}.filepond--panel-top:after{content:\"\";position:absolute;height:2px;left:0;right:0;bottom:-1px;background-color:inherit}.filepond--panel-bottom,.filepond--panel-center{will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform-origin:left top;transform-origin:left top;-webkit-transform:translate3d(0,.5em,0);transform:translate3d(0,.5em,0)}.filepond--panel-bottom{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}.filepond--panel-bottom:before{content:\"\";position:absolute;height:2px;left:0;right:0;top:-1px;background-color:inherit}.filepond--panel-center{height:100px!important;border-top:none!important;border-bottom:none!important;border-radius:0!important}.filepond--panel-center:not([style]){visibility:hidden}.filepond--progress-indicator{position:static;width:1.25em;height:1.25em;color:#fff;margin:0;pointer-events:none;will-change:transform,opacity}.filepond--progress-indicator svg{width:100%;height:100%;vertical-align:top;transform-box:fill-box}.filepond--progress-indicator path{fill:none;stroke:currentColor}.filepond--list-scroller{z-index:6}.filepond--drop-label{z-index:5}.filepond--drip{z-index:3}.filepond--root>.filepond--panel{z-index:2}.filepond--browser{z-index:1}.filepond--root{-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;margin-bottom:1em;font-size:1rem;line-height:normal;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-weight:450;text-align:left;text-rendering:optimizeLegibility;direction:ltr;contain:layout style size}.filepond--root *{-webkit-box-sizing:inherit;box-sizing:inherit;line-height:inherit}.filepond--root :not(text){font-size:inherit}.filepond--root[data-disabled]{pointer-events:none}.filepond--root[data-disabled] .filepond--list-scroller{pointer-events:all}.filepond--root[data-disabled] .filepond--list{pointer-events:none}.filepond--root .filepond--drop-label{min-height:4.75em}.filepond--root .filepond--list-scroller{margin-top:1em;margin-bottom:1em}.filepond--root .filepond--credits{position:absolute;right:0;opacity:.175;line-height:.85;font-size:11px;color:inherit;text-decoration:none;z-index:3;bottom:-14px}.filepond--root .filepond--credits[style]{top:0;bottom:auto;margin-top:14px}/*!\n * FilePondPluginImagePreview 4.6.11\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */.filepond--image-preview-markup{position:absolute;left:0;top:0}.filepond--image-preview-wrapper{z-index:2}.filepond--image-preview-overlay{display:block;position:absolute;left:0;top:0;width:100%;min-height:5rem;max-height:7rem;margin:0;opacity:0;z-index:2;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filepond--image-preview-overlay svg{width:100%;height:auto;color:inherit;max-height:inherit}.filepond--image-preview-overlay-idle{mix-blend-mode:multiply;color:rgba(40, 40, 40, 0.85)}.filepond--image-preview-overlay-success{mix-blend-mode:normal;color:rgba(54, 151, 99, 1)}.filepond--image-preview-overlay-failure{mix-blend-mode:normal;color:rgba(196, 78, 71, 1)}@supports (-webkit-marquee-repetition: infinite) and\n  ((-o-object-fit: fill) or (object-fit: fill)){.filepond--image-preview-overlay-idle{mix-blend-mode:normal}}.filepond--image-preview-wrapper{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:0;top:0;right:0;height:100%;margin:0;border-radius:0.45em;overflow:hidden;background:rgba(0, 0, 0, 0.01)}.filepond--image-preview{position:absolute;left:0;top:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;width:100%;pointer-events:none;background:#222;will-change:transform, opacity}.filepond--image-clip{position:relative;overflow:hidden;margin:0 auto;}.filepond--image-clip[data-transparency-indicator='grid'] img,.filepond--image-clip[data-transparency-indicator='grid'] canvas{background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg' fill='%23eee'%3E%3Cpath d='M0 0 H50 V50 H0'/%3E%3Cpath d='M50 50 H100 V100 H50'/%3E%3C/svg%3E\");background-size:1.25em 1.25em}.filepond--image-bitmap,.filepond--image-vector{position:absolute;left:0;top:0;will-change:transform}.filepond--root[data-style-panel-layout~='integrated'] .filepond--image-preview-wrapper{border-radius:0}.filepond--root[data-style-panel-layout~='integrated'] .filepond--image-preview{height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.filepond--root[data-style-panel-layout~='circle'] .filepond--image-preview-wrapper{border-radius:99999rem}.filepond--root[data-style-panel-layout~='circle'] .filepond--image-preview-overlay{top:auto;bottom:0;-webkit-transform:scaleY(-1);transform:scaleY(-1)}.filepond--root[data-style-panel-layout~='circle'] .filepond--file .filepond--file-action-button[data-align*='bottom']:not([data-align*='center']){margin-bottom:0.325em}.filepond--root[data-style-panel-layout~='circle'] .filepond--file [data-align*='left']{left:calc(50% - 3em)}.filepond--root[data-style-panel-layout~='circle'] .filepond--file [data-align*='right']{right:calc(50% - 3em)}.filepond--root[data-style-panel-layout~='circle'] .filepond--progress-indicator[data-align*='bottom'][data-align*='left'],.filepond--root[data-style-panel-layout~='circle'] .filepond--progress-indicator[data-align*='bottom'][data-align*='right']{margin-bottom:calc(0.325em + 0.1875em)}.filepond--root[data-style-panel-layout~='circle'] .filepond--progress-indicator[data-align*='bottom'][data-align*='center']{margin-top:0;margin-bottom:0.1875em;margin-left:0.1875em}/*!\n * FilePondPluginImageEdit 1.6.3\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */.filepond--action-edit-item.filepond--action-edit-item{width:2em;height:2em;padding:0.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*='center']{margin-left:-0.1875em}.filepond--action-edit-item.filepond--action-edit-item[data-align*='bottom']{margin-bottom:-0.1875em}.filepond--action-edit-item-alt{border:none;line-height:inherit;background:transparent;font-family:inherit;color:inherit;outline:none;padding:0;margin:0 0 0 0.25em;pointer-events:all;position:absolute}.filepond--action-edit-item-alt svg{width:1.3125em;height:1.3125em}.filepond--action-edit-item-alt span{font-size:0;opacity:0}.filepond--root[data-style-panel-layout~='circle'] .filepond--action-edit-item{opacity:1 !important;visibility:visible !important}";var SallaFileUpload=function(){function e(e){var t=this;registerInstance(this,e);this.added=createEvent(this,"added",7);this.invalidInput=createEvent(this,"invalidInput",7);this.uploaded=createEvent(this,"uploaded",7);this.removed=createEvent(this,"removed",7);this.value=undefined;this.files=undefined;this.height=undefined;this.cartItemId=undefined;this.profileImage=false;this.name=undefined;this.payloadName=undefined;this.accept="image/png, image/jpeg, image/jpg, image/gif";this.fileId=undefined;this.url=undefined;this.method="POST";this.formData="{}";this.required=undefined;this.maxFileSize="2MB";this.disabled=undefined;this.allowDrop=true;this.allowBrowse=true;this.allowPaste=undefined;this.allowMultiple=undefined;this.allowReplace=true;this.allowRevert=true;this.allowRemove=true;this.allowProcess=undefined;this.allowReorder=undefined;this.storeAsFile=undefined;this.forceRevert=undefined;this.maxFilesCount=null;this.maxParallelUploads=2;this.checkValidity=undefined;this.itemInsertLocation="after";this.itemInsertInterval=75;this.credits=undefined;this.dropOnPage=undefined;this.dropOnElement=true;this.dropValidation=undefined;this.ignoredFiles=[".ds_store","thumbs.db","desktop.ini"];this.instantUpload=undefined;this.chunkUploads=undefined;this.chunkForce=undefined;this.chunkSize=5e6;this.chunkRetryDelays=[500,1e3,3e3];this.labelDecimalSeparator=undefined;this.labelThousandsSeparator=undefined;this.labelIdle=undefined;this.iconRemove="<svg>...</svg>";this.iconProcess="<svg>...</svg>";this.iconRetry="<svg>...</svg>";this.iconUndo="<svg>...</svg>";filepond.registerPlugin(FilePondPluginImagePreview,filepondPluginImageExifOrientation,filepondPluginFileValidateSize,filepondPluginImageEdit,filepondPluginFileValidateType,filepondPluginFilePoster);if(!this.url&&this.cartItemId){this.url=salla.cart.getUploadImageEndpoint();this.instantUpload=true}if(!this.url&&this.profileImage){this.url=salla.url.api("profile/update");this.instantUpload=true;this.host.hasAttribute("name")||(this.name="avatar")}if(!this.name){this.name="file"}salla.lang.onLoaded((function(){t.host.querySelectorAll(".filepond--drop-label>label").forEach((function(e){return e.innerHTML=t.getLabel()}));if(t.filepond){t.filepond.labelFileTypeNotAllowed=salla.lang.get("common.uploader.invalid_type");t.filepond.labelMaxFileSizeExceeded=salla.lang.get("common.uploader.too_large");t.filepond.labelFileSizeNotAvailable=salla.lang.get("common.uploader.size_not_available");t.filepond.labelFileLoading=salla.lang.get("common.elements.loading");t.filepond.labelFileLoadError=salla.lang.get("common.uploader.failed_to_load");t.filepond.labelFileProcessing=salla.lang.get("common.uploader.uploading");t.filepond.labelFileProcessingComplete=salla.lang.get("common.uploader.upload_completed");t.filepond.labelFileProcessingAborted=salla.lang.get("common.uploader.upload_cancelled");t.filepond.labelFileProcessingError=salla.lang.get("common.uploader.error_uploading");t.filepond.labelTapToCancel=salla.lang.get("common.elements.cancel");t.filepond.labelTapToRetry=salla.lang.get("common.elements.retry");t.filepond.labelButtonRemoveItem=salla.lang.get("common.elements.remove");t.filepond.labelButtonUndoItemProcessing=salla.lang.get("common.elements.undo");t.filepond.labelButtonProcessItem=salla.lang.get("common.uploader.upload")}}))}e.prototype.addedHandler=function(e,t){this.added.emit({error:e,file:t});this.host.querySelector(".filepond--root").classList.remove("s-file-upload-has-error");if(e||!t.file.type){this.host.querySelector(".filepond--root").classList.add("s-file-upload-has-error");return}var i=new DataTransfer;var n=this.getFormDataFileInput();i.items.add(t.file);n.type="file";n.files=i.files;n.dispatchEvent(new window.Event("change",{bubbles:true}))};e.prototype.uploadedHandler=function(){var e=this.getFormDataFileInput();e.type="hidden";e.value=this.value;this.hiddenInput.value=this.value;e.dispatchEvent(new window.Event("change",{bubbles:true}));return this.uploaded.emit(this.value)};e.prototype.removedHandler=function(e){var t=this;var i;var n=this.getFormDataFileInput();n.type="hidden";n.value="";(i=this.host.closest(".s-product-options-option"))===null||i===void 0?void 0:i.removeAttribute("data-has-value");if(e.getMetadata("id")){salla.cart.api.deleteImage(e.getMetadata("id"))}if(this.height){setTimeout((function(){return t.host.querySelector(".filepond--root").style.height=t.height}),1e3)}this.hiddenInput.value="";n.dispatchEvent(new window.Event("change",{bubbles:true}));return this.removed.emit(e)};e.prototype.setOption=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.filepond[e]=t;return[2]}))}))};e.prototype.getLabel=function(){if(this.labelIdle){return this.labelIdle.replace("common.uploader.drag_and_drop",salla.lang.get("common.uploader.drag_and_drop")).replace("common.uploader.browse",salla.lang.get("common.uploader.browse"))}return"".concat(salla.lang.get("common.uploader.drag_and_drop"),'<span class="filepond--label-action"> ').concat(salla.lang.get("common.uploader.browse")," </span>")};e.prototype.getFileSize=function(e){var t=new XMLHttpRequest;t.open("HEAD",e,false);t.send(null);return t.status===200?t.getResponseHeader("content-length"):""};e.prototype.getFormDataFileInput=function(){return this.host.querySelector(".filepond--data input")};e.prototype.getFiles=function(){var e=this;var t;if(!this.value&&!this.files){return[]}try{var i=this.files?JSON.parse(this.files):this.value.split(",").map((function(e){return{url:e}}));if(i.length){(t=this.host.closest(".s-product-options-option"))===null||t===void 0?void 0:t.setAttribute("data-has-value","true")}return i.map((function(t){return{source:t.id?"".concat(t.id):t.url,options:{type:"local",file:{name:t.url.substring(t.url.lastIndexOf("/")+1),size:e.getFileSize(t.url)},metadata:{poster:t.url,name:t.url,id:t.id}}}}))}catch(e){salla.log("failed To get files from: "+(this.files||this.value))}return[]};e.prototype.componentWillLoad=function(){if(!this.labelIdle){this.labelIdle=this.host.innerHTML;this.host.innerHTML=""}};e.prototype.render=function(){var e=this;return h(Host,{class:{"s-file-upload":true,"s-file-upload-profile-image":this.profileImage}},h("input",{type:"file",name:this.name,value:this.value,ref:function(t){return e.fileUploader=t},required:this.required,class:"s-file-upload-wrapper s-file-upload-input",accept:this.accept}),h("input",{class:"s-hidden",name:"hidden-"+this.name,required:this.required,value:this.value,ref:function(t){return e.hiddenInput=t}}))};e.prototype.componentDidLoad=function(){var e=this;var t=this.getFiles();this.filepond=filepond.create(this.fileUploader,{name:this.payloadName||this.name,files:t,required:this.required,disabled:this.disabled,allowDrop:this.allowDrop,allowBrowse:this.allowBrowse,allowPaste:this.allowPaste,allowMultiple:this.allowMultiple,allowReplace:this.allowReplace,allowRevert:this.allowRevert,allowProcess:this.allowProcess,allowReorder:this.allowReorder,storeAsFile:this.storeAsFile,forceRevert:this.forceRevert,maxFiles:this.maxFilesCount,maxParallelUploads:this.maxParallelUploads,checkValidity:this.checkValidity,itemInsertLocation:this.itemInsertLocation,itemInsertInterval:this.itemInsertInterval,credits:this.credits,dropOnPage:this.dropOnPage,dropOnElement:this.dropOnElement,dropValidation:this.dropValidation,ignoredFiles:this.ignoredFiles,onaddfile:function(t,i){return e.addedHandler(t,i)},server:{url:this.url,method:this.method,process:{onload:function(t){var i=JSON.parse(t).data;e.value=i.filePath||i.url;e.uploadedHandler();return e.value},headers:salla.api.getHeaders(),onerror:function(t){try{var i=JSON.parse(t).error.fields;i=i[e.payloadName||e.name];return i&&i[0]||salla.lang.get("common.errors.error_occurred")}catch(e){salla.log("FileUpload:: Error",e);return salla.lang.get("common.errors.error_occurred")}},ondata:function(t){if(e.payloadName&&e.payloadName!=e.name){t.append(e.payloadName,e.filepond.getFile(0).file);t.delete(e.name)}if(e.cartItemId){t.append("cart_item_id",e.cartItemId)}try{Object.entries(JSON.parse(e.formData)).forEach((function(e){return e[1]&&t.append(e[0],e[1])}))}catch(e){salla.log("Error to inject formData",e)}return t}}},instantUpload:this.instantUpload,chunkUploads:this.chunkUploads,chunkForce:this.chunkForce,chunkSize:this.chunkSize,chunkRetryDelays:this.chunkRetryDelays,labelDecimalSeparator:this.labelDecimalSeparator,labelThousandsSeparator:this.labelThousandsSeparator,labelIdle:this.getLabel(),acceptedFileTypes:this.accept.replace(/\s+/g,"").split(","),labelFileTypeNotAllowed:salla.lang.get("common.uploader.invalid_type"),fileValidateTypeLabelExpectedTypes:"{allButLastType}, {lastType}",labelMaxFileSizeExceeded:salla.lang.get("common.uploader.too_large"),labelMaxFileSize:"{filesize}",maxFileSize:this.maxFileSize,beforeRemoveFile:function(t){return new Promise((function(i){e.removedHandler(t);i(true)}))}});this.hiddenInput.addEventListener("invalid",(function(t){e.invalidInput.emit(t)}));this.hiddenInput.addEventListener("change",(function(){e.hiddenInput.setCustomValidity("");e.hiddenInput.reportValidity()}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaFileUpload.style=sallaFileUploadCss;var Images='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>images</title>\n<path d="M22.667 29.333h-13.333c-3.676 0-6.667-2.991-6.667-6.667v-13.333c0-0.737-0.597-1.333-1.333-1.333s-1.333 0.596-1.333 1.333v13.333c0 5.145 4.187 9.333 9.333 9.333h13.333c0.736 0 1.333-0.596 1.333-1.333s-0.597-1.333-1.333-1.333zM22.667 5.333c-2.205 0-4 1.795-4 4s1.795 4 4 4 4-1.795 4-4-1.795-4-4-4zM22.667 10.667c-0.735 0-1.333-0.597-1.333-1.333s0.599-1.333 1.333-1.333 1.333 0.597 1.333 1.333-0.599 1.333-1.333 1.333zM25.333 0h-13.333c-3.676 0-6.667 2.991-6.667 6.667v13.333c0 1.055 0.268 2.040 0.707 2.927 0.039 0.099 0.088 0.188 0.151 0.277 1.137 2.053 3.301 3.463 5.809 3.463h13.333c3.676 0 6.667-2.991 6.667-6.667v-13.333c0-3.676-2.991-6.667-6.667-6.667zM12 24c-1.244 0-2.344-0.583-3.077-1.476l5.721-7.047 6.629 8.523zM29.333 20c0 2.205-1.795 4-4 4h-0.68l-8.933-11.485c-0.251-0.32-0.633-0.511-1.039-0.515h-0.015c-0.401 0-0.781 0.181-1.035 0.492l-5.632 6.935v-12.76c0-2.205 1.795-4 4-4h13.333c2.205 0 4 1.795 4 4z"></path>\n</svg>\n';var LeftArrow='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>arrow-left</title>\n<path d="M28 14.667h-20.452l7.996-6.997c0.555-0.485 0.611-1.327 0.125-1.881-0.485-0.553-1.327-0.611-1.881-0.125l-10.667 9.333c-0.011 0.009-0.015 0.024-0.025 0.033-0.096 0.089-0.167 0.199-0.232 0.313-0.025 0.043-0.063 0.076-0.081 0.121-0.073 0.165-0.116 0.345-0.116 0.536s0.043 0.371 0.116 0.535c0.020 0.045 0.057 0.079 0.081 0.121 0.067 0.115 0.136 0.224 0.232 0.313 0.011 0.009 0.015 0.024 0.025 0.033l10.667 9.333c0.253 0.221 0.567 0.331 0.879 0.331 0.371 0 0.74-0.155 1.004-0.455 0.485-0.555 0.429-1.396-0.125-1.881l-7.997-6.997h20.452c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333z"></path>\n</svg>\n';var Cancel$1='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>cancel</title>\n<path d="M17.885 16l7.057-7.057c0.521-0.521 0.521-1.364 0-1.885s-1.364-0.521-1.885 0l-7.057 7.057-7.057-7.057c-0.521-0.521-1.364-0.521-1.885 0s-0.521 1.364 0 1.885l7.057 7.057-7.057 7.057c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l7.057-7.057 7.057 7.057c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885z"></path>\n</svg>\n';var GiftSharing='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>gift-sharing</title>\n<path d="M5 32h-4c-0.552 0-1-0.448-1-1v0-14c0-0.552 0.448-1 1-1v0h4c0.552 0 1 0.448 1 1v0 14c0 0.552-0.448 1-1 1v0zM2 30h2v-12h-2zM19.32 30h-14.32v-2h14.32c0.693-0.005 1.329-0.242 1.837-0.637l-0.007 0.005 8.45-6.568c0.216-0.16 0.365-0.402 0.399-0.679l0-0.005c0.005-0.036 0.007-0.077 0.007-0.119 0-0.226-0.078-0.434-0.209-0.599l0.002 0.002c-0.16-0.216-0.401-0.364-0.677-0.399l-0.005-0.001c-0.034-0.004-0.073-0.007-0.113-0.007-0.227 0-0.436 0.078-0.601 0.208l0.002-0.002-7.126 5.526c-1.003 0.793-2.285 1.273-3.68 1.274h-6.6v-2h6.6c0.926-0.001 1.777-0.32 2.45-0.852l-0.008 0.006 7.126-5.526c0.492-0.39 1.122-0.625 1.807-0.625 0.135 0 0.268 0.009 0.398 0.027l-0.015-0.002c0.824 0.102 1.534 0.524 2.011 1.137l0.005 0.007c0.39 0.494 0.625 1.127 0.625 1.814 0 0.136-0.009 0.27-0.027 0.402l0.002-0.015c-0.106 0.819-0.529 1.523-1.141 1.995l-0.007 0.005-8.458 6.578c-0.834 0.649-1.894 1.043-3.047 1.050h-0.002zM11 26c-0.552 0-1-0.448-1-1s0.448-1 1-1v0c2.406-0.004 4.415-1.703 4.894-3.967l0.006-0.033h-10.9c-0.552 0-1-0.448-1-1s0.448-1 1-1v0h12c0.552 0 1 0.448 1 1v0c0 3.866-3.134 7-7 7v0zM24 12h-16c-1.105 0-2-0.895-2-2v0-2c0-1.105 0.895-2 2-2v0h16c1.105 0 2 0.895 2 2v0 2c0 1.105-0.895 2-2 2v0zM24 10v0zM8 8v2h16v-2zM23 18c-0.552 0-1-0.448-1-1v0-6c0-0.552 0.448-1 1-1s1 0.448 1 1v0 6c0 0.552-0.448 1-1 1v0zM9 16c-0.552 0-1-0.448-1-1v0-4c0-0.552 0.448-1 1-1s1 0.448 1 1v0 4c0 0.552-0.448 1-1 1v0zM16 16c-0.552 0-1-0.448-1-1v0-8c0-0.552 0.448-1 1-1s1 0.448 1 1v0 8c0 0.552-0.448 1-1 1v0zM16 8c-0.552-0-1-0.448-1-1 0-0.077 0.009-0.151 0.025-0.223l-0.001 0.007c0.314-1.849 0.963-3.5 1.887-4.961l-0.033 0.055c0.539-0.521 1.274-0.842 2.084-0.842 1.657 0 3 1.343 3 3 0 0.81-0.321 1.545-0.843 2.085l0.001-0.001c-1.405 0.891-3.056 1.541-4.824 1.845l-0.080 0.011c-0.065 0.015-0.139 0.024-0.216 0.024h-0zM19 3c-0.001 0-0.001 0-0.002 0-0.276 0-0.525 0.112-0.706 0.292l0-0c-0.391 0.669-0.703 1.444-0.897 2.264l-0.011 0.058c0.878-0.205 1.653-0.517 2.363-0.93l-0.041 0.022c0.18-0.181 0.292-0.43 0.292-0.706 0-0.551-0.446-0.999-0.998-1h-0zM16 8c-0.077-0-0.151-0.009-0.223-0.025l0.007 0.001c-1.848-0.315-3.499-0.965-4.959-1.888l0.055 0.032c-0.521-0.539-0.842-1.274-0.842-2.084 0-1.657 1.343-3 3-3 0.81 0 1.545 0.321 2.085 0.843l-0.001-0.001c0.891 1.405 1.541 3.056 1.845 4.824l0.011 0.080c0.015 0.066 0.024 0.141 0.024 0.218 0 0.552-0.448 1-1 1-0.001 0-0.001 0-0.002 0h0zM13 3c-0.001 0-0.001 0-0.002 0-0.552 0-1 0.448-1 1 0 0.277 0.112 0.527 0.294 0.708l0 0c0.669 0.391 1.444 0.703 2.264 0.897l0.058 0.011c-0.205-0.878-0.517-1.653-0.93-2.363l0.022 0.041c-0.181-0.181-0.43-0.293-0.706-0.294h-0z"></path>\n</svg>\n';var sallaGiftingCss=".s-gifting-steps-wrapper{-webkit-transition:0.2s cubic-bezier(0.55, 0, 0.1, 1) 0s;transition:0.2s cubic-bezier(0.55, 0, 0.1, 1) 0s}.s-gifting-select{background-image:url(\"data:image/svg+xml;utf8,<svg version='1.1' fill='gray' xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'><title>keyboard_arrow_down</title><path d='M9.875 11.104l6.125 6.125 6.125-6.125 1.875 1.875-8 8-8-8z'></path></svg>\");background-size:24px;background-repeat:no-repeat;background-position:99%;-webkit-appearance:none;-moz-appearance:none;appearance:none}[dir=rtl] .s-gifting-select{background-position:5px}";var SallaGifting=function(){function e(e){var t=this;registerInstance(this,e);this.sectionTitle=undefined;this.sectionSubtitle=undefined;this.sectionBtnText=undefined;this.giftDetails=undefined;this.selectImageForYourGift=salla.lang.get("blocks.buy_as_gift.select_image_or_upload");this.selectImageOrUpload=undefined;this.selectGiftMessage=undefined;this.giftCustomText=undefined;this.textId=undefined;this.incorrectGiftText=undefined;this.nextStep=undefined;this.senderNameLabel=undefined;this.receiverNameFieldLabel=undefined;this.receiverMobileFieldLabel=undefined;this.receiverEmailFieldLabel=undefined;this.emailPlaceholder=undefined;this.sendLater=undefined;this.selectSendDateAndTime=undefined;this.canNotEditOrderAfterSelectDate=undefined;this.sendGift=undefined;this.donationRequired=undefined;this.currentStep=1;this.showCalendar=false;this.showGiftText=false;this.currentLang="";this.parentClass="is-current-step-1";this.errors={};this.gift=undefined;this.selectedGiftTextOption=undefined;this.showTextArea=false;this.selectedImage=undefined;this.uploadedImage=undefined;this.selectedText=undefined;this.senderName=undefined;this.errorMessage=undefined;this.hasError=false;this.quantity=undefined;this.deliveryDate=undefined;this.timeZone=null;this.receiverName=undefined;this.receiverMobile=undefined;this.receiverCountryCode=undefined;this.receiverEmail=undefined;this.productId=undefined;this.widgetSubtitle=undefined;salla.lang.onLoaded((function(){t.selectImageOrUpload=salla.lang.get("blocks.buy_as_gift.select_image_or_upload");t.selectImageForYourGift=salla.lang.get("blocks.buy_as_gift.select_image_for_your_gift");t.sectionTitle=salla.lang.get("blocks.buy_as_gift.gift_the_one_you_love");t.sectionSubtitle=salla.lang.get("blocks.buy_as_gift.gift_the_one_you_love_message");t.sectionBtnText=salla.lang.get("blocks.buy_as_gift.send_as_a_gift");t.giftDetails=salla.lang.get("blocks.buy_as_gift.gift_details");t.selectGiftMessage=salla.lang.get("blocks.buy_as_gift.select_gift_message");t.giftCustomText=salla.lang.get("blocks.buy_as_gift.gift_custom_text");t.textId=salla.lang.get("blocks.buy_as_gift.text_id");t.incorrectGiftText=salla.lang.get("blocks.buy_as_gift.incorrect_gift_text");t.nextStep=salla.lang.get("blocks.buy_as_gift.next_step");t.senderNameLabel=salla.lang.get("blocks.buy_as_gift.sender_name");t.receiverNameFieldLabel=salla.lang.get("blocks.buy_as_gift.receiver_name");t.receiverMobileFieldLabel=salla.lang.get("blocks.buy_as_gift.receiver_mobile");t.receiverEmailFieldLabel=salla.lang.get("blocks.buy_as_gift.receiver_email");t.emailPlaceholder=salla.lang.get("common.elements.email_placeholder");t.sendLater=salla.lang.get("blocks.buy_as_gift.send_later");t.selectSendDateAndTime=salla.lang.get("blocks.buy_as_gift.select_send_date_and_time");t.canNotEditOrderAfterSelectDate=salla.lang.get("blocks.buy_as_gift.can_not_edit_order_after_select_date");t.sendGift=salla.lang.get("blocks.buy_as_gift.send_gift");t.donationRequired=salla.lang.get("pages.products.donation_amount_required");t.currentLang=salla.lang.locale}))}e.prototype.componentDidLoad=function(){var e=this;salla.event.product.onPriceUpdated((function(){var t=document.querySelector(".s-quantity-input-input");e.quantity=t===null||t===void 0?void 0:t.value}))};e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:if(salla.config.isGuest()){salla.event.dispatch("login::open");return[2]}this.modal.open();return[4,salla.api.withoutNotifier((function(){return salla.product.getGiftDetails(e.productId)})).then((function(t){e.gift=t.data;e.senderName=e.gift.sender_name})).catch((function(t){var i,n,a,r;e.hasError=true;e.errorMessage=((a=(n=(i=t.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=t.response)===null||r===void 0?void 0:r.data)})).finally((function(){e.modal.stopLoading()}))];case 1:return[2,t.sent()]}}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.modal.close()]}))}))};e.prototype.setWrapperHeight=function(e,t,i,n){if(e===void 0){e=1}if(t===void 0){t=250}if(i===void 0){i=0}if(n===void 0){n=0}return __awaiter(this,void 0,void 0,(function(){var a;var r=this;return __generator(this,(function(o){a=document.querySelector(".gift-step-".concat(e));setTimeout((function(){var e=a.offsetHeight;if(n){r.stepsWrapper.style.height="".concat(n,"px")}else{r.stepsWrapper.style.height=e+i+"px"}}),t);return[2]}))}))};e.prototype.toggleCalendar=function(){this.showCalendar=!this.showCalendar;this.setWrapperHeight(2,150,0)};e.prototype.toggleGiftText=function(e){var t;(t=this.textSelect)===null||t===void 0?void 0:t.classList.remove("s-form-has-error");var i=e.target.children[e.target.selectedIndex].getAttribute("data-id");var n=i=="custom";this.showGiftText=n;if(i){this.selectedGiftTextOption=i;n?this.selectedText=undefined:this.selectedText=e.target.value;this.setWrapperHeight(1,150,5)}else{this.textArea.value="";this.selectedText=undefined;this.selectedGiftTextOption=undefined;this.setWrapperHeight(1,150,-15)}};e.prototype.goToStep2=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){if(!this.selectedGiftTextOption){this.textSelect.classList.add("s-form-has-error");this.customTextArea.classList.remove("s-form-has-error");return[2]}else if(this.selectedGiftTextOption=="custom"&&!this.selectedText){this.textSelect.classList.remove("s-form-has-error");this.customTextArea.classList.add("s-form-has-error");return[2]}else{this.textSelect.classList.remove("s-form-has-error");this.customTextArea.classList.remove("s-form-has-error")}this.setWrapperHeight(2,600,0);e=new anime.timeline;e.add({targets:this.step1Elems.querySelectorAll(".anime-item"),opacity:[1,0],translateX:[0,50],delay:anime.stagger(70),duration:1200}).add({targets:".gift-step-2",translateX:["-110%",0],opacity:[0,1]},"-=1800").add({targets:this.step2Elems.querySelectorAll(".anime-item"),opacity:[0,1],translateX:[-50,0],delay:anime.stagger(70),duration:1200,complete:function(){t.step2Elems.querySelectorAll(".anime-item").forEach((function(e){e.classList.remove("opacity-0");e.removeAttribute("style")}))}},"-=1200");this.currentStep=2;this.parentClass="is-current-step-".concat(this.currentStep);return[2]}))}))};e.prototype.goToStep1=function(e){var t=this;e.preventDefault();var i=new anime.timeline({autoplay:false});i.add({targets:this.step2Elems.querySelectorAll(".anime-item"),opacity:[1,0],translateX:[0,-50],delay:anime.stagger(70),duration:1200}).add({targets:".gift-step-1",translateX:["110%",0],opacity:[0,1]},"-=1800").add({targets:this.step1Elems.querySelectorAll(".anime-item"),opacity:[0,1],translateX:[50,0],delay:anime.stagger(70),duration:1200,complete:function(){t.step1Elems.querySelectorAll(".anime-item").forEach((function(e){e.classList.remove("opacity-0");e.removeAttribute("style")}))}},"-=1200");i.play();this.setWrapperHeight(1,600,0);this.currentStep=1;this.parentClass="is-current-step-".concat(this.currentStep)};e.prototype.getFilepondPlaceholder=function(){return'<div class="s-gifting-filepond-placeholder"><span class="s-gifting-filepond-placeholder-icon">'.concat(Images,'</span><p class="s-gifting-filepond-placeholder-text">').concat(this.selectImageOrUpload?this.selectImageOrUpload:"","</p></div>")};e.prototype.setPreview=function(e){var t,i;(t=this.uploader)===null||t===void 0?void 0:t.classList.add("has-bg");var n=document.querySelector(".filepond-bg")?document.querySelector(".filepond-bg"):document.createElement("div");n.classList.add("filepond-bg");n.classList.remove("s-hidden");n.style.backgroundImage="url('"+e.url+"')";(i=this.uploader)===null||i===void 0?void 0:i.querySelector(".filepond--root").appendChild(n);this.uploadedImage=e.url;if(!!this.gift&&this.gift.gift_images.length){this.setWrapperHeight(1,150,0)}};e.prototype.removePreview=function(){this.uploader.classList.remove("has-bg");var e=document.querySelector(".filepond-bg");e.removeAttribute("style");e.classList.add("s-hidden");this.handleRemoveImage()};e.prototype.handleTextAreaChange=function(e){this.selectedText=e.target.value;this.customTextArea.classList.remove("s-form-has-error")};e.prototype.handleSenderName=function(e){this.senderName=e.target.value};e.prototype.handleReceiverName=function(e){this.receiverName=e.target.value};e.prototype.handleUploadImage=function(e){this.uploadedImage=e;if(!!this.gift&&this.gift.gift_images.length){this.setWrapperHeight(1,150,0)}};e.prototype.handleRemoveImage=function(){this.uploadedImage="";if(!!this.gift&&this.gift.gift_images.length){this.setWrapperHeight(1,150,0)}};e.prototype.handlePhoneInputChange=function(e){var t=e.detail;this.receiverMobile=t.number;this.receiverCountryCode=t.country_code};e.prototype.handleDateTimePicker=function(e){this.deliveryDate=e.detail};e.prototype.getCalendarClasses=function(){return{"s-form-group":true,"anime-item":true,"s-gifting-calendar":true,shown:this.showCalendar,hide:!this.showCalendar,"s-form-has-error":!!this.errors&&this.errors["deliver_at"]}};e.prototype.submitForm=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n;var a=this;return __generator(this,(function(r){switch(r.label){case 0:i=(e=document.querySelector("#donating-amount"))===null||e===void 0?void 0:e.value;this.calendarFormGroup.classList.remove("s-form-has-error");if(!!this.errors){this.errors={};this.setWrapperHeight(2,150,0)}if(this.showCalendar&&!this.deliveryDate){this.calendarFormGroup.classList.add("s-form-has-error");return[2]}n={text:this.selectedText,sender_name:this.senderName,quantity:this.quantity,deliver_at:this.showCalendar?this.deliveryDate:null,image_url:(t=this.uploadedImage)!==null&&t!==void 0?t:this.selectedImage,donation_amount:i?i:null,receiver:{name:this.receiverName,country_code:this.receiverCountryCode,mobile:this.receiverMobile}};return[4,salla.product.addGiftToCart(this.productId,n,true).then((function(e){console.log(e);a.modal.close()})).catch((function(e){if(e.response.status==422){a.errors=e.response.data.error.fields}else{console.log(e)}a.setWrapperHeight(2,150,0)}))];case 1:return[2,r.sent()]}}))}))};e.prototype.render=function(){var e=this;var t,i;return[h("div",null,h("salla-list-tile",{class:"s-gifting-widget"},h("div",{slot:"title"},h("h3",null,this.sectionTitle)),h("div",{slot:"subtitle"},h("div",null,!!this.widgetSubtitle?this.widgetSubtitle:this.sectionSubtitle)),h("div",{slot:"action"},h("salla-button",{class:"s-gifting-widget-action",color:"gray",onClick:function(){return e.open()}},h("span",{innerHTML:GiftSharing}),"  ",h("span",null,this.sectionBtnText)))),h("salla-modal",{id:"salla-gifting-modal",isLoading:true,class:"s-gifting-modal",width:"sm",ref:function(t){return e.modal=t}},h("div",{slot:"loading"},h("div",{class:"s-gifting-skeleton"},h("div",{class:"s-gifting-modal-header"},h("salla-skeleton",{type:"circle",height:"5rem",width:"5rem"}),h("h2",{class:"s-gifting-modal-title"},h("div",{class:"s-gifting-modal-badge-wrapper"},h("salla-skeleton",{height:"15px",width:"150px"})))),h("div",{class:"s-gifting-skeleton-content"},h("salla-skeleton",{height:"10px",width:"150px"}),h("salla-skeleton",{height:"230px"}),h("salla-skeleton",{height:"10px",width:"150px"}),h("salla-skeleton",{height:"30px"}),h("salla-skeleton",{height:"40px"})))),h("slot",{name:"header"}),!!this.hasError?h("salla-placeholder",{alignment:"center"},h("span",{slot:"title"},this.errorMessage||salla.lang.get("common.errors.empty_results")),h("span",{slot:"description"}," ")):[h("div",{class:"s-gifting-modal-header"},h("span",{class:"s-gifting-modal-icon"},h("span",{innerHTML:GiftSharing})),h("h2",{class:"s-gifting-modal-title"},h("div",{class:"s-gifting-modal-badge-wrapper"},h("div",{class:"s-gifting-modal-badge"},h("span",null,h("span",null,this.currentStep),"/2")),h("span",null,this.giftDetails)))),h("div",{class:"s-gifting-steps-wrapper "+this.parentClass,ref:function(t){return e.stepsWrapper=t}},h("div",{class:"s-gifting-step-one gift-step-1",ref:function(t){return e.step1Elems=t}},h("div",{class:"s-gifting-modal-uploader-title anime-item"},this.selectImageForYourGift),h("div",{class:"s-gifting-modal-uploader anime-item",ref:function(t){return e.uploader=t}},h("span",{class:"s-gifting-remove-preview",onClick:function(){return e.removePreview()},innerHTML:Cancel$1}),this.selectImageOrUpload&&h("salla-file-upload",{"instant-upload":true,name:"image_url",url:salla.url.api(salla.product.api.getUrl("giftImage")),onUploaded:function(t){return e.handleUploadImage(t.detail)},labelIdle:this.getFilepondPlaceholder(),onRemoved:function(){return e.handleRemoveImage()}})),h("div",{class:"anime-item"},!this.uploadedImage&&!!this.gift&&!!this.gift.gift_images&&this.gift.gift_images.length>0?h("salla-slider",{id:"gifting-slider",loop:false,"controls-outer":true,class:"s-gifting-slider",type:"carousel"},h("div",{slot:"items"},this.gift&&this.gift.gift_images?(t=this.gift)===null||t===void 0?void 0:t.gift_images.map((function(t){return h("img",{class:"s-gifting-image s-gifting-clickable",src:t.url,onClick:function(){return e.setPreview(t)},alt:"".concat(t.id)})})):"")):""),h("div",{class:"anime-item"},h("div",{class:"s-form-group s-gifting-selectText",ref:function(t){return e.textSelect=t}},h("select",{id:"gift-text-selection",name:"gift-text-selection",class:"s-form-control s-gifting-select",onChange:function(t){return e.toggleGiftText(t)}},h("option",{"data-id":null,selected:true},this.selectGiftMessage),this.gift&&this.gift.gift_texts?(i=this.gift)===null||i===void 0?void 0:i.gift_texts.map((function(e){return h("option",{"data-id":e.id,value:e.text,key:e.id},e.text)})):"",h("option",{"data-id":"custom"},this.giftCustomText))),h("div",{class:this.showGiftText?"s-form-group s-gifting-textarea shown":"s-form-group s-gifting-textarea hide",ref:function(t){return e.customTextArea=t}},h("label",{htmlFor:"gift-custom-text",class:"s-form-label"},this.giftCustomText),h("div",{class:"mt-1"},h("textarea",{onInput:function(t){return e.handleTextAreaChange(t)},rows:4,ref:function(t){return e.textArea=t},name:"gift-custom-text",id:"gift-custom-text",class:"s-form-control"})))),h("div",{class:"anime-item"},h("salla-button",{color:"primary",width:"wide",onClick:function(){return e.goToStep2()}},h("span",null,this.nextStep)))),h("div",{class:"s-gifting-step-two gift-step-2",ref:function(t){return e.step2Elems=t}},h("div",{class:this.errors&&this.errors["sender_name"]?"s-form-group s-form-has-error anime-item opacity-0":"s-form-group anime-item opacity-0"},h("label",{htmlFor:"sender_name",class:"s-form-label"},this.senderNameLabel),h("input",{type:"text",class:"s-form-control",name:"sender_name",id:"sender_name",value:this.senderName,onInput:function(t){return e.handleSenderName(t)},placeholder:""}),this.errors&&this.errors["sender_name"]?h("span",{class:"text-danger text-xs"},this.errors["sender_name"]):""),h("div",{class:this.errors&&this.errors["receiver.name"]?"s-form-group s-form-has-error anime-item opacity-0":"s-form-group anime-item opacity-0"},h("label",{htmlFor:"receiver_name",class:"s-form-label"},this.receiverNameFieldLabel),h("input",{type:"text",class:"s-form-control",name:"receiver_name",id:"receiver_name",value:"",onInput:function(t){return e.handleReceiverName(t)},placeholder:""}),this.errors&&this.errors["receiver.name"]?h("span",{class:"text-danger text-xs"},this.errors["receiver.name"]):""),h("div",{class:this.errors&&this.errors["receiver.mobile"]?"s-form-group s-form-has-error anime-item opacity-0":"s-form-group anime-item opacity-0"},h("label",{class:"s-form-label"},this.receiverMobileFieldLabel),h("salla-tel-input",{class:"s-gifting-tel-input",phone:this.receiverMobile,countryCode:this.receiverCountryCode,onPhoneEntered:function(t){return e.handlePhoneInputChange(t)}}),this.errors&&this.errors["receiver.mobile"]?h("span",{class:"text-danger text-xs"},this.errors["receiver.mobile"]):""),h("div",{class:"anime-item opacity-0"},h("label",{class:"s-gifting-schedule s-gifting-clickable",htmlFor:"schedule"},h("input",{type:"checkbox",name:"schedule",id:"schedule",onChange:function(){return e.toggleCalendar()},class:"s-checkbox"}),h("span",{class:"s-form-label"}," ",this.sendLater," "))),h("div",{class:this.getCalendarClasses(),ref:function(t){return e.calendarFormGroup=t}},h("label",{class:"s-form-label"},this.selectSendDateAndTime),h("salla-datetime-picker",{value:this.deliveryDate,placeholder:this.selectSendDateAndTime,"enable-time":true,"date-format":"Y-m-d h:i K",onPicked:function(t){return e.handleDateTimePicker(t)}}),h("span",{class:"s-gifting-calendar-hint"},this.canNotEditOrderAfterSelectDate)),h("div",{class:"s-gifting-step-two-footer anime-item opacity-0"},h("a",{href:"#!",innerHTML:LeftArrow,onClick:function(t){return e.goToStep1(t)}}),h("salla-button",{onClick:function(){return e.submitForm()},color:"primary",width:"wide"},h("span",null,this.sendGift)))))],h("slot",{name:"footer"})))]};return e}();SallaGifting.style=sallaGiftingCss;var sallaInfiniteScrollCss="";var SallaInfiniteScroll=function(){function e(e){var t=this;registerInstance(this,e);this.nextPage="";this.autoload=false;this.container="salla-infinite-scroll";this.item="salla-infinite-scroll > *";this.loadMore=undefined;this.noMore=undefined;this.failedToLoad=undefined;this.status=document.createElement("div");this.status.className="s-infinite-scroll-wrapper";this.status.innerHTML='<div class="s-infinite-scroll-status" style="display:none">\n        <p class="s-infinite-scroll-last infinite-scroll-last"></p>\n        <p class="s-infinite-scroll-error infinite-scroll-error"></p>\n      </div>\n      <a href="'.concat(this.nextPage,'" class="s-infinite-scroll-btn s-button-btn s-button-primary">\n        <span class="s-button-text s-infinite-scroll-btn-text">').concat(salla.lang.get("common.elements.load_more"),'</span>\n        <span class="s-button-loader s-button-loader-center s-infinite-scroll-btn-loader" style="display: none"></span>\n      </a>');this.btnLoader=this.status.querySelector(".s-button-loader");salla.lang.onLoaded((function(){t.status.querySelector(".s-button-text").innerHTML=salla.lang.get("common.elements.load_more");t.status.querySelector(".s-infinite-scroll-last").innerHTML=salla.lang.get("common.elements.end_of_content");t.status.querySelector(".s-infinite-scroll-error").innerHTML=salla.lang.get("common.elements.failed_to_load_more")}))}e.prototype.loading=function(e){if(e===void 0){e=true}var t=this.status.querySelector(".s-button-text");Helper.toggleElementClassIf(t,"s-button-hide","s-button-show",(function(){return e}));this.btnLoader.style.display=e?"inherit":"none"};e.prototype.render=function(){return this.nextPage.length>1?h(Host,{class:"s-infinite-scroll-container"},h("slot",null)):""};e.prototype.componentDidLoad=function(){var e=this;if(this.nextPage.length===0){return}this.host.insertAdjacentElement("afterend",this.status);var t=this;var i=salla.infiniteScroll.initiate(this.container,{history:this.autoload?"push":false,scrollThreshold:this.autoload?400:false,nextPage:this.nextPage,checkLastPage:'salla-infinite-scroll[next-page*=":"],salla-infinite-scroll[next-page*="."]',status:".s-infinite-scroll-status",button:this.status.querySelector(".s-button-btn"),append:this.item,path:function(){return t.nextPage.replace(/page\=(\d)/g,"page="+(this.loadCount+2))}}).on("request",(function(){return e.loading()})).on("load",(function(){e.loading(false);if(i.pageIndex==2){i.option({loadOnScroll:false})}if(i.pageIndex==3){i.option({loadOnScroll:true})}})).on("error",(function(){return e.loading(false)}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaInfiniteScroll.style=sallaInfiniteScrollCss;var sallaListTileCss="";var SallaListTile=function(){function e(e){registerInstance(this,e);this.href=undefined;this.target="_self"}e.prototype.generateClass=function(){return{"s-list-tile-item":true,"s-list-tile-item-href":!!this.href}};e.prototype.render=function(){return h(Host,null,h("a",{class:this.generateClass(),href:this.href,target:this.target},h("div",{class:"s-list-tile-item-icon"},h("slot",{name:"icon"})),h("div",{class:"s-list-tile-item-content"},h("div",{class:"s-list-tile-item-title"},h("slot",{name:"title"})),h("div",{class:"s-list-tile-item-subtitle"},h("slot",{name:"subtitle"}))),h("div",{class:"s-list-tile-item-action"},h("slot",{name:"action"}))))};return e}();SallaListTile.style=sallaListTileCss;var sallaLoadingCss=".s-loading{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;fill:var(--color-primary)}.s-loading-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}";var SallaLoading=function(){function e(e){registerInstance(this,e);this.size=32;this.width=2;this.color=undefined;this.bgColor="#e5e7eb"}e.prototype.render=function(){return h(Host,{class:"s-loading-container"},h("svg",{"aria-hidden":"true",style:{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),fill:this.color,color:this.bgColor},class:"s-loading",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),h("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})))};return e}();SallaLoading.style=sallaLoadingCss;var sallaLocalizationModalCss=".s-localization-modal-select{background-image:url(\"data:image/svg+xml;utf8,<svg fill='gray' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\")}.iti__flag{width:20px}.iti__flag.iti__be{width:18px}.iti__flag.iti__ch{width:15px}.iti__flag.iti__mc{width:19px}.iti__flag.iti__ne{width:18px}.iti__flag.iti__np{width:13px}.iti__flag.iti__va{width:15px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.iti__flag{background-size:5652px 15px}}.iti__flag.iti__ac{height:10px;background-position:0px 0px}.iti__flag.iti__ad{height:14px;background-position:-22px 0px}.iti__flag.iti__ae{height:10px;background-position:-44px 0px}.iti__flag.iti__af{height:14px;background-position:-66px 0px}.iti__flag.iti__ag{height:14px;background-position:-88px 0px}.iti__flag.iti__ai{height:10px;background-position:-110px 0px}.iti__flag.iti__al{height:15px;background-position:-132px 0px}.iti__flag.iti__am{height:10px;background-position:-154px 0px}.iti__flag.iti__ao{height:14px;background-position:-176px 0px}.iti__flag.iti__aq{height:14px;background-position:-198px 0px}.iti__flag.iti__ar{height:13px;background-position:-220px 0px}.iti__flag.iti__as{height:10px;background-position:-242px 0px}.iti__flag.iti__at{height:14px;background-position:-264px 0px}.iti__flag.iti__au{height:10px;background-position:-286px 0px}.iti__flag.iti__aw{height:14px;background-position:-308px 0px}.iti__flag.iti__ax{height:13px;background-position:-330px 0px}.iti__flag.iti__az{height:10px;background-position:-352px 0px}.iti__flag.iti__ba{height:10px;background-position:-374px 0px}.iti__flag.iti__bb{height:14px;background-position:-396px 0px}.iti__flag.iti__bd{height:12px;background-position:-418px 0px}.iti__flag.iti__be{height:15px;background-position:-440px 0px}.iti__flag.iti__bf{height:14px;background-position:-460px 0px}.iti__flag.iti__bg{height:12px;background-position:-482px 0px}.iti__flag.iti__bh{height:12px;background-position:-504px 0px}.iti__flag.iti__bi{height:12px;background-position:-526px 0px}.iti__flag.iti__bj{height:14px;background-position:-548px 0px}.iti__flag.iti__bl{height:14px;background-position:-570px 0px}.iti__flag.iti__bm{height:10px;background-position:-592px 0px}.iti__flag.iti__bn{height:10px;background-position:-614px 0px}.iti__flag.iti__bo{height:14px;background-position:-636px 0px}.iti__flag.iti__bq{height:14px;background-position:-658px 0px}.iti__flag.iti__br{height:14px;background-position:-680px 0px}.iti__flag.iti__bs{height:10px;background-position:-702px 0px}.iti__flag.iti__bt{height:14px;background-position:-724px 0px}.iti__flag.iti__bv{height:15px;background-position:-746px 0px}.iti__flag.iti__bw{height:14px;background-position:-768px 0px}.iti__flag.iti__by{height:10px;background-position:-790px 0px}.iti__flag.iti__bz{height:14px;background-position:-812px 0px}.iti__flag.iti__ca{height:10px;background-position:-834px 0px}.iti__flag.iti__cc{height:10px;background-position:-856px 0px}.iti__flag.iti__cd{height:15px;background-position:-878px 0px}.iti__flag.iti__cf{height:14px;background-position:-900px 0px}.iti__flag.iti__cg{height:14px;background-position:-922px 0px}.iti__flag.iti__ch{height:15px;background-position:-944px 0px}.iti__flag.iti__ci{height:14px;background-position:-961px 0px}.iti__flag.iti__ck{height:10px;background-position:-983px 0px}.iti__flag.iti__cl{height:14px;background-position:-1005px 0px}.iti__flag.iti__cm{height:14px;background-position:-1027px 0px}.iti__flag.iti__cn{height:14px;background-position:-1049px 0px}.iti__flag.iti__co{height:14px;background-position:-1071px 0px}.iti__flag.iti__cp{height:14px;background-position:-1093px 0px}.iti__flag.iti__cr{height:12px;background-position:-1115px 0px}.iti__flag.iti__cu{height:10px;background-position:-1137px 0px}.iti__flag.iti__cv{height:12px;background-position:-1159px 0px}.iti__flag.iti__cw{height:14px;background-position:-1181px 0px}.iti__flag.iti__cx{height:10px;background-position:-1203px 0px}.iti__flag.iti__cy{height:14px;background-position:-1225px 0px}.iti__flag.iti__cz{height:14px;background-position:-1247px 0px}.iti__flag.iti__de{height:12px;background-position:-1269px 0px}.iti__flag.iti__dg{height:10px;background-position:-1291px 0px}.iti__flag.iti__dj{height:14px;background-position:-1313px 0px}.iti__flag.iti__dk{height:15px;background-position:-1335px 0px}.iti__flag.iti__dm{height:10px;background-position:-1357px 0px}.iti__flag.iti__do{height:14px;background-position:-1379px 0px}.iti__flag.iti__dz{height:14px;background-position:-1401px 0px}.iti__flag.iti__ea{height:14px;background-position:-1423px 0px}.iti__flag.iti__ec{height:14px;background-position:-1445px 0px}.iti__flag.iti__ee{height:13px;background-position:-1467px 0px}.iti__flag.iti__eg{height:14px;background-position:-1489px 0px}.iti__flag.iti__eh{height:10px;background-position:-1511px 0px}.iti__flag.iti__er{height:10px;background-position:-1533px 0px}.iti__flag.iti__es{height:14px;background-position:-1555px 0px}.iti__flag.iti__et{height:10px;background-position:-1577px 0px}.iti__flag.iti__eu{height:14px;background-position:-1599px 0px}.iti__flag.iti__fi{height:12px;background-position:-1621px 0px}.iti__flag.iti__fj{height:10px;background-position:-1643px 0px}.iti__flag.iti__fk{height:10px;background-position:-1665px 0px}.iti__flag.iti__fm{height:11px;background-position:-1687px 0px}.iti__flag.iti__fo{height:15px;background-position:-1709px 0px}.iti__flag.iti__fr{height:14px;background-position:-1731px 0px}.iti__flag.iti__ga{height:15px;background-position:-1753px 0px}.iti__flag.iti__gb{height:10px;background-position:-1775px 0px}.iti__flag.iti__gd{height:12px;background-position:-1797px 0px}.iti__flag.iti__ge{height:14px;background-position:-1819px 0px}.iti__flag.iti__gf{height:14px;background-position:-1841px 0px}.iti__flag.iti__gg{height:14px;background-position:-1863px 0px}.iti__flag.iti__gh{height:14px;background-position:-1885px 0px}.iti__flag.iti__gi{height:10px;background-position:-1907px 0px}.iti__flag.iti__gl{height:14px;background-position:-1929px 0px}.iti__flag.iti__gm{height:14px;background-position:-1951px 0px}.iti__flag.iti__gn{height:14px;background-position:-1973px 0px}.iti__flag.iti__gp{height:14px;background-position:-1995px 0px}.iti__flag.iti__gq{height:14px;background-position:-2017px 0px}.iti__flag.iti__gr{height:14px;background-position:-2039px 0px}.iti__flag.iti__gs{height:10px;background-position:-2061px 0px}.iti__flag.iti__gt{height:13px;background-position:-2083px 0px}.iti__flag.iti__gu{height:11px;background-position:-2105px 0px}.iti__flag.iti__gw{height:10px;background-position:-2127px 0px}.iti__flag.iti__gy{height:12px;background-position:-2149px 0px}.iti__flag.iti__hk{height:14px;background-position:-2171px 0px}.iti__flag.iti__hm{height:10px;background-position:-2193px 0px}.iti__flag.iti__hn{height:10px;background-position:-2215px 0px}.iti__flag.iti__hr{height:10px;background-position:-2237px 0px}.iti__flag.iti__ht{height:12px;background-position:-2259px 0px}.iti__flag.iti__hu{height:10px;background-position:-2281px 0px}.iti__flag.iti__ic{height:14px;background-position:-2303px 0px}.iti__flag.iti__id{height:14px;background-position:-2325px 0px}.iti__flag.iti__ie{height:10px;background-position:-2347px 0px}.iti__flag.iti__il{height:15px;background-position:-2369px 0px}.iti__flag.iti__im{height:10px;background-position:-2391px 0px}.iti__flag.iti__in{height:14px;background-position:-2413px 0px}.iti__flag.iti__io{height:10px;background-position:-2435px 0px}.iti__flag.iti__iq{height:14px;background-position:-2457px 0px}.iti__flag.iti__ir{height:12px;background-position:-2479px 0px}.iti__flag.iti__is{height:15px;background-position:-2501px 0px}.iti__flag.iti__it{height:14px;background-position:-2523px 0px}.iti__flag.iti__je{height:12px;background-position:-2545px 0px}.iti__flag.iti__jm{height:10px;background-position:-2567px 0px}.iti__flag.iti__jo{height:10px;background-position:-2589px 0px}.iti__flag.iti__jp{height:14px;background-position:-2611px 0px}.iti__flag.iti__ke{height:14px;background-position:-2633px 0px}.iti__flag.iti__kg{height:12px;background-position:-2655px 0px}.iti__flag.iti__kh{height:13px;background-position:-2677px 0px}.iti__flag.iti__ki{height:10px;background-position:-2699px 0px}.iti__flag.iti__km{height:12px;background-position:-2721px 0px}.iti__flag.iti__kn{height:14px;background-position:-2743px 0px}.iti__flag.iti__kp{height:10px;background-position:-2765px 0px}.iti__flag.iti__kr{height:14px;background-position:-2787px 0px}.iti__flag.iti__kw{height:10px;background-position:-2809px 0px}.iti__flag.iti__ky{height:10px;background-position:-2831px 0px}.iti__flag.iti__kz{height:10px;background-position:-2853px 0px}.iti__flag.iti__la{height:14px;background-position:-2875px 0px}.iti__flag.iti__lb{height:14px;background-position:-2897px 0px}.iti__flag.iti__lc{height:10px;background-position:-2919px 0px}.iti__flag.iti__li{height:12px;background-position:-2941px 0px}.iti__flag.iti__lk{height:10px;background-position:-2963px 0px}.iti__flag.iti__lr{height:11px;background-position:-2985px 0px}.iti__flag.iti__ls{height:14px;background-position:-3007px 0px}.iti__flag.iti__lt{height:12px;background-position:-3029px 0px}.iti__flag.iti__lu{height:12px;background-position:-3051px 0px}.iti__flag.iti__lv{height:10px;background-position:-3073px 0px}.iti__flag.iti__ly{height:10px;background-position:-3095px 0px}.iti__flag.iti__ma{height:14px;background-position:-3117px 0px}.iti__flag.iti__mc{height:15px;background-position:-3139px 0px}.iti__flag.iti__md{height:10px;background-position:-3160px 0px}.iti__flag.iti__me{height:10px;background-position:-3182px 0px}.iti__flag.iti__mf{height:14px;background-position:-3204px 0px}.iti__flag.iti__mg{height:14px;background-position:-3226px 0px}.iti__flag.iti__mh{height:11px;background-position:-3248px 0px}.iti__flag.iti__mk{height:10px;background-position:-3270px 0px}.iti__flag.iti__ml{height:14px;background-position:-3292px 0px}.iti__flag.iti__mm{height:14px;background-position:-3314px 0px}.iti__flag.iti__mn{height:10px;background-position:-3336px 0px}.iti__flag.iti__mo{height:14px;background-position:-3358px 0px}.iti__flag.iti__mp{height:10px;background-position:-3380px 0px}.iti__flag.iti__mq{height:14px;background-position:-3402px 0px}.iti__flag.iti__mr{height:14px;background-position:-3424px 0px}.iti__flag.iti__ms{height:10px;background-position:-3446px 0px}.iti__flag.iti__mt{height:14px;background-position:-3468px 0px}.iti__flag.iti__mu{height:14px;background-position:-3490px 0px}.iti__flag.iti__mv{height:14px;background-position:-3512px 0px}.iti__flag.iti__mw{height:14px;background-position:-3534px 0px}.iti__flag.iti__mx{height:12px;background-position:-3556px 0px}.iti__flag.iti__my{height:10px;background-position:-3578px 0px}.iti__flag.iti__mz{height:14px;background-position:-3600px 0px}.iti__flag.iti__na{height:14px;background-position:-3622px 0px}.iti__flag.iti__nc{height:10px;background-position:-3644px 0px}.iti__flag.iti__ne{height:15px;background-position:-3666px 0px}.iti__flag.iti__nf{height:10px;background-position:-3686px 0px}.iti__flag.iti__ng{height:10px;background-position:-3708px 0px}.iti__flag.iti__ni{height:12px;background-position:-3730px 0px}.iti__flag.iti__nl{height:14px;background-position:-3752px 0px}.iti__flag.iti__no{height:15px;background-position:-3774px 0px}.iti__flag.iti__np{height:15px;background-position:-3796px 0px}.iti__flag.iti__nr{height:10px;background-position:-3811px 0px}.iti__flag.iti__nu{height:10px;background-position:-3833px 0px}.iti__flag.iti__nz{height:10px;background-position:-3855px 0px}.iti__flag.iti__om{height:10px;background-position:-3877px 0px}.iti__flag.iti__pa{height:14px;background-position:-3899px 0px}.iti__flag.iti__pe{height:14px;background-position:-3921px 0px}.iti__flag.iti__pf{height:14px;background-position:-3943px 0px}.iti__flag.iti__pg{height:15px;background-position:-3965px 0px}.iti__flag.iti__ph{height:10px;background-position:-3987px 0px}.iti__flag.iti__pk{height:14px;background-position:-4009px 0px}.iti__flag.iti__pl{height:13px;background-position:-4031px 0px}.iti__flag.iti__pm{height:14px;background-position:-4053px 0px}.iti__flag.iti__pn{height:10px;background-position:-4075px 0px}.iti__flag.iti__pr{height:14px;background-position:-4097px 0px}.iti__flag.iti__ps{height:10px;background-position:-4119px 0px}.iti__flag.iti__pt{height:14px;background-position:-4141px 0px}.iti__flag.iti__pw{height:13px;background-position:-4163px 0px}.iti__flag.iti__py{height:11px;background-position:-4185px 0px}.iti__flag.iti__qa{height:8px;background-position:-4207px 0px}.iti__flag.iti__re{height:14px;background-position:-4229px 0px}.iti__flag.iti__ro{height:14px;background-position:-4251px 0px}.iti__flag.iti__rs{height:14px;background-position:-4273px 0px}.iti__flag.iti__ru{height:14px;background-position:-4295px 0px}.iti__flag.iti__rw{height:14px;background-position:-4317px 0px}.iti__flag.iti__sa{height:14px;background-position:-4339px 0px}.iti__flag.iti__sb{height:10px;background-position:-4361px 0px}.iti__flag.iti__sc{height:10px;background-position:-4383px 0px}.iti__flag.iti__sd{height:10px;background-position:-4405px 0px}.iti__flag.iti__se{height:13px;background-position:-4427px 0px}.iti__flag.iti__sg{height:14px;background-position:-4449px 0px}.iti__flag.iti__sh{height:10px;background-position:-4471px 0px}.iti__flag.iti__si{height:10px;background-position:-4493px 0px}.iti__flag.iti__sj{height:15px;background-position:-4515px 0px}.iti__flag.iti__sk{height:14px;background-position:-4537px 0px}.iti__flag.iti__sl{height:14px;background-position:-4559px 0px}.iti__flag.iti__sm{height:15px;background-position:-4581px 0px}.iti__flag.iti__sn{height:14px;background-position:-4603px 0px}.iti__flag.iti__so{height:14px;background-position:-4625px 0px}.iti__flag.iti__sr{height:14px;background-position:-4647px 0px}.iti__flag.iti__ss{height:10px;background-position:-4669px 0px}.iti__flag.iti__st{height:10px;background-position:-4691px 0px}.iti__flag.iti__sv{height:12px;background-position:-4713px 0px}.iti__flag.iti__sx{height:14px;background-position:-4735px 0px}.iti__flag.iti__sy{height:14px;background-position:-4757px 0px}.iti__flag.iti__sz{height:14px;background-position:-4779px 0px}.iti__flag.iti__ta{height:10px;background-position:-4801px 0px}.iti__flag.iti__tc{height:10px;background-position:-4823px 0px}.iti__flag.iti__td{height:14px;background-position:-4845px 0px}.iti__flag.iti__tf{height:14px;background-position:-4867px 0px}.iti__flag.iti__tg{height:13px;background-position:-4889px 0px}.iti__flag.iti__th{height:14px;background-position:-4911px 0px}.iti__flag.iti__tj{height:10px;background-position:-4933px 0px}.iti__flag.iti__tk{height:10px;background-position:-4955px 0px}.iti__flag.iti__tl{height:10px;background-position:-4977px 0px}.iti__flag.iti__tm{height:14px;background-position:-4999px 0px}.iti__flag.iti__tn{height:14px;background-position:-5021px 0px}.iti__flag.iti__to{height:10px;background-position:-5043px 0px}.iti__flag.iti__tr{height:14px;background-position:-5065px 0px}.iti__flag.iti__tt{height:12px;background-position:-5087px 0px}.iti__flag.iti__tv{height:10px;background-position:-5109px 0px}.iti__flag.iti__tw{height:14px;background-position:-5131px 0px}.iti__flag.iti__tz{height:14px;background-position:-5153px 0px}.iti__flag.iti__ua{height:14px;background-position:-5175px 0px}.iti__flag.iti__ug{height:14px;background-position:-5197px 0px}.iti__flag.iti__um{height:11px;background-position:-5219px 0px}.iti__flag.iti__un{height:14px;background-position:-5241px 0px}.iti__flag.iti__us{height:11px;background-position:-5263px 0px}.iti__flag.iti__uy{height:14px;background-position:-5285px 0px}.iti__flag.iti__uz{height:10px;background-position:-5307px 0px}.iti__flag.iti__va{height:15px;background-position:-5329px 0px}.iti__flag.iti__vc{height:14px;background-position:-5346px 0px}.iti__flag.iti__ve{height:14px;background-position:-5368px 0px}.iti__flag.iti__vg{height:10px;background-position:-5390px 0px}.iti__flag.iti__vi{height:14px;background-position:-5412px 0px}.iti__flag.iti__vn{height:14px;background-position:-5434px 0px}.iti__flag.iti__vu{height:12px;background-position:-5456px 0px}.iti__flag.iti__wf{height:14px;background-position:-5478px 0px}.iti__flag.iti__ws{height:10px;background-position:-5500px 0px}.iti__flag.iti__xk{height:15px;background-position:-5522px 0px}.iti__flag.iti__ye{height:14px;background-position:-5544px 0px}.iti__flag.iti__yt{height:14px;background-position:-5566px 0px}.iti__flag.iti__za{height:14px;background-position:-5588px 0px}.iti__flag.iti__zm{height:14px;background-position:-5610px 0px}.iti__flag.iti__zw{height:10px;background-position:-5632px 0px}.iti__flag{height:15px;-webkit-box-shadow:0px 0px 1px 0px #888;box-shadow:0px 0px 1px 0px #888;background-image:url(\"https://cdn.salla.network/images/flags.png\");background-repeat:no-repeat;background-color:#f5f7f9;background-position:20px 0}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.iti__flag{background-image:url(\"https://cdn.salla.network/images/flags@2x.png\")}}.iti__flag.iti__np{background-color:transparent}";var SallaLocalizationModal=function(){function e(e){var t=this;registerInstance(this,e);var i,n;this.translationLoaded=false;this.languages=[];this.currencies=[];this.hasError=false;this.errorMessage=undefined;this.language=salla.config.get("user.language_code");this.currency=salla.config.get("user.currency_code");salla.event.on("localization::open",(function(){return t.open()}));salla.lang.onLoaded((function(){t.translationLoaded=true}));this.languageSlot=((i=this.host.querySelector('[slot="language"]'))===null||i===void 0?void 0:i.innerHTML)||'<label class="s-localization-modal-label" for="lang-{code}"><span>{name}</span><div class="s-localization-modal-flag flag iti__flag iti__{country_code}"></div></label>';this.currencySlot=((n=this.host.querySelector('[slot="currency"]'))===null||n===void 0?void 0:n.innerHTML)||'<label class="s-localization-modal-label" for="currency-{code}"><span>{name}</span><small class="s-localization-modal-currency">{code}</small></label>'}e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:this.modal.open();return[4,salla.api.withoutNotifier((function(){return e.getLanguages()})).then((function(){return e.getCurrencies()})).then((function(){if(e.languages.length<2&&e.currencies.length<2){e.modal.close()}})).catch((function(t){var i,n,a,r;console.log(t);e.hasError=true;e.errorMessage=((a=(n=(i=t.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=t.response)===null||r===void 0?void 0:r.data)})).finally((function(){return e.modal.stopLoading()}))];case 1:return[2,t.sent()]}}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.modal.close()]}))}))};e.prototype.getLanguages=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){switch(i.label){case 0:this.language=this.language||salla.config.get("user.language_code");if(!(this.languages.length>1))return[3,1];e=null;return[3,3];case 1:return[4,salla.config.languages().then((function(e){return t.languages=e}))];case 2:e=i.sent();i.label=3;case 3:return[2,e]}}))}))};e.prototype.getCurrencies=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){switch(i.label){case 0:this.currency=this.currency||salla.config.get("user.currency_code");if(!(this.currencies.length>1))return[3,1];e=null;return[3,3];case 1:return[4,salla.config.currencies().then((function(e){return t.currencies=Object.values(e||{})}))];case 2:e=i.sent();i.label=3;case 3:return[2,e]}}))}))};e.prototype.onChangeCurrency=function(e){this.currency=e.target.value};e.prototype.onChangeLanguage=function(e){this.language=e.target.value};e.prototype.submit=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){this.btn.load().then((function(){if(!t.currency){salla.log("There is no currency!");return}if(t.currency===salla.config.get("user.currency_code","SAR")){return}e=window.location.href;return salla.currency.api.change(t.currency)})).then((function(){if(t.language!==salla.config.get("user.language_code","ar")){e=salla.helpers.addParamToUrl("lang",t.language)}})).then((function(){return t.btn.stop()})).then((function(){return t.close()})).then((function(){if(e){window.location.href=e.replace("/".concat(salla.config.get("user.language_code"),"/"),"/".concat(t.language,"/"))}}));return[2]}))}))};e.prototype.render=function(){var e=this;return h("salla-modal",{isLoading:true,class:"s-hidden",ref:function(t){return e.modal=t},width:"xs"},h("div",{slot:"loading"},h("div",{class:"s-localization-modal-skeleton"},h("salla-skeleton",{width:"25%",height:"15px"}),h("div",{class:"s-localization-modal-skeleton-content"},__spreadArray([],Array(4),true).map((function(){return h("div",{class:"s-localization-modal-skeleton-item"},h("div",{class:"s-localization-modal-skeleton-item-flex"},h("salla-skeleton",{type:"circle",height:"16px",width:"16px"}),h("salla-skeleton",{height:"10px",width:"100px"})),h("salla-skeleton",{height:"15px",width:"20px"}))}))),h("salla-skeleton",{width:"25%",height:"15px"}),h("div",{class:"s-localization-modal-skeleton-content"},__spreadArray([],Array(4),true).map((function(){return h("div",{class:"s-localization-modal-skeleton-item"},h("div",{class:"s-localization-modal-skeleton-item-flex"},h("salla-skeleton",{type:"circle",height:"16px",width:"16px"}),h("salla-skeleton",{height:"10px",width:"100px"})),h("salla-skeleton",{height:"15px",width:"20px"}))}))),h("salla-skeleton",{height:"40px",width:"100%"}))),!!this.hasError?h("salla-placeholder",{alignment:"center"},h("span",{slot:"description"},this.errorMessage)):h("div",{class:"s-localization-modal-inner"},this.languages.length>1?h("div",{class:"s-localization-modal-section"},h("label",{class:"s-localization-modal-title"},salla.lang.get("common.titles.language")),h("div",{class:"s-localization-modal-section-inner"},this.languages.length<6||this.currencies.length==1?this.languages.map((function(t){return h("div",{class:"s-localization-modal-item"},h("input",{class:"s-localization-modal-input",type:"radio",checked:e.language==t.iso_code,onChange:function(){return e.language=t.iso_code},name:"language",id:"lang-"+t.code.toLowerCase(),value:t.code}),h("div",{class:"s-localization-modal-label-slot",id:"language-slot",innerHTML:e.languageSlot.replace(/\{name\}/g,t.name).replace(/\{code\}/g,t.code).replace(/\{country_code\}/g,t.country_code)}))})):h("select",{class:"s-localization-modal-select",name:"language",onChange:function(t){return e.onChangeLanguage(t)}},this.languages.map((function(t){return h("option",{value:t.code,selected:e.language==t.code},t.name)}))))):"",this.currencies.length>1?h("div",{class:"s-localization-modal-section"},h("label",{class:"s-localization-modal-title"},salla.lang.get("common.titles.currency")),h("div",{class:"s-localization-modal-section-inner"},this.currencies.length<6||this.languages.length==1?this.currencies.map((function(t){return h("div",{class:"s-localization-modal-item"},h("input",{class:"s-localization-modal-input",type:"radio",name:"currency",checked:e.currency==t.code,onChange:function(){return e.currency=t.code},id:"currency-"+t.code,value:t.code}),h("div",{class:"s-localization-modal-label-slot",id:"currency-slot",innerHTML:e.currencySlot.replace(/\{name\}/g,t.name).replace(/\{code\}/g,t.code).replace(/\{country_code\}/g,t.country_code)}))})):h("select",{class:"s-localization-modal-select",name:"currency",onChange:function(t){return e.onChangeCurrency(t)}},this.currencies.map((function(t){return h("option",{value:t.code,selected:e.currency==t.code},t.name)}))))):"",h("salla-button",{width:"wide",ref:function(t){return e.btn=t},onClick:function(){return e.submit()}},salla.lang.get("common.elements.ok"))))};e.prototype.componentDidRender=function(){this.host.querySelectorAll("#currency-slot").forEach((function(e){return e.replaceWith(e.firstChild)}));this.host.querySelectorAll("#language-slot").forEach((function(e){return e.replaceWith(e.firstChild)}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaLocalizationModal.style=sallaLocalizationModalCss;var UserIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>user</title>\n<path d="M16 16c4.412 0 8-3.588 8-8s-3.588-8-8-8-8 3.588-8 8 3.588 8 8 8zM16 2.667c2.941 0 5.333 2.392 5.333 5.333s-2.392 5.333-5.333 5.333-5.333-2.392-5.333-5.333 2.392-5.333 5.333-5.333zM16 18.667c-7.476 0-13.333 3.66-13.333 8.333v3.667c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-3.667c0-3.019 4.984-5.667 10.667-5.667s10.667 2.648 10.667 5.667v3.667c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-3.667c0-4.673-5.857-8.333-13.333-8.333z"></path>\n</svg>\n';var PhoneIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>phone</title>\n<path d="M30.823 21.713l-3.883-3.883c-1.569-1.568-4.12-1.568-5.689 0l-2.568 2.568c-3.063-1.499-5.583-4.019-7.081-7.083l2.568-2.567c0.759-0.76 1.177-1.771 1.177-2.845s-0.419-2.084-1.179-2.844l-3.881-3.881c-1.52-1.521-4.171-1.521-5.689 0l-1.845 1.847c-2.22 2.219-3.183 5.407-2.573 8.527 1.98 10.144 10.125 18.292 20.269 20.271 0.616 0.121 1.236 0.18 1.849 0.18 2.492 0 4.896-0.972 6.677-2.752l1.847-1.847c1.568-1.571 1.568-4.121 0.001-5.691zM28.936 25.517l-1.845 1.847c-1.592 1.592-3.883 2.283-6.132 1.841-9.089-1.776-16.388-9.075-18.163-18.165-0.439-2.247 0.249-4.539 1.841-6.129l1.847-1.847c0.256-0.257 0.596-0.397 0.959-0.397s0.703 0.14 0.959 0.397l3.883 3.883c0.256 0.256 0.397 0.596 0.397 0.959s-0.141 0.703-0.397 0.96l-3.22 3.217c-0.383 0.384-0.496 0.959-0.287 1.457 1.813 4.339 5.343 7.868 9.683 9.684 0.497 0.207 1.073 0.095 1.457-0.288l3.22-3.22c0.529-0.529 1.389-0.528 1.917 0l3.881 3.883c0.528 0.529 0.528 1.389 0 1.919z"></path>\n</svg>\n';var MailIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>mail</title>\n<path d="M28 2.667h-24c-2.205 0-4 1.795-4 4v18.667c0 2.205 1.795 4 4 4h24c2.205 0 4-1.795 4-4v-18.667c0-2.205-1.795-4-4-4zM29.333 25.333c0 0.735-0.599 1.333-1.333 1.333h-24c-0.735 0-1.333-0.599-1.333-1.333v-12.685l10.54 4.865c0.888 0.409 1.84 0.613 2.793 0.613s1.907-0.204 2.793-0.615l10.54-4.864zM29.333 9.711l-11.657 5.38c-1.065 0.492-2.288 0.492-3.353 0l-11.656-5.38v-3.044c0-0.735 0.599-1.333 1.333-1.333h24c0.735 0 1.333 0.599 1.333 1.333z"></path>\n</svg>\n';var ArrowRightIcon$1='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>keyboard_arrow_right</title>\n<path d="M11.438 22.479l6.125-6.125-6.125-6.125 1.875-1.875 8 8-8 8z"></path>\n</svg>\n';var ArrowRightIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>arrow-right</title>\n<path d="M29.217 15.465c-0.019-0.044-0.056-0.077-0.080-0.119-0.067-0.116-0.139-0.227-0.236-0.317-0.011-0.009-0.013-0.024-0.024-0.033l-10.667-9.333c-0.553-0.484-1.396-0.429-1.881 0.125-0.484 0.555-0.428 1.396 0.127 1.881l7.996 6.997h-20.452c-0.737 0-1.333 0.597-1.333 1.333s0.596 1.333 1.333 1.333h20.452l-7.996 6.997c-0.555 0.485-0.611 1.327-0.127 1.881 0.264 0.3 0.633 0.455 1.004 0.455 0.312 0 0.625-0.109 0.877-0.331l10.667-9.333c0.011-0.009 0.015-0.024 0.024-0.033 0.097-0.091 0.169-0.201 0.236-0.317 0.024-0.041 0.060-0.075 0.080-0.119 0.073-0.163 0.116-0.343 0.116-0.533s-0.043-0.371-0.116-0.535z"></path>\n</svg>\n';var CustomFieldType;(function(e){e["TEXT"]="text";e["NUMBER"]="number";e["PHOTO"]="photo"})(CustomFieldType||(CustomFieldType={}));var sallaLoginModalCss="";var SallaLoginModal=function(){function e(e){var t=this;registerInstance(this,e);this.customFieldsValues={};this.typing=function(e,t){if(t===void 0){t=null}var i=e.target.nextElementSibling;e.target.classList.remove("s-has-error");(i===null||i===void 0?void 0:i.classList.contains("s-login-modal-error-message"))&&(i.innerText="");t&&e.key=="Enter"&&t()};this.loginBySMS=function(e){if(e===void 0){e=null}return __awaiter(t,void 0,void 0,(function(){var t,i,n,a;return __generator(this,(function(r){switch(r.label){case 0:e===null||e===void 0?void 0:e.preventDefault();return[4,this.loginTelInput.getValues()];case 1:t=r.sent(),i=t.phone,n=t.countryCode;return[4,this.loginTelInput.isValid()];case 2:a=r.sent();if(!a){return[2]}this.login(this.smsBtn,{type:"mobile",phone:i,country_code:n});return[2,false]}}))}))};this.loginByEmail=function(e){if(e===void 0){e=null}e===null||e===void 0?void 0:e.preventDefault();if(!Helper.isValidEmail(t.loginEmail.value)){t.validateField(t.loginEmail,t.emailErrorMsg);return}t.login(t.emailBtn,{type:"email",email:t.loginEmail.value})};this.newUser=function(){return __awaiter(t,void 0,void 0,(function(){var e,t,i,n,a,r,o;var s=this;return __generator(this,(function(l){switch(l.label){case 0:if(!(this.regType=="email"))return[3,2];return[4,this.regTelInput.getValues()];case 1:r=l.sent();return[3,4];case 2:return[4,this.loginTelInput.getValues()];case 3:r=l.sent();l.label=4;case 4:t=r,i=t.phone,n=t.countryCode,a=this.regEmail.value||((e=this.loginEmail)===null||e===void 0?void 0:e.value);return[4,this.newUserValidation()];case 5:l.sent();return[4,this.regBtn.load()];case 6:l.sent();return[4,this.regBtn.disable()];case 7:l.sent();o={first_name:this.firstName.value,last_name:this.lastName.value,phone:i||this.loginTelInput.phone,country_code:n,verified_by:this.regType,custom_fields:this.customFieldsValues};a&&(o=Object.assign(Object.assign({},o),{email:a}));this.verifyTab.getCode().then((function(e){return salla.auth.api.register(Object.assign(Object.assign({},o),{code:e}))})).then((function(){return salla.auth.canRedirect&&window.location.reload()})).catch((function(e){salla.logger.error(e);s.regBtn.stop()&&s.regBtn.enable()}));return[2]}}))}))};this.isEmailAllowed=undefined;this.isMobileAllowed=true;this.isEmailRequired=false;this.supportWebAuth=true;this.currentTabName="home";this.regType="phone";this.translationLoaded=false;this.title=undefined;this.emailErrorMsg=undefined;this.firstNameErrorMsg=undefined;this.lastNameErrorMsg=undefined;this.dragAndDrop=salla.lang.get("common.uploader.drag_and_drop");this.browseFromFiles=salla.lang.get("common.uploader.browse");this.customFields=[];this.uploadedImage=undefined;this.title=this.host.title||salla.lang.get("blocks.header.login");this.host.removeAttribute("title");this.emailErrorMsg=salla.lang.get("common.elements.email_is_valid");this.firstNameErrorMsg=salla.lang.get("common.errors.field_required",{attribute:salla.lang.get("pages.profile.first_name")});this.lastNameErrorMsg=salla.lang.get("common.errors.field_required",{attribute:salla.lang.get("pages.profile.last_name")});salla.lang.onLoaded((function(){t.translationLoaded=true;t.title=salla.lang.get("blocks.header.login");t.dragAndDrop=salla.lang.get("common.uploader.drag_and_drop");t.browseFromFiles=salla.lang.get("common.uploader.browse");t.updateTranslations()}));salla.event.on("login::open",(function(e){return t.open(e)}));salla.onReady((function(){t.isEmailAllowed=salla.config.get("store.settings.auth.email_allowed",t.isEmailAllowed);t.isMobileAllowed=salla.config.get("store.settings.auth.mobile_allowed",t.isMobileAllowed);t.isEmailRequired=salla.config.get("store.settings.auth.is_email_required",t.isEmailRequired)}))}e.prototype.onVerified=function(e){var t,i,n,a;salla.log("verified",e);var r=((t=e.detail)===null||t===void 0?void 0:t.data.case)||((i=e.detail)===null||i===void 0?void 0:i.error.case);if(!r){salla.log("verified but without case!");return}if(r==="new_customer"){this.customFields=((a=(n=e.detail)===null||n===void 0?void 0:n.data)===null||a===void 0?void 0:a.custom_fields)||[];return this.showTab(this.registrationTab)}if(!salla.auth.canRedirect()){salla.log("Will not auto redirect or reload, due to `salla.auth.canRedirect()`");this.modal.close();return}if(e.detail.data.redirect_url){return window.location.href=e.detail.data.redirect_url}if(this.supportWebAuth){window.location.reload()}else{this.modal.close()}};e.prototype.updateTranslations=function(){var e;this.emailErrorMsg=salla.lang.get("common.elements.email_is_valid");this.firstNameErrorMsg=salla.lang.get("common.errors.field_required",{attribute:salla.lang.get("pages.profile.first_name")});this.lastNameErrorMsg=salla.lang.get("common.errors.field_required",{attribute:salla.lang.get("pages.profile.last_name")});(e=this.modal)===null||e===void 0?void 0:e.setTitle(this.title)};e.prototype.open=function(e){if(e===void 0){e=null}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.isEmailAllowed&&this.isMobileAllowed){this.showTab(this.homeTab)}else if(this.isEmailAllowed){this.showTab(this.emailTab)}else if(this.isMobileAllowed){this.showTab(this.mobileTab)}return[2,this.modal.open()]}))}))};e.prototype.showTab=function(e,t){var i;t===null||t===void 0?void 0:t.preventDefault();this.currentTabName=e.getAttribute("data-name");if([this.mobileTab,this.emailTab].includes(e)){this.regType=e===this.mobileTab?"phone":"email"}var n=e.querySelector('input[type="tel"], input[type="email"]');n&&setTimeout((function(){n.focus()}),100);(i=this.modal)===null||i===void 0?void 0:i.setTitle(this.currentTabName==="registration"?salla.lang.get("common.titles.registration"):this.title);return this};e.prototype.login=function(e,t){var i=this;e.load().then((function(){return e.disable()})).then((function(){return salla.auth.api.login(t)})).then((function(){return i.showTab(i.verifyTab)})).then((function(){return i.verifyTab.open(t)})).finally((function(){return e.stop()&&e.enable()}))};e.prototype.newUserValidation=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n,a,r,o,s,l,c,u;var d=this;return __generator(this,(function(p){switch(p.label){case 0:e=this.regType=="phone",t=this.regType=="email",i=this.regEmail.value||t&&this.loginEmail.value,n=Helper.isValidEmail(i),a=this.firstName.value.length>0,r=this.lastName.value.length>0;return[4,this.regTelInput.isValid()];case 1:l=p.sent();if(l)return[3,4];c=e;if(!c)return[3,3];return[4,this.loginTelInput.isValid()];case 2:c=p.sent();p.label=3;case 3:l=c;p.label=4;case 4:o=l,s=i&&n||!i&&!this.isEmailRequired;u=true;this.customFieldsWrapper.childNodes.forEach((function(e){d.customFieldsValues[e.id]=e["value"];if(!e.required||d.customFieldsValues[e.id].length){return}u=false;var t=salla.lang.get("common.errors.field_required",{attribute:e.title});d.validateField(e,t)}));if(s&&o&&a&&r&&u)return[2];!n&&this.validateField(this.regEmail,this.emailErrorMsg);!a&&this.validateField(this.firstName,this.firstNameErrorMsg);!r&&this.validateField(this.lastName,this.lastNameErrorMsg);throw"Please insert required fields"}}))}))};e.prototype.getFilepondPlaceholder=function(){return'<div class="s-login-modal-filepond-placeholder"><span class="s-login-modal-filepond-placeholder-icon">'.concat(CameraIcon,'</span><p class="s-login-modal-filepond-placeholder-text">').concat(this.dragAndDrop,'</p> <span class="filepond--label-action">').concat(this.browseFromFiles,"</span></div>")};e.prototype.validateField=function(e,t){e.classList.add("s-has-error");e.nextElementSibling["innerText"]="* "+t};e.prototype.generateTabClasses=function(e){return{"s-login-modal-tab":e!=="registration"&&e!=="otp","s-hidden":this.currentTabName!==e,"s-show":this.currentTabName===e,"s-login-modal-unactive":e!=="registration"&&e!=="otp"&&this.currentTabName!==e,"s-login-modal-active":e!=="registration"&&e!=="otp"&&this.currentTabName===e}};e.prototype.generateRegClasses=function(e){return{"mb-1.5":true,"s-hidden":this.regType===e}};e.prototype.render=function(){var e=this;return h("salla-modal",{class:"s-login-modal","modal-title":this.title,ref:function(t){return e.modal=t},width:"xs"},h("span",{slot:"icon",class:"s-login-modal-header-icon",innerHTML:UserIcon}),h("div",{class:"s-login-modal-wrapper"},this.isEmailAllowed&&this.isMobileAllowed?h("div",{class:this.generateTabClasses("home"),"data-name":"home",ref:function(t){return e.homeTab=t}},h("p",{class:"s-login-modal-sub-title"},salla.lang.get("blocks.header.select_login_way")),h("slot",{name:"before-login-type"}),h("a",{href:"#",class:"s-login-modal-main-btn",onClick:function(t){return e.showTab(e.mobileTab,t)}},h("span",{class:"s-login-modal-main-btn-icon",innerHTML:PhoneIcon}),h("span",{class:"s-login-modal-main-btn-text"},salla.lang.get("blocks.header.sms")),h("span",{class:"s-login-modal-main-btn-arrow",innerHTML:ArrowRightIcon$1})),h("a",{href:"#",class:"s-login-modal-main-btn",onClick:function(t){return e.showTab(e.emailTab,t)}},h("span",{class:"s-login-modal-main-btn-icon",innerHTML:MailIcon}),h("span",{class:"s-login-modal-main-btn-text"},salla.lang.get("common.elements.email")),h("span",{class:"s-login-modal-main-btn-arrow",innerHTML:ArrowRightIcon$1})),h("slot",{name:"after-login-type"})):"",this.isMobileAllowed?h("div",{class:this.generateTabClasses("login-phone"),"data-name":"login-phone",ref:function(t){return e.mobileTab=t}},h("slot",{name:"before-login-mobile"}),h("form",{onSubmit:function(t){return e.loginBySMS(t)},method:"POST"},h("label",{class:"s-login-modal-label"},salla.lang.get("common.elements.mobile")),h("salla-tel-input",{tabindex:"0",ref:function(t){return e.loginTelInput=t},onKeyDown:function(t){return e.typing(t)}}),h("salla-button",{class:"s-login-modal-enter-button",type:"submit","loader-position":"center",width:"wide",ref:function(t){return e.smsBtn=t}},salla.lang.get("blocks.header.enter"))),this.isEmailAllowed?h("a",{href:"#",onClick:function(){return e.showTab(e.emailTab)},class:"s-login-modal-link"},salla.lang.get("blocks.header.login_by_email")):"",h("slot",{name:"after-login-mobile"})):"",this.isEmailAllowed?h("div",{class:this.generateTabClasses("login-email"),"data-name":"login-email",ref:function(t){return e.emailTab=t}},h("slot",{name:"before-login-email"}),h("label",{class:"s-login-modal-label"},salla.lang.get("common.elements.email")),h("form",{onSubmit:function(){return e.loginByEmail(event)},method:"POST"},h("input",{type:"email",ref:function(t){return e.loginEmail=t},onKeyDown:function(t){return e.typing(t)},placeholder:"your@email.com",enterkeyhint:"next",class:"s-login-modal-input s-ltr"}),h("span",{class:"s-login-modal-error-message"}),h("salla-button",{"loader-position":"center",width:"wide",onClick:function(){return e.loginByEmail()},ref:function(t){return e.emailBtn=t}},salla.lang.get("blocks.header.enter"))),this.isMobileAllowed?h("a",{href:"#",onClick:function(){return e.showTab(e.mobileTab)},class:"s-login-modal-link"},salla.lang.get("blocks.header.login_by_sms")):"",h("slot",{name:"after-login-email"})):"",h("salla-verify",{display:"inline","support-web-auth":this.supportWebAuth?"true":"false",class:this.generateTabClasses("otp"),"data-name":"otp",ref:function(t){return e.verifyTab=t},autoReload:false},h("a",{onClick:function(){return e.showTab(e.regType=="phone"?e.mobileTab:e.emailTab)},class:"s-verify-back",innerHTML:ArrowRightIcon,slot:"after-footer",href:"#"})),h("div",{"data-name":"registration",class:this.generateTabClasses("registration"),ref:function(t){return e.registrationTab=t}},h("slot",{name:"before-registration"}),h("div",null,h("label",{class:"s-login-modal-label"},salla.lang.get("blocks.header.your_name")),h("input",{type:"text",class:"s-login-modal-input",ref:function(t){return e.firstName=t},onKeyDown:function(t){return e.typing(t,e.newUser)},placeholder:salla.lang.get("pages.profile.first_name")}),h("span",{class:"s-login-modal-error-message"})),h("div",null,h("label",{class:"s-login-modal-label"},salla.lang.get("pages.profile.last_name")),h("input",{type:"text",class:"s-login-modal-input",ref:function(t){return e.lastName=t},onKeyDown:function(t){return e.typing(t,e.newUser)},placeholder:salla.lang.get("pages.profile.last_name")}),h("span",{class:"s-login-modal-error-message"})),h("div",{class:this.generateRegClasses("phone")},h("label",{class:"s-login-modal-label"},salla.lang.get("common.elements.mobile")),h("salla-tel-input",{ref:function(t){return e.regTelInput=t},onKeyDown:function(t){return e.typing(t,e.newUser)}})),h("div",{class:this.generateRegClasses("email")},h("label",{class:"s-login-modal-label"},salla.lang.get("common.elements.email")),h("input",{type:"email",ref:function(t){return e.regEmail=t},onKeyDown:function(t){return e.typing(t,e.newUser)},placeholder:"your@email.com",class:"s-login-modal-input s-ltr"}),h("span",{class:"s-login-modal-error-message"})),h("div",{class:"s-login-modal-custom-fields",ref:function(t){return e.customFieldsWrapper=t}},this.customFields.map((function(t){return[h("label",{class:"s-login-modal-label"},t.label),t.type===CustomFieldType.PHOTO?h("salla-file-upload",{name:"image","instant-upload":true,id:"".concat(t.id),title:t.label,required:t.required,url:salla.url.get("upload-image"),labelIdle:e.getFilepondPlaceholder()}):h("input",{onInput:function(e){return t.type==CustomFieldType.NUMBER?salla.helpers.inputDigitsOnly(e.target):{}},onKeyDown:function(t){return e.typing(t,e.newUser)},class:"s-login-modal-input s-ltr",maxlength:t.length||1e3,placeholder:t.description,required:t.required,title:t.label,id:"".concat(t.id),type:"text"}),h("span",{class:"s-login-modal-error-message"})]}))),h("salla-button",{"loader-position":"center",width:"wide",onClick:function(){return e.newUser()},ref:function(t){return e.regBtn=t}},salla.lang.get("blocks.header.register")),h("slot",{name:"after-registration"}))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaLoginModal.style=sallaLoginModalCss;var Rate='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="30" height="32" viewBox="0 0 30 32">\n<title>star2</title>\n<path d="M29.714 11.839c0 0.321-0.232 0.625-0.464 0.857l-6.482 6.321 1.536 8.929c0.018 0.125 0.018 0.232 0.018 0.357 0 0.464-0.214 0.893-0.732 0.893-0.25 0-0.5-0.089-0.714-0.214l-8.018-4.214-8.018 4.214c-0.232 0.125-0.464 0.214-0.714 0.214-0.518 0-0.75-0.429-0.75-0.893 0-0.125 0.018-0.232 0.036-0.357l1.536-8.929-6.5-6.321c-0.214-0.232-0.446-0.536-0.446-0.857 0-0.536 0.554-0.75 1-0.821l8.964-1.304 4.018-8.125c0.161-0.339 0.464-0.732 0.875-0.732s0.714 0.393 0.875 0.732l4.018 8.125 8.964 1.304c0.429 0.071 1 0.286 1 0.821z"></path>\n</svg>\n';var Star3='<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80">\n<title>star3</title>\n  <defs>\n    <style>\n      .a {\n        fill: none !important;\n      }\n\n      .b {\n        fill: #ff9e01;\n      }\n\n      .c {\n        fill: #fff;\n        opacity: 0.1;\n      }\n\n    </style>\n  </defs>\n  <g transform="translate(-683 -269)">\n    <rect class="a" width="80" height="80" transform="translate(683 269)" />\n    <g transform="translate(684.539 261.216)">\n      <path class="b"\n        d="M110.117,37.062,90.024,35.2,82.043,16.665a1.61,1.61,0,0,0-2.958,0L71.1,35.2,51.011,37.062a1.61,1.61,0,0,0-.914,2.813l15.16,13.318L60.821,72.878a1.61,1.61,0,0,0,2.393,1.739l17.351-10.3,17.351,10.3a1.61,1.61,0,0,0,2.393-1.739L95.871,53.192l15.16-13.318A1.61,1.61,0,0,0,110.117,37.062Z"\n        transform="translate(-42.104 -4.011)" />\n      <g transform="translate(0 10.971)">\n        <path class="b"\n          d="M93.54,12.016c1.024,1.423,3.915,7.533,5.568,11.094a.559.559,0,0,1-.891.641c-2.853-2.7-7.73-7.377-8.754-8.8a2.512,2.512,0,0,1,4.077-2.935Z"\n          transform="translate(-75.621 -10.971)" />\n        <path class="b"\n          d="M360.909,12.016c-1.024,1.423-3.915,7.533-5.568,11.094a.559.559,0,0,0,.891.641c2.853-2.7,7.73-7.377,8.754-8.8a2.512,2.512,0,0,0-4.077-2.935Z"\n          transform="translate(-301.908 -10.971)" />\n        <path class="b"\n          d="M427.538,284.659c-1.667-.543-8.366-1.441-12.261-1.934a.559.559,0,0,0-.34,1.044c3.436,1.9,9.377,5.123,11.044,5.666a2.512,2.512,0,0,0,1.558-4.776Z"\n          transform="translate(-352.351 -241.894)" />\n        <path class="b"\n          d="M1.734,284.659c1.667-.543,8.366-1.441,12.261-1.934a.559.559,0,0,1,.34,1.044c-3.436,1.9-9.377,5.123-11.044,5.666a2.512,2.512,0,0,1-1.558-4.776Z"\n          transform="translate(0 -241.894)" />\n        <path class="b"\n          d="M239.794,412.414c0-1.753,1.224-8.4,1.963-12.257a.559.559,0,0,1,1.1,0c.739,3.855,1.963,10.5,1.963,12.257a2.512,2.512,0,0,1-5.023,0Z"\n          transform="translate(-203.768 -341.301)" />\n      </g>\n      <path class="c"\n        d="M84.945,23.4l-2.9-6.74a1.61,1.61,0,0,0-2.958,0L71.1,35.2,51.011,37.062a1.61,1.61,0,0,0-.914,2.813l15.16,13.318L60.821,72.878a1.61,1.61,0,0,0,2.393,1.739l2.309-1.371A125,125,0,0,1,84.945,23.4Z"\n        transform="translate(-42.104 -4.011)" />\n    </g>\n  </g>\n</svg>\n';var GiftImg='<svg xmlns="http://www.w3.org/2000/svg" width="54.079" height="53.191" viewBox="0 0 54.079 53.191"><defs><style>.a{fill:#ee9d0d;}.b{fill:#c7830b;}.c{fill:#ea2b2d;}.d{fill:#cb2527;}.e{fill:#6699ce;}.f{fill:#faa6b2;}.g{fill:#a6deff;}.h{fill:#eeb436;}.i{fill:#f72d2f;}</style></defs><path class="a" d="M40,248H77.3v25.88a2.1,2.1,0,0,1-2.1,2.1H42.1a2.1,2.1,0,0,1-2.1-2.1Z" transform="translate(-38.135 -222.787)"/><path class="b" d="M250.632,248.711v12.755L236.2,248h13.67Z" transform="translate(-211.463 -222.787)"/><path class="b" d="M333.957,336v3.207L330.52,336Z" transform="translate(-294.787 -300.528)"/><path class="c" d="M226.194,32.048l-.5.185a5.035,5.035,0,0,0-3.072,3.292l-.468,1.585-.759.414a5.035,5.035,0,0,0-2.422,3l8.865,8.271,5.09-5.456.262-6.205a5.191,5.191,0,0,0-7-5.083Z" transform="translate(-196.246 -31.722)"/><path class="c" d="M358.628,175.48l-.15.509a5.034,5.034,0,0,1-3.072,3.292l-1.55.577-.359.785a5.034,5.034,0,0,1-2.822,2.624L341.81,175l5.09-5.455,6.172-.69a5.191,5.191,0,0,1,5.555,6.629Z" transform="translate(-304.761 -152.837)"/><path class="d" d="M168,248h7.461v27.978H168Z" transform="translate(-151.213 -222.787)"/><path class="c" d="M40,336H77.3v7.461H40Z" transform="translate(-38.135 -300.528)"/><path class="d" d="M333.957,336v3.207L330.52,336Z" transform="translate(-294.787 -300.528)"/><path class="a" d="M2.1,0H40.8a2.1,2.1,0,0,1,2.1,2.1V9.326H0V2.1A2.1,2.1,0,0,1,2.1,0Z" transform="matrix(0.731, 0.682, -0.682, 0.731, 18.641, 4.976)"/><path class="d" d="M0,0H9.326V9.326H0Z" transform="matrix(0.731, 0.682, -0.682, 0.731, 30.912, 16.424)"/><path class="d" d="M286.857,79.389a.931.931,0,0,1-.74-.365l-.615-.8a12.516,12.516,0,0,1-2.528-9,.933.933,0,0,1,1.855.2,10.66,10.66,0,0,0,2.153,7.667l.615.8a.933.933,0,0,1-.739,1.5Z" transform="translate(-252.718 -64.113)"/><path class="c" d="M185.485,178.151l-.039.014a30.78,30.78,0,0,1-12.034,1.906l-2.381-.1,4.092,3.817-1.181,4,3.728-1.206a30.775,30.775,0,0,0,9.833-5.315l.71-.572Z" transform="translate(-153.891 -161.081)"/><path class="d" d="M363.834,194.779a12.51,12.51,0,0,1-6.93-2.1l-.843-.559a.933.933,0,1,1,1.031-1.554l.842.558a10.659,10.659,0,0,0,7.8,1.618.933.933,0,1,1,.328,1.836A12.663,12.663,0,0,1,363.834,194.779Z" transform="translate(-316.982 -171.914)"/><path class="c" d="M275,202.524l-.012.04a30.776,30.776,0,0,0-1.069,12.137l.265,2.369-4.092-3.817-3.909,1.455.945-3.8a30.776,30.776,0,0,1,4.622-10.177l.521-.748Z" transform="translate(-237.949 -180.364)"/><circle class="e" cx="1.865" cy="1.865" r="1.865" transform="translate(10.259 0.032)"/><circle class="f" cx="1.865" cy="1.865" r="1.865" transform="translate(0 21.482)"/><path class="g" d="M36.663,36.663a.933.933,0,0,1-.885-.638l-.048-.143a2.946,2.946,0,0,0-2.8-2.017.933.933,0,1,1,0-1.865A4.808,4.808,0,0,1,37.5,35.292l.048.143a.933.933,0,0,1-.885,1.228Z" transform="translate(-31.067 -31.968)"/><path class="g" d="M79.493,194.438a.929.929,0,0,1-.506-.15l-.185-.12a2.074,2.074,0,0,0-2.192-.047.933.933,0,0,1-.947-1.607,3.929,3.929,0,0,1,4.153.088l.185.12a.933.933,0,0,1-.508,1.716Z" transform="translate(-69.235 -173.283)"/><path class="h" d="M27.751,85.141l2.88,2.644,3.811-.874-1.624,3.556,2.008,3.354-3.884-.446-2.569,2.946L27.6,92.49,24,90.957l3.4-1.922Z" transform="translate(-24 -78.914)"/><path class="h" d="M82.174,227.375l-.959,3.772,2.564,2.928-3.884.254L77.9,237.673l-1.442-3.615-3.8-.862,2.993-2.488-.353-3.876,3.291,2.078Z" transform="translate(-66.992 -204.086)"/><path class="i" d="M300.471,141.9l-5.455-5.09,5.09-5.456a8.342,8.342,0,0,1,5.455,5.09Z" transform="translate(-263.422 -119.737)"/></svg>';var sallaLoyaltyCss="";var SallaLoyalty=function(){function e(e){var t=this;registerInstance(this,e);this.loyaltyProgram=undefined;this.buttonLoading=undefined;this.selectedItem=undefined;this.askConfirmation=undefined;this.is_loggedin=undefined;this.hasError=undefined;this.errorMessage=undefined;this.translationLoaded=undefined;this.prizePoints=undefined;this.customerPoints=undefined;this.prizeTitle=undefined;this.allowEmail=true;this.allowMobile=true;this.requireEmail=false;this.guestMessage=undefined;salla.event.on("loyalty::open",(function(){return t.open()}));salla.auth.event.onLoggedIn((function(){t.is_loggedin=true}));salla.onReady((function(){t.is_loggedin=salla.config.isUser()}));salla.lang.onLoaded((function(){t.guestMessage=salla.lang.get("pages.loyalty_program.guest_message");t.translationLoaded=true}));salla.cart.event.onUpdated((function(e){var i,n;t.prizePoints=(i=e.loyalty.prize)===null||i===void 0?void 0:i.points;t.prizeTitle=(n=e.loyalty.prize)===null||n===void 0?void 0:n.title;t.customerPoints=e.loyalty.customer_points||t.customerPoints}))}e.prototype.setSelectedPrizeItem=function(e){var t;if(!this.selectedItem||((t=this.selectedItem)===null||t===void 0?void 0:t.id)!=e.id){this.selectedItem=e}else{this.selectedItem=undefined}};e.prototype.handleLongText=function(e){if(e.length>150){return e.substring(0,150)+"..."}return e};e.prototype.prizeItem=function(e){var t=this;var i;var n={"s-loyalty-prize-item-selected":!!this.selectedItem&&((i=this.selectedItem)===null||i===void 0?void 0:i.id)==e.id,"s-loyalty-prize-item":true};return h("div",{onClick:function(){return t.setSelectedPrizeItem(e)},class:n},h("img",{class:"s-loyalty-prize-item-image",src:e.image,alt:e.name}),h("div",{class:"s-loyalty-prize-item-title"},e.name),h("div",{class:"s-loyalty-prize-item-subtitle"},this.handleLongText(e.description)),h("div",{class:"s-loyalty-prize-item-points"},e.cost_points," ",salla.lang.get("pages.loyalty_program.point"),h("div",{class:"s-loyalty-prize-item-check"},h("div",null))))};e.prototype.getConfirmationModal=function(){var e=this;var t,i;return[h("salla-placeholder",{alignment:"center",icon:Star3,class:"s-loyalty-confirmation-modal-content"},h("div",{slot:"title",class:"s-loyalty-confirmation-title"},salla.lang.get("pages.loyalty_program.exchange_points")),h("div",{slot:"description"},salla.lang.get("pages.loyalty_program.are_you_sure_to_exchange")," ( ",h("strong",null,(t=this.selectedItem)===null||t===void 0?void 0:t.cost_points)," ",salla.lang.get("pages.loyalty_program.point")," ) ",salla.lang.get("pages.loyalty_program.for")," ( ",h("strong",null,(i=this.selectedItem)===null||i===void 0?void 0:i.name)," )")),h("div",{class:"s-loyalty-confirmation-actions"},h("salla-button",{fill:"outline",width:"wide",onClick:function(){return e.cancelProcess()}},salla.lang.get("pages.loyalty_program.cancellation")),h("salla-button",{loading:this.buttonLoading,width:"wide",onClick:function(){return e.exchangeLoyaltyPoint()}},salla.lang.get("pages.loyalty_program.confirm")))]};e.prototype.getAfterExchangeUI=function(){var e=this;return h("slot",{name:"points-applied-widget"},h("salla-list-tile",{class:"s-loyalty-after-exchange"},h("div",{slot:"title",class:"s-loyalty-after-exchange-title"},this.prizeTitle,"   -   ",this.prizePoints," ",salla.lang.get("pages.loyalty_program.point")),h("div",{slot:"action",class:"s-loyalty-after-exchange-action"},h("salla-button",{class:"s-loyalty-after-exchange-reset",shape:"icon",fill:"outline",color:"danger",size:"small",onClick:function(){return e.resetExchange()}},h("span",{innerHTML:Cancel$1})))))};e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){switch(i.label){case 0:if(!this.is_loggedin)return[2,salla.event.dispatch("login::open")];(e=this.modal)===null||e===void 0?void 0:e.open();return[4,salla.loyalty.getProgram().then((function(e){t.loyaltyProgram=e.data})).catch((function(e){var i,n,a,r;t.hasError=true;t.errorMessage=((a=(n=(i=e.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=e.response)===null||r===void 0?void 0:r.data)})).finally((function(){var e;return(e=t.modal)===null||e===void 0?void 0:e.stopLoading()}))];case 1:return[2,i.sent()]}}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.modal.close()]}))}))};e.prototype.resetExchange=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,salla.loyalty.reset()];case 1:return[2,e.sent()]}}))}))};e.prototype.openConfirmation=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.modal.close().then((function(){var t;return(t=e.confirmationModal)===null||t===void 0?void 0:t.open()})).catch((function(e){return console.log(e)}))];case 1:return[2,t.sent()]}}))}))};e.prototype.cancelProcess=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.confirmationModal.close().then((function(){return e.selectedItem=null})).catch((function(e){return console.log(e)}))];case 1:return[2,t.sent()]}}))}))};e.prototype.exchangeLoyaltyPoint=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){switch(i.label){case 0:this.buttonLoading=true;return[4,salla.loyalty.exchange((e=this.selectedItem)===null||e===void 0?void 0:e.id).then((function(){return t.selectedItem.key=="FREE_PRODUCT"&&salla.url.is_page("cart")&&window.location.reload()})).finally((function(){t.buttonLoading=false;t.cancelProcess()}))];case 1:return[2,i.sent()]}}))}))};e.prototype.render=function(){var e=this;if(this.prizePoints){return this.getAfterExchangeUI()}return[h("slot",{name:"widget"},this.customerPoints?h("salla-list-tile",{class:"s-loyalty-widget"},h("div",{slot:"icon",class:"s-loyalty-widget-icon",innerHTML:Rate}),h("div",{slot:"subtitle"},this.customerPoints?salla.lang.get("pages.loyalty_program.cart_total_point_summary",{balance:this.customerPoints}):this.guestMessage,h("salla-button",{shape:"link",color:"primary",onClick:function(){return salla.event.dispatch("loyalty::open")}},this.customerPoints?salla.lang.get("pages.loyalty_program.cart_point_exchange_now"):salla.lang.get("blocks.header.login")))):""),h("salla-modal",{noPadding:true,width:"sm",ref:function(t){return e.confirmationModal=t}},this.getConfirmationModal()),h("salla-modal",{isLoading:true,"has-skeleton":true,width:"md",ref:function(t){return e.modal=t}},h("div",{slot:"loading"},h("div",{class:"s-loyalty-skeleton"},h("salla-list-tile",{class:"s-loyalty-header"},h("div",{slot:"icon",class:"s-loyalty-header-icon"},h("salla-skeleton",{type:"circle",height:"6rem",width:"6rem"})),h("div",{slot:"title",class:"s-loyalty-header-title mb-5"},h("salla-skeleton",{height:"15px",width:"50%"})),h("div",{slot:"subtitle",class:"s-loyalty-header-subtitle"},h("salla-skeleton",{height:"10px"}),h("salla-skeleton",{height:"10px",width:"75%"}))),h("div",{class:"s-loyalty-skeleton-cards"},__spreadArray([],Array(3),true).map((function(){return h("div",{class:"s-loyalty-prize-item swiper-slide"},h("salla-skeleton",{height:"9rem"}),h("div",{class:"s-loyalty-prize-item-title"},h("salla-skeleton",{height:"15px",width:"75%"})),h("div",{class:"s-loyalty-prize-item-subtitle"},h("salla-skeleton",{height:"10px",width:"50%"}),h("salla-skeleton",{height:"10px",width:"25%"})),h("div",{class:"s-loyalty-prize-item-points"},h("salla-skeleton",{height:"15px",width:"100px"}),h("div",{class:"s-loyalty-prize-item-check"},h("salla-skeleton",{height:"1rem",width:"1rem",type:"circle"}))))}))))),!this.hasError&&!!this.loyaltyProgram?[h("salla-list-tile",{id:"s-loyalty-header",class:"s-loyalty-header"},h("div",{slot:"icon",class:"s-loyalty-header-icon",innerHTML:GiftImg}),h("div",{slot:"title",class:"s-loyalty-header-title"},this.loyaltyProgram.prize_promotion_title),h("div",{slot:"subtitle",class:"s-loyalty-header-subtitle"},this.loyaltyProgram.prize_promotion_description)),h("salla-tabs",null,this.loyaltyProgram.prizes.map((function(e){return h("salla-tab-header",{slot:"header",name:e.title},h("span",null,e.title))})),this.loyaltyProgram.prizes.map((function(t,i){return h("salla-tab-content",{slot:"content",name:t.title},h("salla-slider",{class:"s-loyalty-slider",loop:false,"controls-outer":true,id:"loyalty-popup-slider-"+i,type:"carousel"},h("div",{slot:"items"},t.items.map((function(t){return e.prizeItem(t)})))))}))),h("salla-button",{disabled:!this.selectedItem,width:"wide",class:"s-loyalty-program-redeem-btn",onClick:function(){return e.openConfirmation()}},salla.lang.get("pages.loyalty_program.exchange_points"))]:h("salla-placeholder",{class:"s-loyalty-placeholder",alignment:"center"},!!this.errorMessage?h("span",{slot:"description"},this.errorMessage):""))]};return e}();SallaLoyalty.style=sallaLoyaltyCss;var sallaMaintenanceAlertCss=".s-maintenance-alert-wrapper{display:-ms-flexbox;display:flex;min-height:40px;width:100%;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;--tw-bg-opacity:1;background-color:rgba(26, 38, 61, var(--tw-bg-opacity));padding:0.25rem 0.5rem;--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.s-maintenance-alert-wrapper a{-webkit-transition:0.35s cubic-bezier(0.2, 1, 0.3, 1);transition:0.35s cubic-bezier(0.2, 1, 0.3, 1)}.s-maintenance-alert-wrapper *{color:inherit}@media (min-width: 640px){.s-maintenance-alert-wrapper{padding-left:2rem;padding-right:2rem}}.s-maintenance-alert-content{margin-top:1rem;margin-bottom:1rem;display:-ms-flexbox;display:flex;width:100%;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}@media (min-width: 640px){.s-maintenance-alert-content{padding-left:2rem;padding-right:2rem}}.s-maintenance-alert-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.s-maintenance-alert-icon{margin-right:1.25rem;display:none}@media (min-width: 640px){.s-maintenance-alert-icon{display:block}}.s-maintenance-alert-text h2{margin-bottom:0.5rem;font-size:0.875rem;font-weight:700;line-height:1.4}@media (min-width: 640px){.s-maintenance-alert-text h2{font-size:1.5rem;line-height:2rem}}.s-maintenance-alert-text p{margin:0px;text-align:right;font-size:10px;line-height:1.2}@media (min-width: 640px){.s-maintenance-alert-text p{text-align:center;font-size:0.75rem;line-height:1}}.s-maintenance-alert-btn{position:relative;margin-left:4px;margin-right:4px;display:inline-block;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;border-radius:0.125rem;border-width:1px;--tw-border-opacity:1;border-color:rgba(93, 213, 196, var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgba(93, 213, 196, var(--tw-bg-opacity));padding:0.5rem;text-align:center;vertical-align:middle;font-size:0.875rem;font-weight:400;line-height:1.4;--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.s-maintenance-alert-btn:hover{--tw-bg-opacity:1;background-color:rgba(53, 203, 181, var(--tw-bg-opacity))}.s-maintenance-alert-btn *{pointer-events:none}[dir=rtl] .s-maintenance-alert-btn{margin-left:1.25rem;margin-right:0}@media (min-width: 640px){.s-maintenance-alert-btn{padding:0.5rem 1rem}}";var SallaMaintenanceAlert=function(){function e(e){registerInstance(this,e);this.title=undefined;this.message=undefined;this.buttonTitle=undefined}e.prototype.componentWillLoad=function(){this.title=salla.config.get("maintenance_details.title");this.message=salla.config.get("maintenance_details.message");this.buttonTitle=window.innerWidth<=768?salla.config.get("maintenance_details.button_title"):salla.config.get("maintenance_details.button_full_title")};e.prototype.closeAlert=function(){salla.storage.set("hide_salla-maintenance-alert_at",Date.now());this.host.style.display="none"};e.prototype.render=function(){var e=this;return h(Host,{class:"s-maintenance-alert-wrapper"},h("button",{class:"s-maintenance-alert-close",innerHTML:Cancel$1,onClick:function(){return e.closeAlert()}}),h("div",{class:"s-maintenance-alert-content"},h("div",{class:"s-maintenance-alert-container"},h("div",{class:"s-maintenance-alert-icon"},h("img",{src:salla.url.cdn("images/alert.png"),alt:"Alert"})),h("div",{class:"s-maintenance-alert-text"},h("h2",null,this.title),h("p",null,this.message))),h("div",null,h("a",{class:"s-maintenance-alert-btn",href:salla.config.get("maintenance_details.button_url")},this.buttonTitle))))};e.prototype.componentDidLoad=function(){var e=salla.storage.get("hide_salla-maintenance-alert_at");if(e&&(Date.now()-e)/1e3/60<60){this.closeAlert()}};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaMaintenanceAlert.style=sallaMaintenanceAlertCss;var Location='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>location</title>\n<path d="M16.001 0c-7.879 0-12.001 6.204-12.001 12.333 0 5.813 9.853 17.833 10.976 19.185 0.253 0.305 0.629 0.481 1.025 0.481s0.772-0.176 1.027-0.481c1.121-1.352 10.972-13.372 10.972-19.185 0-6.129-4.121-12.333-11.999-12.333zM16.001 28.549c-3.32-4.184-9.335-12.527-9.335-16.216 0-4.656 2.92-9.667 9.335-9.667 6.412 0 9.332 5.011 9.332 9.667 0 3.689-6.013 12.032-9.332 16.216zM16 6.667c-2.941 0-5.333 2.392-5.333 5.333s2.392 5.333 5.333 5.333 5.333-2.392 5.333-5.333-2.392-5.333-5.333-5.333zM16 14.667c-1.471 0-2.667-1.196-2.667-2.667s1.196-2.667 2.667-2.667 2.667 1.196 2.667 2.667-1.196 2.667-2.667 2.667z"></path>\n</svg>\n';var Edit='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>edit</title>\n<path d="M30.583 1.417c-1.828-1.829-5.019-1.829-6.847 0l-13.396 13.396c-0.161 0.161-0.279 0.361-0.341 0.581l-1.949 6.911c-0.131 0.464 0 0.964 0.341 1.305 0.253 0.252 0.593 0.389 0.943 0.389 0.121 0 0.243-0.016 0.361-0.051l6.911-1.949c0.22-0.061 0.419-0.179 0.581-0.34l10.455-10.453s0 0 0 0l2.941-2.941c1.887-1.888 1.887-4.96 0-6.848zM15.547 19.528l-4.284 1.208 1.208-4.284 9.265-9.265 3.076 3.076zM28.696 6.38l-1.999 1.999-3.076-3.076 1.999-1.999c0.849-0.848 2.227-0.848 3.076 0 0.848 0.848 0.848 2.227 0 3.076zM24 20c-0.737 0-1.333 0.597-1.333 1.333v4c0 2.205-1.795 4-4 4h-12c-2.205 0-4-1.795-4-4v-12c0-2.205 1.795-4 4-4h4c0.737 0 1.333-0.597 1.333-1.333s-0.596-1.333-1.333-1.333h-4c-3.676 0-6.667 2.991-6.667 6.667v12c0 3.676 2.991 6.667 6.667 6.667h12c3.676 0 6.667-2.991 6.667-6.667v-4c0-0.736-0.596-1.333-1.333-1.333z"></path>\n</svg>\n';var CurrentLocation='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>location-target</title>\n<path d="M16 9.333c-3.676 0-6.667 2.991-6.667 6.667s2.991 6.667 6.667 6.667 6.667-2.991 6.667-6.667-2.991-6.667-6.667-6.667zM16 20c-2.205 0-4-1.795-4-4s1.795-4 4-4 4 1.795 4 4-1.795 4-4 4zM30.667 14.667h-1.401c-0.627-6.289-5.643-11.305-11.932-11.932v-1.401c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333v1.401c-6.289 0.627-11.305 5.643-11.932 11.932h-1.401c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333h1.401c0.628 6.289 5.643 11.305 11.932 11.932v1.401c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-1.401c6.289-0.628 11.305-5.643 11.932-11.932h1.401c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333zM16 26.667c-5.881 0-10.667-4.785-10.667-10.667s4.785-10.667 10.667-10.667 10.667 4.785 10.667 10.667-4.785 10.667-10.667 10.667z"></path>\n</svg>\n';var LocationMarker='<svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect width="36" height="36" rx="18" fill="#5CD5C4"/>\n<path d="M18 10C17.0104 10 16.1458 10.1771 15.4062 10.5312C14.6562 10.8854 14.026 11.3542 13.5156 11.9375C13.0156 12.5104 12.6406 13.1667 12.3906 13.9062C12.1302 14.6458 12 15.401 12 16.1719C12 16.8906 12.2604 17.7656 12.7812 18.7969C13.3021 19.8281 13.8854 20.8333 14.5312 21.8125C15.1875 22.7812 15.8073 23.6406 16.3906 24.3906C16.9844 25.1302 17.349 25.5885 17.4844 25.7656C17.5469 25.8385 17.625 25.8958 17.7188 25.9375C17.8125 25.9792 17.9062 26 18 26C18.1042 26 18.1979 25.9792 18.2812 25.9375C18.375 25.8958 18.4531 25.8385 18.5156 25.7656C18.651 25.5885 19.0156 25.1302 19.6094 24.3906C20.1927 23.6406 20.8073 22.7812 21.4531 21.8125C22.1094 20.8333 22.6979 19.8281 23.2188 18.7969C23.7396 17.7656 24 16.8906 24 16.1719C24 15.401 23.8698 14.6458 23.6094 13.9062C23.3594 13.1667 22.9792 12.5104 22.4688 11.9375C21.9688 11.3542 21.3438 10.8854 20.5938 10.5312C19.8542 10.1771 18.9896 10 18 10ZM18 24.2812C17.5833 23.75 17.1094 23.1198 16.5781 22.3906C16.0365 21.651 15.526 20.901 15.0469 20.1406C14.5677 19.3698 14.1615 18.6302 13.8281 17.9219C13.4948 17.2135 13.3281 16.6302 13.3281 16.1719C13.3281 15.5885 13.4219 15.0052 13.6094 14.4219C13.7969 13.849 14.0781 13.3333 14.4531 12.875C14.8385 12.4167 15.3281 12.0469 15.9219 11.7656C16.5052 11.474 17.1979 11.3281 18 11.3281C18.8021 11.3281 19.4948 11.474 20.0781 11.7656C20.6719 12.0469 21.1562 12.4167 21.5312 12.875C21.9167 13.3333 22.2031 13.849 22.3906 14.4219C22.5781 15.0052 22.6719 15.5885 22.6719 16.1719C22.6719 16.6302 22.5052 17.2135 22.1719 17.9219C21.8385 18.6302 21.4323 19.3698 20.9531 20.1406C20.474 20.901 19.9688 21.651 19.4375 22.3906C18.8958 23.1198 18.4167 23.75 18 24.2812ZM18 13.3281C17.2604 13.3281 16.6302 13.5885 16.1094 14.1094C15.5885 14.6302 15.3281 15.2604 15.3281 16C15.3281 16.7396 15.5885 17.3698 16.1094 17.8906C16.6302 18.4115 17.2604 18.6719 18 18.6719C18.7396 18.6719 19.3698 18.4115 19.8906 17.8906C20.4115 17.3698 20.6719 16.7396 20.6719 16C20.6719 15.2604 20.4115 14.6302 19.8906 14.1094C19.3698 13.5885 18.7396 13.3281 18 13.3281ZM18 17.3281C17.6354 17.3281 17.3229 17.1979 17.0625 16.9375C16.8021 16.6771 16.6719 16.3646 16.6719 16C16.6719 15.6354 16.8021 15.3229 17.0625 15.0625C17.3229 14.8021 17.6354 14.6719 18 14.6719C18.3646 14.6719 18.6771 14.8021 18.9375 15.0625C19.1979 15.3229 19.3281 15.6354 19.3281 16C19.3281 16.3646 19.1979 16.6771 18.9375 16.9375C18.6771 17.1979 18.3646 17.3281 18 17.3281Z" fill="white"/>\n</svg>\n';var light=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}];var dark=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];var styles={light:light,dark:dark};var Loader=function(){function e(e,t){if(e===void 0){e=null}if(t===void 0){t={}}this.apiKey=e;this.options=t;if(typeof window==="undefined"){throw new Error("google-maps is supported only in browser environment")}}e.prototype.load=function(){var t=this;if(typeof this.api!=="undefined"){return Promise.resolve(this.api)}if(typeof this.loader!=="undefined"){return this.loader}window[e.CALLBACK_NAME]=function(){t.api=window["google"];if(typeof t.resolve==="undefined"){throw new Error("Should not happen")}t.resolve(t.api)};window["gm_authFailure"]=function(){if(typeof t.reject==="undefined"){throw new Error("Should not happen")}t.reject(new Error("google-maps: authentication error"))};return this.loader=new Promise((function(e,i){t.resolve=e;t.reject=i;var n=document.createElement("script");n.src=t.createUrl();n.async=true;n.onerror=function(e){return i(e)};document.head.appendChild(n)}))};e.prototype.createUrl=function(){var t=["callback=".concat(e.CALLBACK_NAME)];if(this.apiKey){t.push("key=".concat(this.apiKey))}for(var i in this.options){if(this.options.hasOwnProperty(i)){var n=this.options[i];if(i==="version"){i="v"}if(i==="libraries"){n=n.join(",")}t.push("".concat(i,"=").concat(n))}}return"https://maps.googleapis.com/maps/api/js?".concat(t.join("&"))};return e}();Loader.CALLBACK_NAME="_dk_google_maps_loader_cb";var sallaMapCss="";var SallaMap=function(){function e(e){var t=this;registerInstance(this,e);this.selected=createEvent(this,"selected",7);this.mapClicked=createEvent(this,"mapClicked",7);this.currentLocationChanged=createEvent(this,"currentLocationChanged",7);this.invalidInput=createEvent(this,"invalidInput",7);this.defaultLat=21.419421;this.defaultLng=39.82553;this.modalActivityTitle=salla.lang.get("pages.checkout.select_your_address_from_map");this.confirmButtonTitle=salla.lang.get("pages.checkout.confirm_address");this.locateButtonTitle=salla.lang.get("pages.cart.detect_location");this.locateButtonEdit=salla.lang.get("common.elements.edit");this.searchPlaceholder=salla.lang.get("pages.checkout.search_for_address");this.searchInputValue=null;this.formattedAddress="";this.geolocationError=false;this.searchInput=undefined;this.mapInput=undefined;this.mapElement=undefined;this.selectedLat=undefined;this.selectedLng=undefined;this.name="location";this.required=false;this.readonly=false;this.searchable=false;this.lat=undefined;this.lng=undefined;this.apiKey=undefined;this.modalTitle=undefined;this.zoom=10;this.theme="light";salla.lang.onLoaded((function(){t.modalActivityTitle=salla.lang.get("pages.checkout.select_your_address_from_map");t.confirmButtonTitle=salla.lang.get("pages.checkout.confirm_address");t.locateButtonTitle=salla.lang.get("pages.cart.detect_location");t.locateButtonEdit=salla.lang.get("common.elements.edit");t.searchPlaceholder=salla.lang.get("pages.checkout.search_for_address")}));this.apiKey="AIzaSyBPhPJ4KG13ywvmeAovLRnbi7WzlsdcWKs"}e.prototype.formatAddress=function(e){return e.length>25?e.substring(0,25)+"...":e};e.prototype.getLatLng=function(){return this.selectedLat&&this.selectedLng?"".concat(this.selectedLat,", ").concat(this.selectedLng):null};e.prototype.getPositionAddress=function(e,t){var i=this;if(t===void 0){t=false}var n=new google.maps.Geocoder;n.geocode({location:e},(function(e,n){if(n===google.maps.GeocoderStatus.OK){if(i.searchable){i.searchInputValue=e[0].formatted_address;i.searchInput.value=e[0].formatted_address}if(t){i.formattedAddress=e[0].formatted_address}}}))};e.prototype.initGoogleMaps=function(e,t){var i=this;var n=new Loader(this.apiKey,e);n.load().then((function(e){i.map=new e.maps.Map(t,{center:i.lat||i.lng?{lat:i.lat,lng:i.lng}:{lat:i.defaultLat,lng:i.defaultLng},zoom:i.zoom,zoomControl:true,mapTypeControl:false,scaleControl:false,streetViewControl:false,rotateControl:false,fullscreenControl:false,disableDefaultUI:false});i.map.setOptions({styles:i.theme==="light"?styles.light:styles.dark});i.marker=new e.maps.Marker({position:i.map.getCenter(),map:i.map,icon:{url:"data:image/svg+xml;utf8,"+encodeURIComponent(LocationMarker),scaledSize:new e.maps.Size(30,30)}});if(i.searchable){var n=new e.maps.places.SearchBox(i.searchInput);e.maps.event.addListener(n,"places_changed",(function(){var e=n.getPlaces();if(e.length>0&&i.map){i.map.setCenter(e[0].geometry.location);i.lat=e[0].geometry.location.lat();i.lng=e[0].geometry.location.lng();i.marker.setPosition(e[0].geometry.location);i.searchInputValue=e[0].formatted_address;i.formattedAddress=e[0].formatted_address}}))}e.maps.event.addListener(i.map,"click",(function(e){if(i.readonly)return;i.marker.setPosition(e.latLng);i.lat=e.latLng.lat();i.lng=e.latLng.lng();i.getPositionAddress(e.latLng);i.mapClicked.emit({lat:e.latLng.lat(),lng:e.latLng.lng(),address:i.formattedAddress?i.formattedAddress:null})}));if(!i.lat&&!i.lng){i.getCurrentLocation();if(i.geolocationError){i.map.setCenter({lat:i.lat,lng:i.lng});i.marker.setPosition({lat:i.lat,lng:i.lng})}}}))};e.prototype.getCurrentLocation=function(){var e=this;if(navigator.geolocation&&this.map){navigator.geolocation.getCurrentPosition((function(t){var i={center:new google.maps.LatLng(t.coords.latitude,t.coords.longitude),zoom:15};e.map.setOptions(i);e.marker.setPosition(i.center);e.getPositionAddress(i.center);e.lat=t.coords.latitude;e.lng=t.coords.longitude;e.currentLocationChanged.emit({lat:t.coords.latitude,lng:t.coords.longitude,address:e.formattedAddress?e.formattedAddress:null})}),this.handleLocationError.bind(this))}else{salla.log("Geolocation is not supported by this browser.");this.geolocationError=true}};e.prototype.handleLocationError=function(e){this.geolocationError=true;switch(e.code){case e.PERMISSION_DENIED:salla.log("User denied the request for Geolocation.");break;case e.POSITION_UNAVAILABLE:salla.log("Location information is unavailable.");break;case e.TIMEOUT:salla.log("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:salla.log("An unknown error occurred.");break}};e.prototype.componentDidLoad=function(){var e=this;if(this.lat&&this.lng){fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(this.lat,",").concat(this.lng,"&key=").concat(this.apiKey,"&language=").concat(salla.config.get("user.language_code")||document.documentElement.lang||"ar")).then((function(e){return e.json()})).then((function(t){if(t.status==="OK"){e.formattedAddress=t.results[0].formatted_address;e.searchInputValue=t.results[0].formatted_address;e.searchInput.value=t.results[0].formatted_address;e.selectedLng=e.lng;e.selectedLat=e.lat}}))}this.mapInput.addEventListener("invalid",(function(t){e.invalidInput.emit(t)}));this.mapInput.addEventListener("input",(function(){e.mapInput.setCustomValidity("");e.mapInput.reportValidity()}))};e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){if(!this.map)this.initGoogleMaps({libraries:this.searchable?["places","search"]:[],language:salla.config.get("user.language_code")||document.documentElement.lang||"ar"},this.mapElement);return[2,(e=this.locationModal)===null||e===void 0?void 0:e.open()]}))}))};e.prototype.getLocationModal=function(){var e=this;return h("div",null,h("div",{class:"s-map-modal-title"},!!this.modalTitle?this.modalTitle:this.modalActivityTitle),h("div",{class:"s-map-modal-body"},h("div",{class:"s-map-element",ref:function(t){return e.mapElement=t}}),this.readonly?"":[this.searchable&&h("div",{class:"s-map-search-wrapper"},h("input",{class:"s-map-search-input",ref:function(t){return e.searchInput=t},placeholder:this.searchPlaceholder})),h("salla-button",{class:"s-map-my-location-button",onClick:function(){e.getCurrentLocation()},shape:"icon",color:"primary"},h("span",{innerHTML:CurrentLocation})),h("salla-button",{class:"s-map-submit-button",color:"primary",width:"wide",onClick:function(){var t={lat:e.lat,lng:e.lng,address:e.formattedAddress?e.formattedAddress:null};salla.event.emit("salla-map::selected",t);e.selected.emit(t);e.selectedLat=t.lat;e.selectedLng=t.lng;e.getPositionAddress(new google.maps.LatLng(t.lat,t.lng),true);if(!e.selectedLat||!e.selectedLng){e.mapInput.value=null}else{e.mapInput.value="".concat(e.selectedLat,", ").concat(e.selectedLng)}e.mapInput.dispatchEvent(new window.Event("change",{bubbles:true}));e.locationModal.close()}},this.confirmButtonTitle)]))};e.prototype.render=function(){var e=this;return h(Host,{class:"s-map-wrapper"},h("salla-modal",{class:"s-map-modal-wrapper",noPadding:true,ref:function(t){e.locationModal=t}},this.getLocationModal()),h("slot",{name:"button"},h("salla-button",{onClick:function(){e.open()},color:"primary",class:"s-map-location-button"},h("span",{class:"s-map-location-icon",innerHTML:this.formattedAddress?Edit:Location}),this.formattedAddress?h("div",null,this.locateButtonEdit," | ",this.formatAddress(this.formattedAddress)):this.locateButtonTitle)),h("input",{class:"s-hidden",name:this.name,required:this.required,value:this.getLatLng(),ref:function(t){return e.mapInput=t}}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaMap.style=sallaMapCss;var AlertEngineIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>alert-engine</title>\n<path d="M16 18.673c-0.736 0-1.333 0.604-1.333 1.34s0.597 1.333 1.333 1.333 1.333-0.597 1.333-1.333v-0.013c0-0.736-0.597-1.327-1.333-1.327zM2.667 16c0-3.092 1.083-6.105 3.047-8.484 0.469-0.568 0.389-1.408-0.179-1.877-0.568-0.468-1.408-0.388-1.877 0.179-2.359 2.857-3.657 6.473-3.657 10.183s1.299 7.325 3.657 10.183c0.264 0.319 0.645 0.484 1.029 0.484 0.299 0 0.6-0.1 0.848-0.305 0.568-0.469 0.648-1.309 0.179-1.877-1.964-2.379-3.047-5.392-3.047-8.484zM16 10.667c-0.736 0-1.333 0.597-1.333 1.333v4c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-4c0-0.736-0.597-1.333-1.333-1.333zM16 5.333c-5.881 0-10.667 4.785-10.667 10.667s4.785 10.667 10.667 10.667 10.667-4.785 10.667-10.667-4.785-10.667-10.667-10.667zM16 24c-4.412 0-8-3.588-8-8s3.588-8 8-8 8 3.588 8 8-3.588 8-8 8zM28.343 5.817c-0.469-0.567-1.307-0.647-1.877-0.179-0.568 0.469-0.648 1.309-0.179 1.877 1.964 2.379 3.047 5.392 3.047 8.484s-1.083 6.105-3.047 8.484c-0.469 0.568-0.389 1.408 0.179 1.877 0.249 0.205 0.549 0.305 0.848 0.305 0.384 0 0.765-0.165 1.028-0.484 2.36-2.857 3.659-6.473 3.659-10.183s-1.299-7.325-3.657-10.183z"></path>\n</svg>\n';var CheckCircle2='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>check-circle2</title>\n<path d="M29.333 14.133c-0.8 0-1.333 0.533-1.333 1.333v1.2c0 6.667-5.333 12-12 12 0 0 0 0 0 0-6.667 0-12-5.333-12-12s5.333-12 12-12c0 0 0 0 0 0 1.733 0 3.333 0.4 4.933 1.067 0.667 0.267 1.467 0 1.733-0.667s0-1.467-0.667-1.733c-1.867-0.8-3.867-1.333-6-1.333 0 0 0 0 0 0-8.133 0-14.667 6.533-14.667 14.667s6.533 14.667 14.667 14.667c0 0 0 0 0 0 8.133 0 14.667-6.533 14.667-14.667v-1.2c0-0.8-0.533-1.333-1.333-1.333zM12.933 14.4c-0.533-0.533-1.333-0.533-1.867 0s-0.533 1.333 0 1.867l4 4c0.267 0.267 0.533 0.4 0.933 0.4s0.667-0.133 0.933-0.4l13.333-13.333c0.533-0.533 0.533-1.333 0-1.867s-1.333-0.533-1.867 0l-12.4 12.4-3.067-3.067z"></path>\n</svg>\n';var sallaModalCss="@media screen and (max-width: 470px){.modal-is-open{position:fixed;width:100%}}";var SallaModal=function(){function e(e){var t=this;registerInstance(this,e);this.modalVisibilityChanged=createEvent(this,"modalVisibilityChanged",7);this.isClosable=true;this.width="md";this.position="middle";this.visible=false;this.hasSkeleton=false;this.isLoading=false;this.subTitleFirst=false;this.noPadding=false;this.subTitle="";this.centered=false;this.iconStyle=undefined;this.modalTitle=undefined;salla.event.on("modal::open",(function(e){return e==t.host.id&&t.open()}));salla.event.on("modal::close",(function(e){return e==t.host.id&&t.close()}));this.modalTitle=this.host.getAttribute("modal-title")}e.prototype.handleVisible=function(e){var t=this;if(!e){this.modalVisibilityChanged.emit(false);this.toggleModal(false);return}this.modalVisibilityChanged.emit(true);this.host.classList.remove("s-hidden");setTimeout((function(){return t.toggleModal(true)}))};e.prototype.handleKeyUp=function(e){if(e.key==="KeyUp"){this.closeModal()}};e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.host.setAttribute("visible","");this.handleAutoFocus();return[2,this.host]}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.host.removeAttribute("visible");return[2,this.host]}))}))};e.prototype.setTitle=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.modalTitle=e;return[2,this.host]}))}))};e.prototype.loading=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.isLoading=true;return[2,this.host]}))}))};e.prototype.stopLoading=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.isLoading=false;return[2,this.host]}))}))};e.prototype.handleAutoFocus=function(){var e=this.host.querySelector("input, textarea, select");if(!e){return}setTimeout((function(){e.focus()}),100)};e.prototype.toggleModal=function(e){var t=this;var i=this.host.querySelector(".s-modal-body");Helper.toggleElementClassIf(i,"s-modal-entering","s-modal-leaving",(function(){return e})).toggleElementClassIf(this.overlay,"s-modal-entering","s-modal-overlay-leaving",(function(){return e})).toggleElementClassIf(document.body,"modal-is-open","modal-is-closed",(function(){return e}));if(!e){setTimeout((function(){return t.host.classList.add("s-hidden")}),350)}};e.prototype.closeModal=function(){if(!this.isClosable){return}this.host.removeAttribute("visible")};e.prototype.iconBlockClasses=function(){return{"s-modal-icon":true,"s-modal-bg-error":this.iconStyle=="error","s-modal-bg-success":this.iconStyle=="success","s-modal-bg-normal":!this.iconStyle,"s-modal-bg-primary":this.iconStyle=="primary"}};e.prototype.getWidth=function(){return this.isLoading?this.hasSkeleton?"md":"xs":this.width};e.prototype.render=function(){var e=this;this.host.id=this.host.id||"salla-modal";if(this.isLoading){return h(Host,{class:"salla-modal s-modal s-modal-container s-hidden","aria-modal":"true",role:"dialog",onKeyUp:function(t){return e.handleKeyUp(t)}},h("div",{class:"s-modal-overlay",ref:function(t){return e.overlay=t},onClick:function(){return e.closeModal()}}),h("div",{class:"s-modal-wrapper"},h("span",{class:"s-modal-spacer s-modal-align-"+this.position},"​"),h("div",{class:"s-modal-body "+"s-modal-align-"+this.position+" s-modal-"+this.getWidth()+(this.noPadding?" s-modal-nopadding":" s-modal-padding")},h("slot",{name:"loading"},h("salla-loading",null)),h("div",{class:"s-hidden"},h("slot",null)))))}return h(Host,{class:"salla-modal s-modal s-modal-container s-hidden","aria-modal":"true",role:"dialog"},h("div",{class:"s-modal-overlay",ref:function(t){return e.overlay=t},onClick:function(){return e.closeModal()}}),h("div",{class:"s-modal-wrapper"},h("span",{class:"s-modal-spacer s-modal-align-"+this.position},"​"),h("div",{class:"s-modal-body "+"s-modal-align-"+this.position+" s-modal-"+this.getWidth()+(this.noPadding?" s-modal-nopadding":" s-modal-padding")},h("div",{class:{"s-modal-header":true,"s-modal-is-center":this.centered}},this.isClosable?h("button",{class:"s-modal-close",onClick:function(){return e.closeModal()},type:"button"},h("span",{innerHTML:Cancel$1})):"",this.modalTitle||this.subTitle?h("div",{class:"s-modal-header-inner"},h("slot",{name:"icon"},!!this.iconStyle?h("div",{class:this.iconBlockClasses(),innerHTML:this.iconStyle=="error"?AlertEngineIcon:CheckCircle2}):""),h("div",{class:"s-modal-header-content"},this.modalTitle?h("div",{class:{"s-modal-title":true,"s-modal-title-below":this.subTitleFirst},innerHTML:this.modalTitle}):"",this.subTitle?h("p",{class:{"s-modal-sub-title":true},innerHTML:this.subTitle}):"")):""),h("slot",null),h("slot",{name:"footer"}))))};e.prototype.componentDidLoad=function(){document.body.append(this.host)};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{visible:["handleVisible"]}},enumerable:false,configurable:true});return e}();SallaModal.style=sallaModalCss;var SpecialDiscountIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>special-discount</title>\n<path d="M20.667 19.333c-0.737 0-1.333 0.596-1.333 1.333v0.013c0 0.737 0.596 1.327 1.333 1.327s1.333-0.603 1.333-1.34-0.596-1.333-1.333-1.333zM11.333 12.673c0.737 0 1.333-0.603 1.333-1.34s-0.596-1.333-1.333-1.333-1.333 0.596-1.333 1.333v0.013c0 0.736 0.596 1.327 1.333 1.327zM30.307 16l0.947-4.244c0.107-0.473-0.055-0.969-0.417-1.291l-3.259-2.876-1.732-3.987c-0.193-0.444-0.612-0.749-1.095-0.796l-4.327-0.417-3.748-2.204c-0.416-0.248-0.933-0.248-1.353 0l-3.744 2.204-4.329 0.417c-0.483 0.047-0.901 0.352-1.095 0.796l-1.732 3.987-3.259 2.877c-0.363 0.321-0.525 0.816-0.417 1.289l0.947 4.244-0.947 4.244c-0.107 0.473 0.055 0.969 0.417 1.291l3.259 2.876 1.732 3.987c0.193 0.444 0.612 0.749 1.095 0.796l4.325 0.416 3.749 2.207c0.208 0.123 0.441 0.184 0.676 0.184s0.468-0.061 0.676-0.185l3.747-2.205 4.328-0.416c0.483-0.045 0.903-0.351 1.095-0.796l1.732-3.985 3.259-2.877c0.363-0.321 0.525-0.816 0.417-1.291zM28.48 20.056l-2.892 2.552c-0.145 0.131-0.261 0.291-0.34 0.469l-1.536 3.536-3.84 0.369c-0.195 0.019-0.381 0.080-0.551 0.179l-3.321 1.959-3.324-1.959c-0.168-0.099-0.356-0.16-0.549-0.179l-3.839-0.369-1.536-3.537c-0.077-0.18-0.195-0.339-0.34-0.469l-2.892-2.551 0.84-3.765c0.043-0.192 0.043-0.389 0-0.581l-0.84-3.765 2.892-2.551c0.145-0.131 0.263-0.289 0.34-0.469l1.536-3.539 3.84-0.369c0.195-0.019 0.381-0.080 0.549-0.179l3.323-1.957 3.325 1.957c0.167 0.099 0.355 0.16 0.548 0.179l3.839 0.369 1.536 3.539c0.077 0.18 0.195 0.339 0.34 0.469l2.892 2.551-0.84 3.765c-0.043 0.192-0.043 0.389 0 0.581zM20.391 9.724l-10.667 10.667c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l10.667-10.667c0.521-0.521 0.521-1.364 0-1.885s-1.364-0.521-1.885 0z"></path>\n</svg>\n';var Tag='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>tag</title>\n<path d="M28 0h-9.344c-1.059 0-2.056 0.411-2.809 1.153l-14.673 14.456c-1.56 1.56-1.561 4.097-0.001 5.657l9.56 9.56c0.755 0.755 1.76 1.172 2.828 1.173h0.003c1.068 0 2.072-0.416 2.833-1.179l14.451-14.668c0.743-0.753 1.153-1.751 1.153-2.809v-9.344c0-2.205-1.795-4-4-4zM29.333 13.344c0 0.353-0.137 0.685-0.385 0.937l-14.444 14.661c-0.252 0.252-0.587 0.391-0.941 0.391-0.001 0-0.001 0-0.001 0-0.356-0.001-0.691-0.139-0.943-0.392l-9.561-9.56c-0.52-0.52-0.52-1.365-0.005-1.88l14.667-14.449c0.253-0.248 0.585-0.385 0.937-0.385h9.344c0.736 0 1.333 0.597 1.333 1.333zM24 6.673c-0.737 0-1.333 0.604-1.333 1.341s0.596 1.333 1.333 1.333 1.333-0.596 1.333-1.333v-0.015c0-0.737-0.596-1.327-1.333-1.327z"></path>\n</svg>\n';var Cart2='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>cart2</title>\n<path d="M6.845 5.333l-1.905-5.333h-3.607c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333v0h1.727l5.72 16.012c0.569 1.56 2.039 2.654 3.765 2.655h12.133c0.001 0 0.002 0 0.003 0 1.825 0 3.364-1.222 3.845-2.892l0.007-0.028 3.161-13.080zM25.96 17.716c-0.167 0.554-0.672 0.951-1.27 0.951-0.002 0-0.005 0-0.007-0h-12.133c-0.575-0-1.065-0.364-1.252-0.875l-0.003-0.009-3.497-9.783h20.508zM13.333 24c-2.209 0-4 1.791-4 4s1.791 4 4 4c2.209 0 4-1.791 4-4v0c0-2.209-1.791-4-4-4v0zM13.333 29.333c-0.736 0-1.333-0.597-1.333-1.333s0.597-1.333 1.333-1.333c0.736 0 1.333 0.597 1.333 1.333v0c0 0.736-0.597 1.333-1.333 1.333v0zM24 24c-2.209 0-4 1.791-4 4s1.791 4 4 4c2.209 0 4-1.791 4-4v0c0-2.209-1.791-4-4-4v0zM24 29.333c-0.736 0-1.333-0.597-1.333-1.333s0.597-1.333 1.333-1.333c0.736 0 1.333 0.597 1.333 1.333v0c0 0.736-0.597 1.333-1.333 1.333v0z"></path>\n</svg>\n';var sallaOfferModalCss="";var SallaOfferModal=function(){function e(e){var t=this;registerInstance(this,e);var i,n;this.offer=null;this.offer_name=undefined;this.offer_message=undefined;this.hasError=false;this.errorMessage=undefined;this.productID=undefined;this.offer_type=undefined;this.translationLoaded=false;this.addToCartLabel=salla.lang.get("pages.cart.add_to_cart");salla.event.on("offer-modal::open",(function(e){return t.open(e)}));salla.lang.onLoaded((function(){t.addToCartLabel=salla.lang.get("pages.cart.add_to_cart");t.translationLoaded=true}));this.categorySlot=((i=this.host.querySelector('[slot="category"]'))===null||i===void 0?void 0:i.innerHTML)||'<span class="s-offer-modal-badge-icon">{tagIcon}</span><span class="s-offer-modal-badge-text">{name}</span>';this.productSlot=((n=this.host.querySelector('[slot="product"]'))===null||n===void 0?void 0:n.innerHTML)||this.defaultProductSlot();salla.event.on("offer-modal::open",(function(e){return t.open(e)}));salla.product.event.onOfferExisted((function(e){if(salla.storage.get("remember-offer-"+e.id)){salla.log("User selected to don't show this offer again.");return}t.open(e.product_id)}))}e.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(i){switch(i.label){case 0:this.productID=e;this.hasError=false;this.modal.open();return[4,salla.api.withoutNotifier((function(){return salla.product.offers(e)})).then((function(e){return t.showOffer(e.data[0])})).catch((function(e){var i,n,a,r;t.hasError=true;t.errorMessage=((a=(n=(i=e.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=e.response)===null||r===void 0?void 0:r.data)})).finally((function(){return setTimeout((function(){return t.modal.stopLoading()}),1e3)}))];case 1:return[2,i.sent()]}}))}))};e.prototype.showOffer=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){this.offer=e;this.offer_name=e.name;this.offer_message=e.message;if(this.offer.get.discounts_table){this.offer_type="discounts-table"}else if((t=this.offer.get.products)===null||t===void 0?void 0:t.length){this.offer_type="products"}else if((i=this.offer.get.categories)===null||i===void 0?void 0:i.length){this.offer_type="categories"}this.modal.setTitle(this.offer_name);return[2]}))}))};e.prototype.rememberMe=function(e){salla.storage.set("remember-offer-"+this.offer.id,e.target.checked)};e.prototype.addToCart=function(e){var t=this;salla.api.withoutNotifier((function(){return salla.cart.quickAdd(t.productID,e)})).then((function(){return t.modal.close()}))};e.prototype.getOfferContent=function(){var e=this;var t,i,n,a,r,o,s,l;if(this.offer.get.discounts_table){return h("div",{class:"s-offer-modal-discount-table"},h("table",null,h("tbody",null,(t=this.offer.get.discounts_table)===null||t===void 0?void 0:t.map((function(t){return h("tr",null,h("td",null,t.text),h("td",{class:"s-offer-modal-discount-table-cell"},h("salla-button",{fill:"outline",shape:"btn",color:"primary",size:"medium",width:"normal",onClick:function(){return e.addToCart(t.quantity)}},e.addToCartLabel)))})))))}else if((i=this.offer.get.products)===null||i===void 0?void 0:i.length){return h("salla-slider",{type:"carousel",class:{"s-offer-modal-slider-centered":((n=this.offer.get.products)===null||n===void 0?void 0:n.length)<=2,"s-offer-modal-slider":true},id:"offer-modal-slider","controls-outer":true,"show-controls":((a=this.offer.get.products)===null||a===void 0?void 0:a.length)<=2?"false":"true"},h("div",{slot:"items"},(r=this.offer.get.products)===null||r===void 0?void 0:r.map((function(t){return h("div",{class:{"s-offer-modal-product":true,"s-offer-modal-slider-item":true,"s-offer-modal-not-available":!t.is_available},id:"product_"+t.id,innerHTML:e.productSlot.replace(/\{name\}/g,t.name).replace(/\{url\}/g,t.url).replace(/\{image\}/g,t.thumbnail).replace(/\{price\}/g,t.has_special_price?'<span class="s-offer-modal-product-sale-price">'+salla.money(t.price)+'</span><span class="s-offer-modal-product-old-price">'+salla.money(t.regular_price)+"</span>":salla.money(t.price))},h("div",{class:"s-offer-modal-btn-wrap"},h("salla-button",{width:"wide",fill:"outline","data-id":t.id,disabled:!t.is_available,"loader-position":"center",onClick:e.addItem},t.is_available?salla.lang.get("pages.cart.add_to_cart"):salla.lang.get("pages.products.out_of_stock"))))}))))}else if((o=this.offer.get.categories)===null||o===void 0?void 0:o.length){return h("salla-slider",{type:"carousel",class:{"s-offer-modal-slider-centered":((s=this.offer.get.categories)===null||s===void 0?void 0:s.length)<=2,"s-offer-modal-slider":true},id:"offer-modal-slider","controls-outer":true,"show-controls":((l=this.offer.get.categories)===null||l===void 0?void 0:l.length)<=2?"false":"true"},h("div",{slot:"items"},this.offer.get.categories.map((function(t){return h("a",{href:t.urls.customer,class:"s-offer-modal-badge s-offer-modal-slider-item s-offer-modal-cat-item",innerHTML:e.categorySlot.replace(/\{tagIcon\}/g,Tag).replace(/\{name\}/g,t.name).replace(/\{url\}/g,t.urls.customer)})}))))}};e.prototype.addItem=function(){var e=this;this["load"]();return salla.cart.api.quickAdd(this["dataset"].id).finally((function(){return e["stop"]()}))};e.prototype.defaultProductSlot=function(){return'<a href={url} class="s-offer-modal-product-image-wrap"><img class="s-offer-modal-product-image" src="{image}" /></a>'+'<div class="s-offer-modal-product-info">'+'   <a href={url} class="s-offer-modal-product-name">{name}</a>'+'   <div class="s-offer-modal-product-price">{price}</div>'+"</div>"};e.prototype.render=function(){var e=this;return h("salla-modal",{"has-skeleton":true,"sub-title":this.offer_message,ref:function(t){return e.modal=t},isLoading:true,class:"s-offer-modal-type-".concat(this.offer_type?this.offer_type:"")},h("div",{slot:"loading"},h("div",{class:"s-offer-modal-skeleton"},h("div",{class:"s-offer-modal-skeleton-header"},h("salla-skeleton",{type:"circle",height:"80px",width:"80px"}),h("salla-skeleton",{height:"15px",width:"50%"}),h("salla-skeleton",{height:"10px",width:"30%"})),h("div",{class:"s-offer-modal-skeleton-items"},__spreadArray([],Array(3),true).map((function(){return h("div",{class:"s-offer-modal-skeleton-item"},h("salla-skeleton",{height:"9rem"}),h("div",{class:"s-offer-modal-skeleton-item-title"},h("salla-skeleton",{height:"15px",width:"100%"})),h("div",{class:"s-offer-modal-skeleton-item-subtitle"},h("salla-skeleton",{height:"9px",width:"50%"}),h("div",{innerHTML:Cart2})))}))),h("div",{class:"s-offer-modal-skeleton-footer"},h("salla-skeleton",{height:"15px",width:"50%"}),h("salla-skeleton",{height:"15px",width:"30%"})))),!this.hasError&&this.offer!==null?[h("span",{slot:"icon",class:"s-offer-modal-header-icon",innerHTML:SpecialDiscountIcon}),this.getOfferContent(),h("div",{class:"s-offer-modal-footer",slot:"footer"},this.offer.formatted_date?h("p",{class:"s-offer-modal-expiry"},salla.lang.get("pages.products.offer_expires_in")," ",this.offer.formatted_date):"",h("label",{class:"s-offer-modal-remember-label"},h("input",{type:"checkbox",onChange:function(t){return e.rememberMe(t)},class:"s-offer-modal-remember-input"}),"  ",salla.lang.get("common.elements.remember_my_choice")))]:h("salla-placeholder",{class:"s-loyalty-placeholder",alignment:"center"},!!this.errorMessage?h("span",{slot:"description"},this.errorMessage):""))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaOfferModal.style=sallaOfferModalCss;var Inbox='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>inbox</title>\n<path d="M31.984 19.797l-2.667-17.333c-0.1-0.651-0.659-1.131-1.317-1.131h-24c-0.659 0-1.217 0.48-1.317 1.131l-2.667 17.333c-0.011 0.067-0.016 0.135-0.016 0.203v6.667c0 2.205 1.795 4 4 4h24c2.205 0 4-1.795 4-4v-6.667c0-0.068-0.005-0.136-0.016-0.203zM5.144 4h21.712l2.256 14.667h-9.112c-0.736 0-1.333 0.596-1.333 1.333 0 1.471-1.196 2.667-2.667 2.667s-2.667-1.196-2.667-2.667c0-0.737-0.597-1.333-1.333-1.333h-9.112zM29.333 26.667c0 0.736-0.599 1.333-1.333 1.333h-24c-0.735 0-1.333-0.597-1.333-1.333v-5.333h8.168c0.593 2.299 2.684 4 5.165 4s4.571-1.701 5.165-4h8.168z"></path>\n</svg>\n';var sallaPlaceholderCss="";var SallaPlaceholder=function(){function e(e){var t=this;registerInstance(this,e);this.translationLoaded=false;this.icon=Inbox;this.alignment="left";this.iconSize="md";salla.lang.onLoaded((function(){t.translationLoaded=true}))}e.prototype.alignmentClass=function(){return{"s-placeholder-wrapper":true,"s-placeholder-align-left":this.alignment=="left","s-placeholder-align-center":this.alignment=="center","s-placeholder-align-right":this.alignment=="right"}};e.prototype.render=function(){return h(Host,{class:this.alignmentClass()},h("div",{class:"s-placeholder-icon s-placeholder-icon-".concat(this.iconSize),innerHTML:this.icon}),h("div",{class:"s-placeholder-title"},h("slot",{name:"title"},h("span",null,salla.lang.get("common.elements.no_options")))),h("div",{class:"s-placeholder-description"},h("slot",{name:"description"},h("span",null,salla.lang.get("common.errors.empty_results")))))};return e}();SallaPlaceholder.style=sallaPlaceholderCss;var BellRing='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>bell-ring</title>\n<path d="M2.667 13.333v-4c0-2.592 0.748-5.107 2.161-7.271 0.404-0.616 0.231-1.443-0.387-1.845-0.616-0.401-1.443-0.228-1.845 0.388-1.699 2.599-2.596 5.617-2.596 8.728v4c0 0.736 0.596 1.333 1.333 1.333s1.333-0.596 1.333-1.333zM25.333 15.647v-6.313c0-5.147-4.188-9.333-9.333-9.333s-9.333 4.187-9.333 9.333v6.312l-5.157 9.027c-0.236 0.413-0.235 0.92 0.004 1.331 0.239 0.412 0.679 0.664 1.153 0.664h8c0 2.941 2.392 5.333 5.333 5.333s5.333-2.392 5.333-5.333h8c0.475 0 0.915-0.252 1.153-0.664 0.239-0.411 0.24-0.917 0.004-1.331zM16 29.333c-1.471 0-2.667-1.196-2.667-2.667h5.333c0 1.472-1.196 2.667-2.667 2.667zM4.965 24l4.193-7.339c0.113-0.2 0.175-0.429 0.175-0.661v-6.667c0-3.676 2.991-6.667 6.667-6.667s6.667 2.991 6.667 6.667v6.667c0 0.232 0.061 0.46 0.176 0.661l4.192 7.339zM29.403 0.603c-0.403-0.616-1.232-0.789-1.845-0.387-0.617 0.403-0.791 1.229-0.387 1.845 1.415 2.165 2.163 4.68 2.163 7.272v4c0 0.736 0.596 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-4c0-3.112-0.899-6.132-2.597-8.731z"></path>\n</svg>\n';var sallaProductAvailabilityCss="";var SallaProductAvailability=function(){function e(e){var t=this;registerInstance(this,e);this.isUser=salla.config.isUser();this.handleSubmitOptions=function(){return __awaiter(t,void 0,void 0,(function(){var e,t,i,n,a,r,o;return __generator(this,(function(s){switch(s.label){case 0:e={id:this.productId};if(!this.notifyOptionsAvailability){return[2,e]}t=document.querySelector('salla-product-options[product-id="'.concat(this.productId,'"]'));a=(n=Object).values;return[4,t===null||t===void 0?void 0:t.getSelectedOptionsData()];case 1:i=a.apply(n,[s.sent()||{}]);r=i.length;if(!r)return[3,3];return[4,t===null||t===void 0?void 0:t.reportValidity()];case 2:r=!s.sent();s.label=3;case 3:if(r){o=salla.lang.get("common.messages.required_fields");salla.error(o);throw o}e.options=[];i.forEach((function(t){if(t&&!isNaN(t)){e.options.push(Number(t))}}));return[2,e]}}))}))};this.typing=function(e){var i=e.target.nextElementSibling;e.target.classList.remove("s-has-error");(i===null||i===void 0?void 0:i.classList.contains("s-product-availability-error-msg"))&&(i.innerText="");e.keyCode===13&&t.submit()};this.translationLoaded=false;this.title_=undefined;this.isVisitorSubscribed=undefined;this.channels=undefined;this.notifyOptionsAvailability=false;this.productId=undefined;this.isSubscribed=false;salla.lang.onLoaded((function(){var e;t.translationLoaded=true;t.title_=t.host.title||salla.lang.get("pages.products.notify_availability_title");(e=t.modal)===null||e===void 0?void 0:e.setTitle(t.title_)}));if(!this.productId){this.productId=salla.config.get("page.id")}if(this.isUser)return;this.channelsWatcher(this.channels);this.title_=this.host.title||salla.lang.get("pages.products.notify_availability_title");this.host.removeAttribute("title");this.isVisitorSubscribed=!this.notifyOptionsAvailability?salla.storage.get("product-".concat(this.productId,"-subscribed")):""}e.prototype.channelsWatcher=function(e){this.channels_=!!e?e.split(","):[]};e.prototype.openModel=function(){var e=this;this.handleSubmitOptions().then((function(t){return t?e.modal.open():null}))};e.prototype.submit=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n;var a=this;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.handleSubmitOptions()];case 1:e=r.sent();if(this.isUser){return[2,salla.api.product.availabilitySubscribe(e).then((function(){return a.isSubscribed=true}))]}if(!this.channels_.includes("sms"))return[3,3];return[4,this.mobileInput.getValues()];case 2:t=r.sent(),i=t.phone,n=t.countryCode;e["country_code"]=n;e["phone"]=i;r.label=3;case 3:if(this.channels_.includes("email")){this.email.value!==""&&(e["email"]=this.email.value)}return[4,this.validateform()];case 4:r.sent();return[2,this.btn.load().then((function(){return a.btn.disable()})).then((function(){return salla.api.product.availabilitySubscribe(e)})).then((function(){if(!a.notifyOptionsAvailability){salla.storage.set("product-".concat(a.productId,"-subscribed"),true);a.isSubscribed=true;return}if(e.options.length){var t=salla.storage.get("product-".concat(a.productId,"-subscribed-options"))||[];var i=e.options.join(",");if(!t.includes(i)){t.push(i);salla.storage.set("product-".concat(a.productId,"-subscribed-options"),t);a.isSubscribed=true}else{salla.log("already subscribed to this options")}}})).then((function(){return a.btn.stop()})).then((function(){return a.modal.close()})).catch((function(){return a.btn.stop()&&a.btn.enable()}))]}}))}))};e.prototype.validateform=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);if(this.channels_.includes("email")){e=Helper.isValidEmail(this.email.value);if(e)return[2];!e&&this.validateField(this.email,salla.lang.get("common.elements.email_is_valid"))}if(!this.channels_.includes("sms"))return[3,2];return[4,this.mobileInput.isValid()];case 1:t=n.sent();if(t)return[2];n.label=2;case 2:return[3,4];case 3:i=n.sent();throw"Please insert required fields";case 4:return[2]}}))}))};e.prototype.validateField=function(e,t){e.classList.add("s-has-error");e.nextElementSibling["innerText"]="* "+t};e.prototype.render=function(){var e=this;return h(Host,{class:"s-product-availability-wrap"},this.isSubscribed||this.isVisitorSubscribed?h("div",{class:"s-product-availability-subscribed"},h("span",{innerHTML:BellRing,class:"s-product-availability-subs-icon"}),salla.lang.get("pages.products.notify_availability_success")):h("salla-button",{width:"wide",onClick:function(){return e.isUser?e.submit():e.openModel()}},salla.lang.get("pages.products.notify_availability")),this.isUser||this.isSubscribed||this.isVisitorSubscribed?"":this.renderModal())};e.prototype.renderModal=function(){var e=this;return h("salla-modal",{ref:function(t){return e.modal=t},"modal-title":this.title_,subTitle:salla.lang.get("pages.products.notify_availability_subtitle"),width:"sm"},h("span",{slot:"icon",class:"s-product-availability-header-icon",innerHTML:BellRing}),h("div",{class:"s-product-availability-body"},this.channels_.includes("email")?[h("label",{class:"s-product-availability-label"},salla.lang.get("common.elements.email")),h("input",{class:"s-product-availability-input",onKeyDown:function(t){return e.typing(t)},placeholder:salla.lang.get("common.elements.email_placeholder")||"your@email.com",ref:function(t){return e.email=t},type:"email"}),h("span",{class:"s-product-availability-error-msg"})]:"",this.channels_.includes("sms")?[h("label",{class:"s-product-availability-label"},salla.lang.get("common.elements.mobile")),h("salla-tel-input",{ref:function(t){return e.mobileInput=t},onKeyDown:function(t){return e.typing(t)}})]:""),h("div",{slot:"footer",class:"s-product-availability-footer"},h("salla-button",{class:"modal-cancel-btn",width:"wide",color:"light",fill:"outline",onClick:function(){return e.modal.close()}},salla.lang.get("common.elements.cancel")),h("salla-button",{class:"submit-btn","loader-position":"center",width:"wide",ref:function(t){return e.btn=t},onClick:function(){return e.submit()}},salla.lang.get("common.elements.submit"))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{channels:["channelsWatcher"]}},enumerable:false,configurable:true});return e}();SallaProductAvailability.style=sallaProductAvailabilityCss;var Heart='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>heart</title>\n<path d="M23.333 2.267c-3.547 0-5.779 1.605-7.333 3.061-1.555-1.456-3.787-3.061-7.333-3.061-5.955 0-8.667 5.045-8.667 9.733 0 8.503 10.147 14.735 15.513 16.841 0.156 0.061 0.321 0.092 0.487 0.092s0.331-0.031 0.487-0.092c5.367-2.107 15.513-8.339 15.513-16.841 0-4.688-2.712-9.733-8.667-9.733zM16 26.161c-5.537-2.309-13.333-7.799-13.333-14.161 0-3.517 1.856-7.067 6-7.067 2.983 0 4.656 1.451 6.384 3.203 0.5 0.508 1.399 0.508 1.899 0 1.728-1.752 3.401-3.203 6.384-3.203 4.144 0 6 3.549 6 7.067 0 6.363-7.796 11.852-13.333 14.161z"></path>\n</svg>\n';var sallaProductCardCss='.s-product-card-image::before{font-family:"sallaicons";content:"\\ec1f" !important}.s-product-card-content-pie-svg circle{transition:stroke-dashoffset 1s linear;-webkit-transition:stroke-dashoffset 1s linear;-moz-transition:stroke-dashoffset 1s linear;-ms-transition:stroke-dashoffset 1s linear;-o-transition:stroke-dashoffset 1s linear;stroke:#E8EDF2;stroke-width:2px;stroke-linecap:round;fill:none}.s-product-card-content-pie-svg-bar{stroke:var(--color-primary) !important;stroke-dasharray:100 100;stroke-dashoffset:100}';var SallaProductCard=function(){function e(e){var t=this;registerInstance(this,e);this.productData=undefined;this.fitImageHeight=undefined;this.remained=undefined;this.outOfStock=undefined;this.donationAmount=undefined;this.startingPrice=undefined;this.addToCart=undefined;this.placeholder=undefined;this.product=undefined;this.horizontal=undefined;this.shadowOnHover=undefined;this.hideAddBtn=undefined;this.fullImage=undefined;this.minimal=undefined;this.isSpecial=undefined;this.showQuantity=undefined;salla.onReady((function(){t.fitImageHeight=salla.config.get("store.settings.product.fit_type");salla.wishlist.event.onAdded((function(e,i){return t.toggleFavoriteIcon(true,i)}));salla.wishlist.event.onRemoved((function(e,i){return t.toggleFavoriteIcon(false,i)}));t.placeholder=salla.url.asset(salla.config.get("theme.settings.placeholder"))}));salla.lang.onLoaded((function(){t.remained=salla.lang.get("pages.products.remained");t.donationAmount=salla.lang.get("pages.products.donation_amount");t.startingPrice=salla.lang.get("pages.products.starting_price");t.addToCart=salla.lang.get("pages.cart.add_to_cart");t.outOfStock=salla.lang.get("pages.products.out_of_stock")}));if(this.product){try{this.productData=typeof this.product=="object"?this.product:JSON.parse(this.product);return}catch(e){salla.log("Bad json passed via product prop")}}}e.prototype.initCircleBar=function(){var e=this.productData.quantity,t=this.productData.quantity>100?this.productData.quantity*2:100,i=e/t*100,n=this.pie.querySelector(".s-product-card-content-pie-svg-bar"),a=100-i;n.style.strokeDashoffset=a};e.prototype.toggleFavoriteIcon=function(e,t){if(e===void 0){e=true}if(t===void 0){t=null}var i;if(t&&t!==this.productData.id){return}(i=this.wishlistBtn)===null||i===void 0?void 0:i.classList.toggle("s-product-card-wishlist-added",e)};e.prototype.formatDate=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())};e.prototype.getProductBadge=function(){var e,t,i;if(this.productData.promotion_title){return h("div",{class:"s-product-card-promotion-title"},this.productData.promotion_title)}if(this.showQuantity&&((e=this.productData)===null||e===void 0?void 0:e.quantity)){return h("div",{class:"s-product-card-quantity"},this.remained," ",salla.helpers.number((t=this.productData)===null||t===void 0?void 0:t.quantity))}if(this.showQuantity&&((i=this.productData)===null||i===void 0?void 0:i.is_out_of_stock)){return h("div",{class:"s-product-card-out-badge"},this.outOfStock)}return""};e.prototype.getPriceFormat=function(e){if(!e){return}return salla.money(e)};e.prototype.getProductPrice=function(){var e,t,i;if(this.productData.is_on_sale){return h("div",{class:"s-product-card-sale-price"},h("h4",null,this.getPriceFormat(this.productData.sale_price)),h("span",null,this.getPriceFormat((e=this.productData)===null||e===void 0?void 0:e.regular_price)))}if(this.productData.starting_price){return h("div",{class:"s-product-card-starting-price"},h("p",null,this.startingPrice),h("h4",null," ",this.getPriceFormat((t=this.productData)===null||t===void 0?void 0:t.starting_price)," "))}return h("h4",{class:"s-product-card-price"},this.getPriceFormat((i=this.productData)===null||i===void 0?void 0:i.price))};e.prototype.render=function(){var e=this;var t,i,n,a,r,o,s,l,c,u,d,p,f,g,m,v,_,b,y,w,x,E,k,I;var T={"s-product-card-entry":true,"s-product-card-vertical":!this.horizontal&&!this.fullImage&&!this.minimal,"s-product-card-horizontal":this.horizontal&&!this.fullImage&&!this.minimal,"s-product-card-fit-height":this.fitImageHeight&&!this.isSpecial&&!this.fullImage&&!this.minimal,"s-product-card-special":this.isSpecial,"s-product-card-full-image":this.fullImage,"s-product-card-minimal":this.minimal,"s-product-card-donation":(t=this.productData)===null||t===void 0?void 0:t.donation,"s-product-card-shadow":this.shadowOnHover,"s-product-card-out-of-stock":(i=this.productData)===null||i===void 0?void 0:i.is_out_of_stock};return h(Host,{id:"product-".concat((n=this.productData)===null||n===void 0?void 0:n.id),class:T},h("div",{class:!this.fullImage?"s-product-card-image":"s-product-card-image-full"},h("a",{href:(a=this.productData)===null||a===void 0?void 0:a.url},h("img",{class:"s-product-card-image-".concat(salla.url.is_placeholder((o=(r=this.productData)===null||r===void 0?void 0:r.image)===null||o===void 0?void 0:o.url)?"contain":this.fitImageHeight?this.fitImageHeight:"cover"," lazy"),src:this.placeholder,alt:(l=(s=this.productData)===null||s===void 0?void 0:s.image)===null||l===void 0?void 0:l.alt,"data-src":((u=(c=this.productData)===null||c===void 0?void 0:c.image)===null||u===void 0?void 0:u.url)||((d=this.productData)===null||d===void 0?void 0:d.thumbnail)}),!this.fullImage&&!this.minimal?this.getProductBadge():""),this.fullImage&&h("a",{href:(p=this.productData)===null||p===void 0?void 0:p.url,class:"s-product-card-overlay"}),!this.horizontal&&!this.fullImage?h("salla-button",{shape:"icon",fill:"none",color:"light","aria-label":"Add or remove to wishlist",ref:function(t){return e.wishlistBtn=t},class:"s-product-card-wishlist-btn animated",onClick:function(){return salla.wishlist.toggle(e.productData.id)}},h("span",{innerHTML:Heart})):""),h("div",{class:"s-product-card-content"},this.isSpecial&&((f=this.productData)===null||f===void 0?void 0:f.quantity)?h("div",{class:"s-product-card-content-pie",ref:function(t){return e.pie=t}},h("span",null,h("b",null,salla.helpers.number((g=this.productData)===null||g===void 0?void 0:g.quantity)),this.remained),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -1 36 34",class:"s-product-card-content-pie-svg"},h("circle",{cx:"16",cy:"16",r:"15.9155",class:"s-product-card-content-pie-svg-base"}),h("circle",{cx:"16",cy:"16",r:"15.9155",class:"s-product-card-content-pie-svg-bar"}))):"",h("div",{class:{"s-product-card-content-main":true,"s-product-card-content-extra-padding":this.isSpecial}},h("h3",{class:"s-product-card-content-title"},h("a",{href:(m=this.productData)===null||m===void 0?void 0:m.url},(v=this.productData)===null||v===void 0?void 0:v.name)),((_=this.productData)===null||_===void 0?void 0:_.subtitle)&&!this.minimal?h("p",{class:"s-product-card-content-subtitle"},(b=this.productData)===null||b===void 0?void 0:b.subtitle):""),((y=this.productData)===null||y===void 0?void 0:y.donation)&&!this.minimal&&!this.fullImage?[h("salla-progress-bar",{donation:(w=this.productData)===null||w===void 0?void 0:w.donation}),h("div",{class:"s-product-card-donation-input"},((E=(x=this.productData)===null||x===void 0?void 0:x.donation)===null||E===void 0?void 0:E.can_donate)?[h("label",{htmlFor:"donation-amount"},this.donationAmount," ",h("span",null,"*")),h("input",{type:"text",onInput:function(t){salla.helpers.inputDigitsOnly(t.target);e.addBtn.donatingAmount=t.target.value},id:"donation-amount",name:"donating_amount",class:"s-form-control",placeholder:this.donationAmount})]:"")]:"",h("div",{class:{"s-product-card-content-sub":true,"s-product-card-content-extra-padding":this.isSpecial}},this.getProductPrice(),((I=(k=this.productData)===null||k===void 0?void 0:k.rating)===null||I===void 0?void 0:I.stars)&&!this.minimal?h("div",{class:"s-product-card-rating"},h("span",{innerHTML:Rate}),h("span",null,this.productData.rating.stars)):""),this.isSpecial&&this.productData.discount_ends?h("salla-count-down",{date:this.formatDate(this.productData.discount_ends),"end-of-day":true,boxed:true,labeled:true}):"",!this.hideAddBtn?h("div",{class:"s-product-card-content-footer"},h("salla-add-product-button",{fill:"outline",width:"wide",ref:function(t){return e.addBtn=t},"product-id":this.productData.id,"product-status":this.productData.status,"product-type":this.productData.type},h("slot",{name:"add-to-cart-label"},this.productData.add_to_cart_label)),this.horizontal||this.fullImage?h("salla-button",{shape:"icon",fill:"none",color:"light",ref:function(t){return e.wishlistBtn=t},"aria-label":"Add or remove to wishlist",class:"s-product-card-wishlist-btn animated",onClick:function(){return salla.wishlist.toggle(e.productData.id)},"data-id":"{{ product.id }}"},h("span",{class:"text-xl",innerHTML:Heart})):""):""))};e.prototype.componentDidLoad=function(){var e,t;(e=document.lazyLoadInstance)===null||e===void 0?void 0:e.update(document.querySelectorAll(".s-product-card-image .lazy"));if(((t=this.productData)===null||t===void 0?void 0:t.quantity)&&this.isSpecial){this.initCircleBar()}if(!salla.config.isGuest()&&salla.storage.get("salla::wishlist",[]).includes(this.productData.id)){this.toggleFavoriteIcon()}};Object.defineProperty(e,"assetsDirs",{get:function(){return["assets"]},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaProductCard.style=sallaProductCardCss;var PencilRuler='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>pencil-ruler</title>\n<path d="M3.057 11.609c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l6.667-6.667c0.521-0.521 0.521-1.364 0-1.885l-1.285-1.285c-1.143-1.143-2.661-1.772-4.276-1.772-1.616 0-3.135 0.629-4.276 1.772-1.143 1.141-1.772 2.66-1.772 4.276 0 1.615 0.629 3.135 1.772 4.276zM3.657 3.657c1.277-1.277 3.504-1.277 4.781 0l0.343 0.343-4.781 4.781-0.343-0.343c-0.639-0.639-0.991-1.488-0.991-2.391s0.352-1.752 0.991-2.391zM29.317 20.972c-0.2-0.707-0.932-1.119-1.645-0.921-0.709 0.2-1.121 0.937-0.921 1.645l1.987 7.041-7.041-1.987c-0.707-0.195-1.444 0.213-1.645 0.921-0.2 0.708 0.212 1.445 0.921 1.645l9.333 2.633c0.119 0.032 0.24 0.049 0.361 0.049 0.349 0 0.689-0.137 0.943-0.391 0.341-0.341 0.472-0.84 0.34-1.305zM31.609 8.772l-8.381-8.381c-0.5-0.5-1.385-0.5-1.885 0l-8.171 8.171s-0.001 0-0.001 0.001 0 0.001-0.001 0.001l-4.607 4.607s0 0-0.001 0 0 0 0 0.001l-8.171 8.171c-0.251 0.249-0.391 0.588-0.391 0.943 0 0.353 0.14 0.693 0.391 0.943l8.381 8.381c0.249 0.251 0.589 0.391 0.943 0.391s0.693-0.14 0.943-0.391l20.952-20.952c0.521-0.521 0.521-1.365 0-1.885zM9.715 28.781l-6.495-6.496 1.676-1.676 1.851 1.851c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885l-1.851-1.851 2.724-2.724 3.008 3.008c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885l-3.008-3.008 2.724-2.724 1.851 1.851c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.52 0.521-1.364 0-1.885l-1.851-1.851 2.724-2.724 3.008 3.008c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.365 0-1.885l-3.008-3.008 1.677-1.677 6.496 6.496z"></path>\n</svg>\n';var sallaProductSizeGuideCss="";var SallaProductSizeGuide=function(){function e(e){var t=this;registerInstance(this,e);this.guides=undefined;this.productId=undefined;this.placeholder_title=undefined;this.placeholder_description=undefined;this.modal_title=undefined;this.hasError=false;salla.event.on("size-guide::open",(function(e){return t.open(e)}));salla.lang.onLoaded((function(){t.placeholder_title=salla.lang.get("pages.products.size_guide_placeholder");t.placeholder_description=salla.lang.get("pages.products.size_guide_placeholder_info");t.modal_title=salla.lang.get("pages.products.size_guides")}))}e.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(i){switch(i.label){case 0:this.modal.setTitle(this.modal_title);this.modal.open();return[4,salla.api.withoutNotifier((function(){return salla.product.getSizeGuides(e)})).then((function(e){t.guides=e.data})).catch((function(e){var i,n,a,r;console.log(e);t.hasError=true;t.placeholder_description=((a=(n=(i=e.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=e.response)===null||r===void 0?void 0:r.data)})).finally((function(){return t.modal.stopLoading()}))];case 1:return[2,i.sent()]}}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.modal.close()]}))}))};e.prototype.showPlaceholder=function(){return h("salla-placeholder",{alignment:"center",iconSize:"xl"},h("div",{slot:"title"},this.placeholder_title),h("div",{slot:"description"},this.placeholder_description))};e.prototype.render=function(){var e=this;return h("salla-modal",{class:"s-product-size-guide-wrapper",id:"salla-product-size-guide-modal",isLoading:true,"has-skeleton":true,width:"md",ref:function(t){return e.modal=t}},h("span",{slot:"icon",class:"s-product-size-guide-header-icon",innerHTML:PencilRuler}),h("div",{slot:"loading"},h("div",{class:"s-product-size-guide-skeleton"},h("salla-skeleton",{height:"15px",width:"25%"}),h("div",{class:"s-product-size-guide-skeleton-header"},h("salla-skeleton",{height:"40px"}),h("salla-skeleton",{height:"40px"}),h("salla-skeleton",{height:"40px"}),h("salla-skeleton",{height:"40px"})),h("div",{class:"s-product-size-guide-skeleton-content"},h("salla-skeleton",{height:"15px",width:"25%"}),h("salla-skeleton",{height:"10px",width:"75%"}),h("salla-skeleton",{height:"10px",width:"50%"}),h("salla-skeleton",{height:"10px",width:"75%"}),h("salla-skeleton",{height:"10px",width:"100%"}),h("salla-skeleton",{height:"10px",width:"25%"}),h("salla-skeleton",{height:"10px",width:"60%"}),h("salla-skeleton",{height:"10px",width:"45%"}),h("salla-skeleton",{height:"10px",width:"30%"})))),h("slot",{name:"header"}),!this.hasError&&!!this.guides?[h("salla-tabs",null,this.guides.map((function(e){return h("salla-tab-header",{slot:"header",name:e.name},h("span",null,e.name))})),this.guides.map((function(e){return h("salla-tab-content",{slot:"content",name:e.name},h("div",{innerHTML:e.description}))})))]:this.showPlaceholder(),h("slot",{name:"footer"}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaProductSizeGuide.style=sallaProductSizeGuideCss;var sallaProgressBarCss="";var SallaProgressBar=function(){function e(e){var t=this;registerInstance(this,e);this.donation=undefined;this.target=undefined;this.value=undefined;this.height="10px";this.header=undefined;this.stripped=undefined;this.message=undefined;this.unit=undefined;this.color=undefined;try{if(this.donation){var i=typeof this.donation=="string"?JSON.parse(this.donation):this.donation;if(i.can_donate&&i.target_amount){this.value=i.collected_amount;this.target=i.target_amount;this.header=salla.lang.get("pages.products.target");this.message=i.target_end_date=="0000-00-00"?"":salla.lang.get("pages.products.donation_target_date")+" "+i.target_end_date}else{this.message=i.target_amount?i.target_message:""}}}catch(e){salla.log("Wrong donation json")}salla.lang.onLoaded((function(){var e,i;t.header=(e=t.header)===null||e===void 0?void 0:e.replace("pages.products.target",salla.lang.get("pages.products.target"));t.message=(i=t.message)===null||i===void 0?void 0:i.replace("pages.products.donation_target_date",salla.lang.get("pages.products.donation_target_date"))}));salla.onReady((function(){t.color=t.color||salla.config.get("theme.color.primary","#ffd5c4");if(!t.unit){t.unit=salla.config.currency().symbol}}))}e.prototype.getPercentage=function(){return this.value/this.target*100};e.prototype.render=function(){if(!this.target&&!this.message){return""}return h("div",{class:"s-progress-bar-container"},this.header?h("div",{class:"s-progress-bar-header"},this.header):"",this.getProgressBar(),this.message?h("span",{class:"s-progress-bar-message"},this.message):"")};e.prototype.getProgressBar=function(){return this.target?[h("div",{class:"s-progress-bar-target-section"},h("span",null,salla.helpers.number(this.value)," ",this.unit),h("span",null,salla.helpers.number(this.target)," ",this.unit)),h("div",{class:"s-progress-bar-wrapper",style:{height:this.height}},h("div",{class:{"s-progress-bar-progress":true,"s-progress-bar-progress-stripped":this.stripped},style:{width:"".concat(this.getPercentage(),"%"),"background-color":this.color}}))]:""};return e}();SallaProgressBar.style=sallaProgressBarCss;var Add='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>add</title>\n<path d="M26.667 14.667h-9.333v-9.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333v9.333h-9.333c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333h9.333v9.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-9.333h9.333c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333z"></path>\n</svg>\n';var Minus='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>minus</title>\n<path d="M26.667 14.667h-21.333c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333h21.333c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333z"></path>\n</svg>\n';var sallaQuantityInputCss="";var SallaQuantityInput=function(){function e(e){registerInstance(this,e);this.hostAttributes={};this.hasIncrementSlot=false;this.hasDecrementSlot=false;this.didLoaded=false;this.quantity=1}e.prototype.watchPropHandler=function(){var e=this;if(!this.didLoaded){return}Helper.debounce((function(){return salla.document.event.fireEvent(e.textInput,"change",{bubbles:true})}))};e.prototype.componentWillLoad=function(){this.quantity=parseInt(this.host.getAttribute("value"))||1;this.hasIncrementSlot=!!this.host.querySelector('[slot="increment-button"]');this.hasDecrementSlot=!!this.host.querySelector('[slot="decrement-button"]')};e.prototype.componentDidLoad=function(){this.didLoaded=true;this.textInput.addEventListener("input",(function(e){return salla.helpers.inputDigitsOnly(e.target)}))};e.prototype.getInputAttributes=function(){for(var e=0;e<this.host.attributes.length;e++){if(!["id","value","min","class"].includes(this.host.attributes[e].name)){this.hostAttributes[this.host.attributes[e].name]=this.host.attributes[e].value}}return this.hostAttributes};e.prototype.decrease=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.setValue(this.quantity-1)]}))}))};e.prototype.increase=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.setValue(Number(this.quantity)+1)]}))}))};e.prototype.setValue=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(i){t=parseInt(this.host.getAttribute("max"));if(t&&e>t){e=t}if(e<=1){e=1}this.quantity=e;return[2,this.host]}))}))};e.prototype.render=function(){var e=this;return h(Host,{class:"s-quantity-input"},h("div",{class:"s-quantity-input-container"},h("button",{onClick:function(){return e.increase()},class:"s-quantity-input-increase-button s-quantity-input-button",type:"button"},!this.hasIncrementSlot?h("span",{innerHTML:Add}):"",h("slot",{name:"increment-button"})),h("input",Object.assign({class:"s-quantity-input-input"},this.getInputAttributes(),{ref:function(t){return e.textInput=t},onInput:function(t){return e.setValue(t.target.value)},min:"1",value:this.quantity})),h("button",{class:"s-quantity-input-decrease-button s-quantity-input-button",onClick:function(){return e.decrease()},type:"button"},!this.hasDecrementSlot?h("span",{innerHTML:Minus}):"",h("slot",{name:"decrement-button"}))))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{quantity:["watchPropHandler"]}},enumerable:false,configurable:true});return e}();SallaQuantityInput.style=sallaQuantityInputCss;var FullWallet='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>full-wallet</title>\n<path d="M29 12h-26c-0.668-0.008-1.284-0.226-1.787-0.59l0.009 0.006c-0.744-0.552-1.222-1.428-1.222-2.416 0-1.657 1.343-3 2.999-3h6c0.552 0 1 0.448 1 1s-0.448 1-1 1v0h-6c-0.552 0-1 0.448-1 1 0 0.326 0.156 0.616 0.397 0.798l0.002 0.002c0.167 0.12 0.374 0.194 0.599 0.2l0.001 0h26c0.552 0 1 0.448 1 1s-0.448 1-1 1v0zM27 12c-0.552 0-1-0.448-1-1v0-3h-3c-0.552 0-1-0.448-1-1s0.448-1 1-1v0h4c0.552 0 1 0.448 1 1v0 4c0 0.552-0.448 1-1 1v0zM29 30h-26c-1.657 0-3-1.343-3-3v0-18c0-0.552 0.448-1 1-1s1 0.448 1 1v0 18c0 0.552 0.448 1 1 1v0h25v-5c0-0.552 0.448-1 1-1s1 0.448 1 1v0 6c0 0.552-0.448 1-1 1v0zM29 18c-0.552 0-1-0.448-1-1v0-6c0-0.552 0.448-1 1-1s1 0.448 1 1v0 6c0 0.552-0.448 1-1 1v0zM31 24h-7c-2.209 0-4-1.791-4-4s1.791-4 4-4v0h7c0.552 0 1 0.448 1 1v0 6c0 0.552-0.448 1-1 1v0zM24 18c-1.105 0-2 0.895-2 2s0.895 2 2 2v0h6v-4zM25 12c-0.001 0-0.001 0-0.002 0-0.389 0-0.726-0.222-0.891-0.546l-0.003-0.006-3.552-7.106-2.306 1.152c-0.13 0.066-0.284 0.105-0.447 0.105-0.552 0-1-0.448-1-1 0-0.39 0.223-0.727 0.548-0.892l0.006-0.003 3.2-1.6c0.13-0.067 0.284-0.106 0.447-0.106 0.39 0 0.727 0.223 0.892 0.548l0.003 0.006 4 8c0.067 0.13 0.106 0.285 0.106 0.448 0 0.552-0.448 1-1 1v0zM21 12c-0.001 0-0.001 0-0.002 0-0.389 0-0.726-0.222-0.891-0.546l-0.003-0.006-3.552-7.106-15.104 7.552c-0.13 0.066-0.284 0.105-0.447 0.105-0.552 0-1-0.448-1-1 0-0.39 0.223-0.727 0.548-0.892l0.006-0.003 16-8c0.13-0.067 0.284-0.106 0.447-0.106 0.39 0 0.727 0.223 0.892 0.548l0.003 0.006 4 8c0.067 0.13 0.106 0.285 0.106 0.448 0 0.552-0.448 1-1 1-0.001 0-0.001 0-0.002 0h0z"></path>\n</svg>\n';var bind=function e(t,i){return function e(){var n=new Array(arguments.length);for(var a=0;a<n.length;a++){n[a]=arguments[a]}return t.apply(i,n)}};var toString=Object.prototype.toString;function isArray(e){return toString.call(e)==="[object Array]"}function isUndefined(e){return typeof e==="undefined"}function isBuffer(e){return e!==null&&!isUndefined(e)&&e.constructor!==null&&!isUndefined(e.constructor)&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString.call(e)==="[object ArrayBuffer]"}function isFormData(e){return typeof FormData!=="undefined"&&e instanceof FormData}function isArrayBufferView(e){var t;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){t=ArrayBuffer.isView(e)}else{t=e&&e.buffer&&e.buffer instanceof ArrayBuffer}return t}function isString(e){return typeof e==="string"}function isNumber(e){return typeof e==="number"}function isObject(e){return e!==null&&typeof e==="object"}function isPlainObject(e){if(toString.call(e)!=="[object Object]"){return false}var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function isDate(e){return toString.call(e)==="[object Date]"}function isFile(e){return toString.call(e)==="[object File]"}function isBlob(e){return toString.call(e)==="[object Blob]"}function isFunction(e){return toString.call(e)==="[object Function]"}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return typeof URLSearchParams!=="undefined"&&e instanceof URLSearchParams}function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){if(typeof navigator!=="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")){return false}return typeof window!=="undefined"&&typeof document!=="undefined"}function forEach(e,t){if(e===null||typeof e==="undefined"){return}if(typeof e!=="object"){e=[e]}if(isArray(e)){for(var i=0,n=e.length;i<n;i++){t.call(null,e[i],i,e)}}else{for(var a in e){if(Object.prototype.hasOwnProperty.call(e,a)){t.call(null,e[a],a,e)}}}}function merge(){var e={};function t(t,i){if(isPlainObject(e[i])&&isPlainObject(t)){e[i]=merge(e[i],t)}else if(isPlainObject(t)){e[i]=merge({},t)}else if(isArray(t)){e[i]=t.slice()}else{e[i]=t}}for(var i=0,n=arguments.length;i<n;i++){forEach(arguments[i],t)}return e}function extend(e,t,i){forEach(t,(function t(n,a){if(i&&typeof n==="function"){e[a]=bind(n,i)}else{e[a]=n}}));return e}function stripBOM(e){if(e.charCodeAt(0)===65279){e=e.slice(1)}return e}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function e(t,i,n){if(!i){return t}var a;if(n){a=n(i)}else if(utils.isURLSearchParams(i)){a=i.toString()}else{var r=[];utils.forEach(i,(function e(t,i){if(t===null||typeof t==="undefined"){return}if(utils.isArray(t)){i=i+"[]"}else{t=[t]}utils.forEach(t,(function e(t){if(utils.isDate(t)){t=t.toISOString()}else if(utils.isObject(t)){t=JSON.stringify(t)}r.push(encode(i)+"="+encode(t))}))}));a=r.join("&")}if(a){var o=t.indexOf("#");if(o!==-1){t=t.slice(0,o)}t+=(t.indexOf("?")===-1?"?":"&")+a}return t};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function e(t,i,n){this.handlers.push({fulfilled:t,rejected:i,synchronous:n?n.synchronous:false,runWhen:n?n.runWhen:null});return this.handlers.length-1};InterceptorManager.prototype.eject=function e(t){if(this.handlers[t]){this.handlers[t]=null}};InterceptorManager.prototype.forEach=function e(t){utils.forEach(this.handlers,(function e(i){if(i!==null){t(i)}}))};var InterceptorManager_1=InterceptorManager;var normalizeHeaderName=function e(t,i){utils.forEach(t,(function e(n,a){if(a!==i&&a.toUpperCase()===i.toUpperCase()){t[i]=n;delete t[a]}}))};var enhanceError=function e(t,i,n,a,r){t.config=i;if(n){t.code=n}t.request=a;t.response=r;t.isAxiosError=true;t.toJSON=function e(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}};return t};var createError=function e(t,i,n,a,r){var o=new Error(t);return enhanceError(o,i,n,a,r)};var settle=function e(t,i,n){var a=n.config.validateStatus;if(!n.status||!a||a(n.status)){t(n)}else{i(createError("Request failed with status code "+n.status,n.config,null,n.request,n))}};var cookies=utils.isStandardBrowserEnv()?function e(){return{write:function e(t,i,n,a,r,o){var s=[];s.push(t+"="+encodeURIComponent(i));if(utils.isNumber(n)){s.push("expires="+new Date(n).toGMTString())}if(utils.isString(a)){s.push("path="+a)}if(utils.isString(r)){s.push("domain="+r)}if(o===true){s.push("secure")}document.cookie=s.join("; ")},read:function e(t){var i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function e(t){this.write(t,"",Date.now()-864e5)}}}():function e(){return{write:function e(){},read:function e(){return null},remove:function e(){}}}();var isAbsoluteURL=function e(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};var combineURLs=function e(t,i){return i?t.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):t};var buildFullPath=function e(t,i){if(t&&!isAbsoluteURL(i)){return combineURLs(t,i)}return i};var ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];var parseHeaders=function e(t){var i={};var n;var a;var r;if(!t){return i}utils.forEach(t.split("\n"),(function e(t){r=t.indexOf(":");n=utils.trim(t.substr(0,r)).toLowerCase();a=utils.trim(t.substr(r+1));if(n){if(i[n]&&ignoreDuplicateOf.indexOf(n)>=0){return}if(n==="set-cookie"){i[n]=(i[n]?i[n]:[]).concat([a])}else{i[n]=i[n]?i[n]+", "+a:a}}}));return i};var isURLSameOrigin=utils.isStandardBrowserEnv()?function e(){var t=/(msie|trident)/i.test(navigator.userAgent);var i=document.createElement("a");var n;function a(e){var n=e;if(t){i.setAttribute("href",n);n=i.href}i.setAttribute("href",n);return{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}n=a(window.location.href);return function e(t){var i=utils.isString(t)?a(t):t;return i.protocol===n.protocol&&i.host===n.host}}():function e(){return function e(){return true}}();function Cancel(e){this.message=e}Cancel.prototype.toString=function e(){return"Cancel"+(this.message?": "+this.message:"")};Cancel.prototype.__CANCEL__=true;var Cancel_1=Cancel;var xhr=function e(t){return new Promise((function e(i,n){var a=t.data;var r=t.headers;var o=t.responseType;var s;function l(){if(t.cancelToken){t.cancelToken.unsubscribe(s)}if(t.signal){t.signal.removeEventListener("abort",s)}}if(utils.isFormData(a)){delete r["Content-Type"]}var c=new XMLHttpRequest;if(t.auth){var u=t.auth.username||"";var d=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.Authorization="Basic "+btoa(u+":"+d)}var p=buildFullPath(t.baseURL,t.url);c.open(t.method.toUpperCase(),buildURL(p,t.params,t.paramsSerializer),true);c.timeout=t.timeout;function f(){if(!c){return}var e="getAllResponseHeaders"in c?parseHeaders(c.getAllResponseHeaders()):null;var a=!o||o==="text"||o==="json"?c.responseText:c.response;var r={data:a,status:c.status,statusText:c.statusText,headers:e,config:t,request:c};settle((function e(t){i(t);l()}),(function e(t){n(t);l()}),r);c=null}if("onloadend"in c){c.onloadend=f}else{c.onreadystatechange=function e(){if(!c||c.readyState!==4){return}if(c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)){return}setTimeout(f)}}c.onabort=function e(){if(!c){return}n(createError("Request aborted",t,"ECONNABORTED",c));c=null};c.onerror=function e(){n(createError("Network Error",t,null,c));c=null};c.ontimeout=function e(){var i=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";var a=t.transitional||defaults_1.transitional;if(t.timeoutErrorMessage){i=t.timeoutErrorMessage}n(createError(i,t,a.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c));c=null};if(utils.isStandardBrowserEnv()){var h=(t.withCredentials||isURLSameOrigin(p))&&t.xsrfCookieName?cookies.read(t.xsrfCookieName):undefined;if(h){r[t.xsrfHeaderName]=h}}if("setRequestHeader"in c){utils.forEach(r,(function e(t,i){if(typeof a==="undefined"&&i.toLowerCase()==="content-type"){delete r[i]}else{c.setRequestHeader(i,t)}}))}if(!utils.isUndefined(t.withCredentials)){c.withCredentials=!!t.withCredentials}if(o&&o!=="json"){c.responseType=t.responseType}if(typeof t.onDownloadProgress==="function"){c.addEventListener("progress",t.onDownloadProgress)}if(typeof t.onUploadProgress==="function"&&c.upload){c.upload.addEventListener("progress",t.onUploadProgress)}if(t.cancelToken||t.signal){s=function(e){if(!c){return}n(!e||e&&e.type?new Cancel_1("canceled"):e);c.abort();c=null};t.cancelToken&&t.cancelToken.subscribe(s);if(t.signal){t.signal.aborted?s():t.signal.addEventListener("abort",s)}}if(!a){a=null}c.send(a)}))};var DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){if(!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])){e["Content-Type"]=t}}function getDefaultAdapter(){var e;if(typeof XMLHttpRequest!=="undefined"){e=xhr}else if(typeof process!=="undefined"&&Object.prototype.toString.call(process)==="[object process]"){e=xhr}return e}function stringifySafely(e,t,i){if(utils.isString(e)){try{(t||JSON.parse)(e);return utils.trim(e)}catch(e){if(e.name!=="SyntaxError"){throw e}}}return(i||JSON.stringify)(e)}var defaults={transitional:{silentJSONParsing:true,forcedJSONParsing:true,clarifyTimeoutError:false},adapter:getDefaultAdapter(),transformRequest:[function e(t,i){normalizeHeaderName(i,"Accept");normalizeHeaderName(i,"Content-Type");if(utils.isFormData(t)||utils.isArrayBuffer(t)||utils.isBuffer(t)||utils.isStream(t)||utils.isFile(t)||utils.isBlob(t)){return t}if(utils.isArrayBufferView(t)){return t.buffer}if(utils.isURLSearchParams(t)){setContentTypeIfUnset(i,"application/x-www-form-urlencoded;charset=utf-8");return t.toString()}if(utils.isObject(t)||i&&i["Content-Type"]==="application/json"){setContentTypeIfUnset(i,"application/json");return stringifySafely(t)}return t}],transformResponse:[function e(t){var i=this.transitional||defaults.transitional;var n=i&&i.silentJSONParsing;var a=i&&i.forcedJSONParsing;var r=!n&&this.responseType==="json";if(r||a&&utils.isString(t)&&t.length){try{return JSON.parse(t)}catch(e){if(r){if(e.name==="SyntaxError"){throw enhanceError(e,this,"E_JSON_PARSE")}throw e}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function e(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function e(t){defaults.headers[t]={}}));utils.forEach(["post","put","patch"],(function e(t){defaults.headers[t]=utils.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults;var transformData=function e(t,i,n){var a=this||defaults_1;utils.forEach(n,(function e(n){t=n.call(a,t,i)}));return t};var isCancel=function e(t){return!!(t&&t.__CANCEL__)};function throwIfCancellationRequested(e){if(e.cancelToken){e.cancelToken.throwIfRequested()}if(e.signal&&e.signal.aborted){throw new Cancel_1("canceled")}}var dispatchRequest=function e(t){throwIfCancellationRequested(t);t.headers=t.headers||{};t.data=transformData.call(t,t.data,t.headers,t.transformRequest);t.headers=utils.merge(t.headers.common||{},t.headers[t.method]||{},t.headers);utils.forEach(["delete","get","head","post","put","patch","common"],(function e(i){delete t.headers[i]}));var i=t.adapter||defaults_1.adapter;return i(t).then((function e(i){throwIfCancellationRequested(t);i.data=transformData.call(t,i.data,i.headers,t.transformResponse);return i}),(function e(i){if(!isCancel(i)){throwIfCancellationRequested(t);if(i&&i.response){i.response.data=transformData.call(t,i.response.data,i.response.headers,t.transformResponse)}}return Promise.reject(i)}))};var mergeConfig=function e(t,i){i=i||{};var n={};function a(e,t){if(utils.isPlainObject(e)&&utils.isPlainObject(t)){return utils.merge(e,t)}else if(utils.isPlainObject(t)){return utils.merge({},t)}else if(utils.isArray(t)){return t.slice()}return t}function r(e){if(!utils.isUndefined(i[e])){return a(t[e],i[e])}else if(!utils.isUndefined(t[e])){return a(undefined,t[e])}}function o(e){if(!utils.isUndefined(i[e])){return a(undefined,i[e])}}function s(e){if(!utils.isUndefined(i[e])){return a(undefined,i[e])}else if(!utils.isUndefined(t[e])){return a(undefined,t[e])}}function l(e){if(e in i){return a(t[e],i[e])}else if(e in t){return a(undefined,t[e])}}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};utils.forEach(Object.keys(t).concat(Object.keys(i)),(function e(t){var i=c[t]||r;var a=i(t);utils.isUndefined(a)&&i!==l||(n[t]=a)}));return n};var data$1={version:"0.23.0"};var VERSION=data$1.version;var validators$1={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){validators$1[e]=function i(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var deprecatedWarnings={};validators$1.transitional=function e(t,i,n){function a(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(e,n,r){if(t===false){throw new Error(a(n," has been removed"+(i?" in "+i:"")))}if(i&&!deprecatedWarnings[n]){deprecatedWarnings[n]=true;console.warn(a(n," has been deprecated since v"+i+" and will be removed in the near future"))}return t?t(e,n,r):true}};function assertOptions(e,t,i){if(typeof e!=="object"){throw new TypeError("options must be an object")}var n=Object.keys(e);var a=n.length;while(a-- >0){var r=n[a];var o=t[r];if(o){var s=e[r];var l=s===undefined||o(s,r,e);if(l!==true){throw new TypeError("option "+r+" must be "+l)}continue}if(i!==true){throw Error("Unknown option "+r)}}}var validator={assertOptions:assertOptions,validators:validators$1};var validators=validator.validators;function Axios(e){this.defaults=e;this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function e(t){if(typeof t==="string"){t=arguments[1]||{};t.url=arguments[0]}else{t=t||{}}t=mergeConfig(this.defaults,t);if(t.method){t.method=t.method.toLowerCase()}else if(this.defaults.method){t.method=this.defaults.method.toLowerCase()}else{t.method="get"}var i=t.transitional;if(i!==undefined){validator.assertOptions(i,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},false)}var n=[];var a=true;this.interceptors.request.forEach((function e(i){if(typeof i.runWhen==="function"&&i.runWhen(t)===false){return}a=a&&i.synchronous;n.unshift(i.fulfilled,i.rejected)}));var r=[];this.interceptors.response.forEach((function e(t){r.push(t.fulfilled,t.rejected)}));var o;if(!a){var s=[dispatchRequest,undefined];Array.prototype.unshift.apply(s,n);s=s.concat(r);o=Promise.resolve(t);while(s.length){o=o.then(s.shift(),s.shift())}return o}var l=t;while(n.length){var c=n.shift();var u=n.shift();try{l=c(l)}catch(e){u(e);break}}try{o=dispatchRequest(l)}catch(e){return Promise.reject(e)}while(r.length){o=o.then(r.shift(),r.shift())}return o};Axios.prototype.getUri=function e(t){t=mergeConfig(this.defaults,t);return buildURL(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};utils.forEach(["delete","get","head","options"],(function e(t){Axios.prototype[t]=function(e,i){return this.request(mergeConfig(i||{},{method:t,url:e,data:(i||{}).data}))}}));utils.forEach(["post","put","patch"],(function e(t){Axios.prototype[t]=function(e,i,n){return this.request(mergeConfig(n||{},{method:t,url:e,data:i}))}}));var Axios_1=Axios;function CancelToken(e){if(typeof e!=="function"){throw new TypeError("executor must be a function.")}var t;this.promise=new Promise((function e(i){t=i}));var i=this;this.promise.then((function(e){if(!i._listeners)return;var t;var n=i._listeners.length;for(t=0;t<n;t++){i._listeners[t](e)}i._listeners=null}));this.promise.then=function(e){var t;var n=new Promise((function(e){i.subscribe(e);t=e})).then(e);n.cancel=function e(){i.unsubscribe(t)};return n};e((function e(n){if(i.reason){return}i.reason=new Cancel_1(n);t(i.reason)}))}CancelToken.prototype.throwIfRequested=function e(){if(this.reason){throw this.reason}};CancelToken.prototype.subscribe=function e(t){if(this.reason){t(this.reason);return}if(this._listeners){this._listeners.push(t)}else{this._listeners=[t]}};CancelToken.prototype.unsubscribe=function e(t){if(!this._listeners){return}var i=this._listeners.indexOf(t);if(i!==-1){this._listeners.splice(i,1)}};CancelToken.source=function e(){var t;var i=new CancelToken((function e(i){t=i}));return{token:i,cancel:t}};var CancelToken_1=CancelToken;var spread=function e(t){return function e(i){return t.apply(null,i)}};var isAxiosError=function e(t){return typeof t==="object"&&t.isAxiosError===true};function createInstance(e){var t=new Axios_1(e);var i=bind(Axios_1.prototype.request,t);utils.extend(i,Axios_1.prototype,t);utils.extend(i,t);i.create=function t(i){return createInstance(mergeConfig(e,i))};return i}var axios$1=createInstance(defaults_1);axios$1.Axios=Axios_1;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel;axios$1.VERSION=data$1.version;axios$1.all=function e(t){return Promise.all(t)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;var axios_1=axios$1;var _default=axios$1;axios_1.default=_default;var axios=axios_1;var Http={request:function(e,t,i,n,a){if(n===void 0){n=null}if(a===void 0){a=null}return axios.request({url:t,data:i,method:e.toLowerCase(),responseType:"json"}).then(n).catch(a)},get:function(e,t,i,n){if(t===void 0){t=null}if(i===void 0){i=null}return axios.get(e,{params:n}).then(t).catch(i)},post:function(e,t,i,n){if(i===void 0){i=null}if(n===void 0){n=null}return this.request("post",e,t,i,n)},put:function(e,t,i,n){if(i===void 0){i=null}if(n===void 0){n=null}return this.request("put",e,t,i,n)},delete:function(e,t,i,n){if(i===void 0){i=null}if(n===void 0){n=null}return this.request("delete",e,t,i,n)},requestWithSupportAjax:function(e,t,i){var n=this;if(i===void 0){i="post"}return new Promise((function(a,r){if(!(window===null||window===void 0?void 0:window.isLegacyTheme)){return n.request(i,e,t,(function(e){var t=e.data;return a(t)}),(function(e){var t=e.response;return r(t)}))}$.ajax({url:e,method:i.toUpperCase(),data:t,async:false,success:function(e){var t=e.data;return a(t)},error:function(e){var t=e.response;return r(t)}})}))}};var DetectOS={options:[],header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],init:function(){var e=this.header.join(" "),t=this.matchItem(e,this.dataos),i=this.matchItem(e,this.databrowser);return{os:t,browser:i}},matchItem:function(e,t){var i=0,n=0,a,r,o,s,l;for(i=0;i<t.length;i+=1){a=new RegExp(t[i].value,"i");o=a.test(e);if(o){r=new RegExp(t[i].version+"[- /:;]([\\d._]+)","i");s=e.match(r);l="";if(s){if(s[1]){s=s[1]}}if(s){s=s.split(/[._]+/);for(n=0;n<s.length;n+=1){if(n===0){l+=s[n]+"."}else{l+=s[n]}}}else{l="0"}return{name:t[i].name,version:parseFloat(l)}}}return{name:"unknown",version:0}}};window.Salla=window.Salla||{};window.Salla.Payments=window.Salla.Payments||{};window.SallaApplePay={session:null,detail:null,address_id:null,shipping_methods:[],total:undefined,request:undefined,id:undefined,init:function(){document.removeEventListener("payments::apple-pay.start-transaction",SallaApplePay.startSession);Salla.event.addEventListener("payments::apple-pay.start-transaction",SallaApplePay.startSession)},initDefault:function(){if(!SallaApplePay.detail.onError){SallaApplePay.detail.onError=function(e){salla.notify.error(e)}}if(!SallaApplePay.detail.authorized.onFailed){SallaApplePay.detail.authorized.onFailed=function(e){salla.logger.log(JSON.stringify(e));salla.api.handleErrorResponse(e);SallaApplePay.onCancel({},e.data.error.message)}}if(!SallaApplePay.detail.validateMerchant.onFailed){SallaApplePay.detail.validateMerchant.onFailed=function(e){salla.logger.log(JSON.stringify(e));salla.api.handleErrorResponse(e);SallaApplePay.onCancel({},e.data.error.message)}}if(!SallaApplePay.detail.authorized.onSuccess){SallaApplePay.detail.authorized.onSuccess=function(e){salla.logger.log(JSON.stringify(e));salla.api.handleAfterResponseActions(e)}}},prepareLineItems:function(){var e,t;if(!((t=(e=SallaApplePay.detail)===null||e===void 0?void 0:e.items)===null||t===void 0?void 0:t.length)){SallaApplePay.detail.items=[{label:salla.lang.get("pages.cart.items_total"),amount:SallaApplePay.detail.amount}]}return SallaApplePay.detail.items},prepareTotal:function(){return{label:window.location.hostname||"Salla",amount:SallaApplePay.detail.amount}},startSession:function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){SallaApplePay.detail=e.detail||e;salla.log("🍏 Pay: payments::apple-pay.start-transaction",SallaApplePay.detail);SallaApplePay.initDefault();t=SallaApplePay.getApplePaySessionVersion();i=SallaApplePay.detail.supportedNetworks||["masterCard","visa"];if(t===5){i.push("mada")}SallaApplePay.request={countryCode:"SA",supportsCouponCode:true,couponCode:"",currencyCode:SallaApplePay.detail.currency||"SAR",requiredShippingContactFields:SallaApplePay.detail.requiredShippingContactFields?SallaApplePay.detail.requiredShippingContactFields:[],merchantCapabilities:["supports3DS"],supportedNetworks:i,supportedCountries:SallaApplePay.detail.supportedCountries||["SA"],total:SallaApplePay.prepareTotal(),shippingContact:SallaApplePay.detail.shippingContact?SallaApplePay.detail.shippingContact:{},shippingMethods:SallaApplePay.detail.shippingMethods&&SallaApplePay.detail.shippingMethods.length?SallaApplePay.mappingShippingMethods(e.detail.shippingMethods):[],lineItems:SallaApplePay.prepareLineItems()};salla.log("🍏 Pay: init ",SallaApplePay.request);SallaApplePay.session=new ApplePaySession(t,SallaApplePay.request);SallaApplePay.session.onshippingcontactselected=SallaApplePay.onShippingContactSelected;SallaApplePay.session.onshippingmethodselected=SallaApplePay.onShippingMethodSelected;SallaApplePay.session.onvalidatemerchant=SallaApplePay.onValidateMerchant;SallaApplePay.session.onpaymentauthorized=SallaApplePay.onPaymentAuthorized;SallaApplePay.session.oncancel=SallaApplePay.onCancel;SallaApplePay.session.oncouponcodechanged=SallaApplePay.oncouponcodechanged;SallaApplePay.session.begin();return[2]}))}))},oncouponcodechanged:function(e){var t=this;Salla.event.dispatch("payments::apple-pay.coupon.change",e);return Http.post(SallaApplePay.detail.oncouponcodechanged.url.replace("{id}",SallaApplePay.id),{coupon:e.couponCode,payment_method:"apple_pay"},(function(e){var i=e.data;return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:if(typeof SallaApplePay.detail.oncouponcodechanged.onSuccess==="function"){SallaApplePay.detail.oncouponcodechanged.onSuccess(i)}salla.log("🍏 Pay: Coupon applied success");return[4,SallaApplePay.recalculateTotal()];case 1:e.sent();SallaApplePay.session.completeCouponCodeChange({newTotal:SallaApplePay.prepareTotal(),newLineItems:SallaApplePay.prepareLineItems()});return[2]}}))}))}),(function(e){return __awaiter(t,void 0,void 0,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:t=e===null||e===void 0?void 0:e.response;Salla.event.dispatch("payments::apple-pay.coupon.failed",t);if(typeof SallaApplePay.detail.oncouponcodechanged.onFailed==="function"){SallaApplePay.detail.oncouponcodechanged.onFailed(t)}return[4,SallaApplePay.recalculateTotal()];case 1:i.sent();SallaApplePay.session.completeCouponCodeChange({newTotal:SallaApplePay.prepareTotal(),newLineItems:SallaApplePay.prepareLineItems(),errors:[new window.ApplePayError("couponCodeInvalid")]});return[2]}}))}))}))},onCancel:function(e,t){if(e===void 0){e={}}if(t===void 0){t=null}SallaApplePay.detail.onError(t||salla.lang.get("pages.checkout.payment_failed"));Salla.event.createAndDispatch("payments::apple-pay.canceled",e)},onPaymentAuthorized:function(e){salla.logger.log("🍏 Pay: onPaymentAuthorized",e.payment);Salla.event.dispatch("payments::apple-pay.authorized.init",e);Http.post(SallaApplePay.detail.authorized.url.replace("{id}",SallaApplePay.id),{payment_method:"apple_pay",applepay_token:JSON.stringify(e.payment)},(function(e){var t=e.data;Salla.event.dispatch("payments::apple-pay.authorized.success",t);SallaApplePay.session.completePayment(ApplePaySession.STATUS_SUCCESS);if(typeof SallaApplePay.detail.authorized.onSuccess==="function"){SallaApplePay.detail.authorized.onSuccess(t)}}),(function(e){var t,i,n,a;var r=e===null||e===void 0?void 0:e.response;Salla.event.dispatch("payments::apple-pay.authorized.failed",r);SallaApplePay.session.completePayment({status:ApplePaySession.STATUS_FAILURE,errors:[new ApplePayError("unknown",undefined,((i=(t=r===null||r===void 0?void 0:r.data)===null||t===void 0?void 0:t.error)===null||i===void 0?void 0:i.message)||((a=(n=r===null||r===void 0?void 0:r.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.code)||"Failed to parse authorized response")]});if(typeof SallaApplePay.detail.authorized.onFailed==="function"){SallaApplePay.detail.authorized.onFailed(r)}}))},onValidateMerchant:function(e){Salla.event.dispatch("payments::apple-pay.validate-merchant.init",e);Http.post(SallaApplePay.detail.validateMerchant.url.replace("{id}",SallaApplePay.id),{validation_url:e.validationURL},(function(e){var t=e.data;Salla.event.dispatch("payments::apple-pay.validate-merchant.success",t);if(typeof SallaApplePay.detail.validateMerchant.onSuccess==="function"){SallaApplePay.detail.validateMerchant.onSuccess(t).then((function(e){if(e===null||e===void 0?void 0:e.redirect){window.location=e.redirect;return SallaApplePay.abortValidateMerchant(e)}SallaApplePay.session.completeMerchantValidation(t.data)})).catch((function(e){SallaApplePay.abortValidateMerchant(e)}))}else{SallaApplePay.session.completeMerchantValidation(t.data)}}),(function(e){var t=e.response;SallaApplePay.abortValidateMerchant(t)}))},abortValidateMerchant:function(e){if(e===void 0){e=null}SallaApplePay.abortSession();Salla.event.dispatch("payments::apple-pay.validate-merchant.failed",e);if(typeof SallaApplePay.detail.validateMerchant.onFailed==="function"){SallaApplePay.detail.validateMerchant.onFailed(e)}},onShippingContactSelected:function(e){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){salla.logger.log("🍏 Pay: onShippingContactSelected",e.shippingContact);if(!SallaApplePay.detail.requiredShippingContactFields){return[2]}return[2,Http.post(SallaApplePay.detail.shippingContactSelected.url.replace("{id}",SallaApplePay.id),{country:e.shippingContact.country,city:e.shippingContact.locality,local:e.shippingContact.subLocality,description:e.shippingContact.subAdministrativeArea,street:e.shippingContact.administrativeArea,country_code:e.shippingContact.countryCode,postal_code:e.shippingContact.postalCode},(function(e){var t=e.data;return __awaiter(void 0,void 0,void 0,(function(){var e,i;return __generator(this,(function(n){switch(n.label){case 0:if(typeof SallaApplePay.detail.shippingContactSelected.onSuccess==="function"){SallaApplePay.detail.shippingContactSelected.onSuccess(t)}SallaApplePay.address_id=t.data.address_id;SallaApplePay.shipping_methods=t.data.shipping_methods;if(!SallaApplePay.shipping_methods||SallaApplePay.shipping_methods&&!SallaApplePay.shipping_methods.length){salla.logger.warn("🍏 Pay: We dont found any supported methods",t);return[2,SallaApplePay.session.completeShippingContactSelection({status:SallaApplePay.session.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,errors:[new window.ApplePayError("addressUnserviceable")]})]}n.label=1;case 1:n.trys.push([1,3,,4]);return[4,SallaApplePay.selectApplePayShippingMethod(SallaApplePay.shipping_methods[0]["ship_id"],SallaApplePay.shipping_methods[0]["private_ship_id"])];case 2:n.sent();return[3,4];case 3:e=n.sent();salla.logger.warn("Failed set the shipping details to api",e);return[2,SallaApplePay.session.completeShippingContactSelection({status:SallaApplePay.session.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,errors:[new window.ApplePayError("addressUnserviceable")]})];case 4:n.trys.push([4,6,,7]);return[4,SallaApplePay.recalculateTotal()];case 5:n.sent();return[3,7];case 6:i=n.sent();salla.logger.warn("🍏 Pay: Failed recalculate total",i);return[2,SallaApplePay.session.completeShippingContactSelection({status:SallaApplePay.session.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,errors:[new window.ApplePayError("addressUnserviceable")]})];case 7:SallaApplePay.session.completeShippingContactSelection({newTotal:SallaApplePay.prepareTotal(),newLineItems:SallaApplePay.prepareLineItems(),newShippingMethods:SallaApplePay.mappingShippingMethods(SallaApplePay.shipping_methods)});return[2]}}))}))}),(function(e){var t,i,n,a,r,o;var s=e.response;salla.logger.warn("🍏 Pay: Failed add address via api",s);if(typeof SallaApplePay.detail.shippingContactSelected.onFailed==="function"){SallaApplePay.detail.shippingContactSelected.onFailed(s)}var l=(i=(t=s===null||s===void 0?void 0:s.data)===null||t===void 0?void 0:t.error)===null||i===void 0?void 0:i.fields;var c=[];if(l===null||l===void 0?void 0:l.country_code){c.push(new window.ApplePayError("shippingContactInvalid","countryCode",l===null||l===void 0?void 0:l.country_code[0]))}if(l===null||l===void 0?void 0:l.city){c.push(new window.ApplePayError("shippingContactInvalid","locality",l===null||l===void 0?void 0:l.city[0]))}if(l===null||l===void 0?void 0:l.country){c.push(new window.ApplePayError("shippingContactInvalid","country",l===null||l===void 0?void 0:l.country[0]))}if(c.length===0&&((a=(n=s===null||s===void 0?void 0:s.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)){c.push(new window.ApplePayError("shippingContactInvalid","locality",(o=(r=s===null||s===void 0?void 0:s.data)===null||r===void 0?void 0:r.error)===null||o===void 0?void 0:o.message))}SallaApplePay.session.completeShippingContactSelection({newTotal:SallaApplePay.prepareTotal(),newLineItems:SallaApplePay.prepareLineItems(),status:SallaApplePay.session.STATUS_INVALID_SHIPPING_POSTAL_ADDRESS,errors:c})}))]}))}))},onShippingMethodSelected:function(e){return __awaiter(void 0,void 0,void 0,(function(){var t,i;return __generator(this,(function(n){switch(n.label){case 0:salla.logger.log(e);t=e.shippingMethod.identifier.split(",");n.label=1;case 1:n.trys.push([1,4,,5]);return[4,SallaApplePay.selectApplePayShippingMethod(t[0],typeof t[1]==="undefined"?null:t[1])];case 2:n.sent();return[4,SallaApplePay.recalculateTotal()];case 3:n.sent();SallaApplePay.session.completeShippingMethodSelection({newTotal:SallaApplePay.prepareTotal(),newLineItems:SallaApplePay.prepareLineItems()});return[3,5];case 4:i=n.sent();salla.logger.warn("🍏 Pay: Failed set the shipping details to api",i);SallaApplePay.abortSession();return[3,5];case 5:return[2]}}))}))},abortSession:function(){if(SallaApplePay.session){SallaApplePay.session.abort()}},getApplePaySessionVersion:function(){var e=navigator.userAgent||navigator.vendor||window.opera;if(e==="sallapp"){return 5}var t=DetectOS.init();var i=parseFloat(t.os.version);if(t.os.name==="Macintosh"){if(i<10.142){return 1}}else{if(i<12.11){return 1}}return 5},recalculateTotal:function(){salla.logger.log("Recalculate Total");return Http.requestWithSupportAjax(SallaApplePay.detail.recalculateTotal.url.replace("{id}",SallaApplePay.id),{},"get").then((function(e){console.log(e);SallaApplePay.detail.amount=e.data.initial_data.cart.total;SallaApplePay.detail.items=e.data.initial_data.cart.items.map((function(e){return{label:e.title,amount:e.amount==="مجاني"?0:e.amount.toString().replace("+","")}}));SallaApplePay.detail.items.pop();return e})).catch((function(e){var t,i;salla.logger.warn("🍏 Pay: recalculate total failed",e);return(i=(t=e===null||e===void 0?void 0:e.response)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.message}))},selectApplePayShippingMethod:function(e,t){salla.logger.log("🍏 Pay: select shipping method ","company_id : "+e,"private_company_id: "+t);return Http.requestWithSupportAjax(SallaApplePay.detail.shippingMethodSelected.url.replace("{id}",SallaApplePay.id),{address_id:SallaApplePay.address_id,company_id:e,private_company_id:t,payment_method:"apple_pay"},"post").then((function(){if(typeof SallaApplePay.detail.shippingMethodSelected.onSuccess==="function"){SallaApplePay.detail.shippingMethodSelected.onSuccess(data)}return true})).catch((function(e){var t,i,n,a,r,o,s;salla.logger.warn("🍏 Pay: Set shipping method failed",e);if(typeof SallaApplePay.detail.shippingMethodSelected.onFailed==="function"){SallaApplePay.detail.shippingMethodSelected.onFailed(e)}var l=(i=(t=e===null||e===void 0?void 0:e.response)===null||t===void 0?void 0:t.data)===null||i===void 0?void 0:i.error;if((a=(n=l===null||l===void 0?void 0:l.data)===null||n===void 0?void 0:n.fields)===null||a===void 0?void 0:a.address_id){return(o=(r=l===null||l===void 0?void 0:l.data)===null||r===void 0?void 0:r.fields)===null||o===void 0?void 0:o.address_id[0]}return(s=l===null||l===void 0?void 0:l.data)===null||s===void 0?void 0:s.message}))},mappingShippingMethods:function(e){return e.map((function(e){return{label:e.shipping_title,amount:e.enable_free_shipping?0:e.ship_cost,detail:"",identifier:e.ship_id.toString()+(e.private_ship_id?","+e.private_ship_id.toString():"")}}))}};if(window.ApplePaySession&&window.self===window.top&&ApplePaySession.canMakePayments()){SallaApplePay.init()}else{document.querySelectorAll("data-show-if-apple-pay-supported").forEach((function(e){return e.style.display="none"}))}var sallaQuickBuyCss=".s-quick-buy-button .s-button-text{display:-ms-flexbox;display:flex}apple-pay-button{--apple-pay-button-width:100%;--apple-pay-button-height:40px;--apple-pay-button-border-radius:7px;--apple-pay-button-padding:0px 5px;--apple-pay-button-box-sizing:content-box}";var SallaQuickBuy=function(){function e(e){var t=this;registerInstance(this,e);this.type="buy";this.productId=undefined;this.amount=undefined;this.currency=undefined;this.options={};this.isRequireShipping=undefined;this.isApplePayActive=undefined;this.quickBuy=salla.lang.get("pages.products.buy_now");salla.lang.onLoaded((function(){t.quickBuy=salla.lang.get("pages.products.buy_now")}))}e.prototype.quickBuyHandler=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i;var n=this;return __generator(this,(function(a){switch(a.label){case 0:if(salla.config.isGuest()){return[2,salla.auth.event.dispatch("login::open")]}e=document.querySelector('salla-product-options[product-id="'.concat(this.productId,'"]'));t=e;if(!t)return[3,2];return[4,e.reportValidity()];case 1:t=!a.sent();a.label=2;case 2:if(t){return[2,salla.error(salla.lang.get("common.messages.required_fields"))]}i=this.host.getElementSallaData();if(!this.isApplePayActive){return[2,salla.api.request("checkout/quick-purchase/"+this.productId,i,"post").then((function(e){if(e.data.redirect){window.location.href=e.data.redirect}return e}))]}i.is_applepay=true;if("append"in i){i.append("is_applepay",true)}salla.event.dispatch("payments::apple-pay.start-transaction",{amount:this.amount,currency:this.currency||"SAR",requiredShippingContactFields:this.isRequireShipping?["postalAddress"]:null,shippingMethods:this.isRequireShipping?[]:null,supportedNetworks:salla.config.get("store.settings.buy_now.networks"),supportedCountries:salla.config.get("store.settings.buy_now.countries"),validateMerchant:{url:salla.url.get("checkout/applepay/validate"),onSuccess:function(){return salla.api.request("checkout/quick-purchase/"+n.productId,typeof i=="object"?i:undefined,"post",{}).then((function(e){var t,i;if((t=e===null||e===void 0?void 0:e.data)===null||t===void 0?void 0:t.redirect){salla.log("🍏 Pay: create checkout success: redirect exits, go to checkout page");window.location.href=e.data.redirect.url;return e}if(!((i=e===null||e===void 0?void 0:e.data)===null||i===void 0?void 0:i.id)){salla.logger.warn("🍏 Pay: create checkout success: No id, or redirect");return e}window.SallaApplePay.id=e.data.id||e.data.data.id;salla.log("🍏 Pay: create checkout success: with id #"+window.SallaApplePay.id)}))}},authorized:{url:salla.url.get("checkout/{id}/payments/submit"),onFailed:function(e){var t,i,n,a;window.SallaApplePay.onCancel({},((i=(t=e===null||e===void 0?void 0:e.data)===null||t===void 0?void 0:t.error)===null||i===void 0?void 0:i.message)||((a=(n=e===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.code)||salla.lang.get("pages.checkout.payment_failed"))},onSuccess:function(e){window.location.href=e.redirect.url;salla.log("🍏 Pay: authorized Success:: redirect to thank you page, order placed")}},shippingMethodSelected:this.isRequireShipping?{url:salla.url.get("checkout/{id}/shipping/details")}:null,shippingContactSelected:this.isRequireShipping?{url:salla.url.get("checkout/{id}/address/add")}:null,oncouponcodechanged:{url:salla.url.get("checkout/{id}/coupons")},recalculateTotal:{url:salla.url.get("checkout/{id}/payments/recalculate")},onError:function(e){salla.log(e);salla.notify.error(e)}});return[2]}}))}))};e.prototype.componentWillLoad=function(){var e=this;return new Promise((function(t,i){salla.onReady((function(){return __awaiter(e,void 0,void 0,(function(){var e,n,a,r,o;var s=this;return __generator(this,(function(l){switch(l.label){case 0:if(!this.productId&&salla.config.get("page.id")){this.productId=salla.config.get("page.id")}if(!this.productId){salla.logger.warn("🍏 Pay: Failed load the quick buy, the product id is missing");return[2,i()]}if(!(!this.amount&&this.productId))return[3,2];return[4,salla.product.getDetails(this.productId,[]).then((function(e){var t;s.amount=e.data.base_currency_price.amount;s.currency=e.data.base_currency_price.currency;s.isRequireShipping=((t=e===null||e===void 0?void 0:e.data)===null||t===void 0?void 0:t.is_require_shipping)||false})).catch((function(e){salla.logger.warn("🍏 Pay: Failed load the quick buy, get the product details failed: ",e);return i()}))];case 1:l.sent();l.label=2;case 2:if(salla.url.is_page("product.single")){salla.product.event.onPriceUpdated((function(e){s.amount=e.data.base_currency_price.amount;s.currency=e.data.base_currency_price.currency}))}a=window.self===window.top;this.isApplePayActive=a&&((e=window.ApplePaySession)===null||e===void 0?void 0:e.canMakePayments())&&((n=salla.config.get("store.settings.payments"))===null||n===void 0?void 0:n.includes("apple_pay"));r=document.getElementById("apple-pay-sdk");if(r||!this.isApplePayActive){salla.logger.warn("🍏 Pay: Skipped load apple pay because "+(r?"already loaded":a?"is not available in the browser":"is iframe"));t(true);return[2]}o=document.createElement("script");o.src="https://applepay.cdn-apple.com/jsapi/v1/apple-pay-sdk.js";o.setAttribute("id","apple-pay-sdk");o.async=true;document.body.appendChild(o);t(true);return[2]}}))}))}))}))};e.prototype.render=function(){return h(Host,null,this.quickBuyButton())};e.prototype.quickBuyButton=function(){var e=this;return this.isApplePayActive?h("apple-pay-button",{locale:salla.config.get("user.language_code"),onClick:function(){return e.quickBuyHandler()},"data-quick-purchase":"applepay",class:"s-quick-buy-apple-pay","data-is-applepay":"1",buttonstyle:"black",type:this.type}):h("salla-button",{onClick:function(){return e.quickBuyHandler()},class:"s-quick-buy-button",color:"primary",fill:"outline",size:"medium",width:"wide",shape:"btn"},h("span",{innerHTML:FullWallet}),this.quickBuy)};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaQuickBuy.style=sallaQuickBuyCss;var CelebrationIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>party-horn</title>\n<path fill="currentColor" d="M5.333 4.013c0.736 0 1.333-0.596 1.333-1.333v-0.013c0-0.737-0.597-1.327-1.333-1.327s-1.333 0.603-1.333 1.34 0.597 1.333 1.333 1.333zM11.333 10c0.341 0 0.683-0.131 0.943-0.391 1.541-1.54 2.391-3.589 2.391-5.771v-2.505c0-0.737-0.597-1.333-1.333-1.333s-1.333 0.596-1.333 1.333v2.505c0 1.468-0.572 2.848-1.609 3.885-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391zM18.667 9.993c0.319 0 0.639-0.115 0.895-0.345 0.383-0.347 0.684-0.325 1.497-0.22 0.923 0.124 2.319 0.307 3.636-0.887 1.293-1.172 1.303-2.54 1.308-3.539 0.005-0.887 0.043-1.228 0.432-1.581 0.361-0.327 0.621-0.335 1.493-0.216 0.923 0.12 2.317 0.307 3.635-0.884 0.545-0.495 0.587-1.337 0.093-1.883-0.493-0.547-1.336-0.589-1.884-0.093-0.361 0.325-0.621 0.333-1.493 0.216-0.921-0.119-2.317-0.305-3.635 0.884-1.293 1.173-1.303 2.541-1.308 3.54-0.005 0.885-0.043 1.227-0.432 1.58-0.383 0.348-0.683 0.327-1.497 0.22-0.924-0.124-2.32-0.305-3.636 0.887-0.545 0.495-0.587 1.339-0.092 1.884 0.264 0.291 0.625 0.437 0.988 0.437zM18.667 16.013c0.736 0 1.333-0.596 1.333-1.333v-0.013c0-0.737-0.597-1.327-1.333-1.327s-1.333 0.603-1.333 1.34 0.597 1.333 1.333 1.333zM30.667 17.333h-2.505c-2.179 0-4.228 0.849-5.771 2.391-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.603 0.391 0.944 0.391s0.683-0.131 0.943-0.391c1.023-1.023 2.439-1.609 3.884-1.609h2.505c0.736 0 1.333-0.596 1.333-1.333s-0.597-1.333-1.333-1.333zM30.667 10.66c-0.736 0-1.333 0.603-1.333 1.34s0.597 1.333 1.333 1.333 1.333-0.596 1.333-1.333v-0.013c0-0.736-0.597-1.327-1.333-1.327zM29.333 26.66c-0.736 0-1.333 0.603-1.333 1.34s0.597 1.333 1.333 1.333 1.333-0.596 1.333-1.333v-0.013c0-0.736-0.597-1.327-1.333-1.327zM7.456 11.057c-0.327-0.327-0.799-0.46-1.249-0.356-0.449 0.107-0.812 0.439-0.959 0.876l-5.036 15.113c-0.487 1.457-0.113 3.037 0.973 4.125 0.772 0.771 1.792 1.183 2.84 1.183 0.428 0 0.861-0.068 1.284-0.209l15.112-5.037c0.439-0.145 0.769-0.508 0.876-0.959 0.107-0.449-0.028-0.921-0.355-1.249zM4.467 29.259c-0.503 0.163-1.023 0.043-1.395-0.329-0.373-0.373-0.497-0.896-0.329-1.396l4.355-13.065 10.436 10.435z"></path>\n</svg>\n';var PortraitIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>portrait</title>\n<path d="M24 1.333h-16c-3.676 0-6.667 2.991-6.667 6.667v16c0 3.028 2.041 5.561 4.811 6.371 0.004 0.001 0.008 0.003 0.012 0.004 0.591 0.172 1.2 0.292 1.844 0.292h16c0.644 0 1.253-0.12 1.843-0.292 0.004-0.001 0.008-0.003 0.012-0.004 2.771-0.809 4.812-3.343 4.812-6.371v-16c0-3.676-2.991-6.667-6.667-6.667zM8.012 28c0.121-1.915 3.363-4 7.988-4s7.868 2.085 7.988 4zM28 24c0 1.24-0.579 2.335-1.467 3.069-0.768-3.288-5.112-5.736-10.533-5.736s-9.765 2.448-10.533 5.736c-0.888-0.735-1.467-1.829-1.467-3.069v-16c0-2.205 1.795-4 4-4h16c2.205 0 4 1.795 4 4zM16 6.667c-3.308 0-6 2.692-6 6s2.692 6 6 6 6-2.692 6-6-2.692-6-6-6zM16 16c-1.839 0-3.333-1.495-3.333-3.333s1.495-3.333 3.333-3.333 3.333 1.495 3.333 3.333-1.495 3.333-3.333 3.333z"></path>\n</svg>\n';var IphoneXIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>iphone-x</title>\n<path d="M24 0h-16c-2.205 0-4 1.795-4 4v24c0 2.205 1.795 4 4 4h16c2.205 0 4-1.795 4-4v-24c0-2.205-1.795-4-4-4zM25.333 28c0 0.736-0.597 1.333-1.333 1.333h-16c-0.736 0-1.333-0.597-1.333-1.333v-24c0-0.735 0.597-1.333 1.333-1.333h4c0 1.471 1.196 2.667 2.667 2.667h2.667c1.471 0 2.667-1.196 2.667-2.667h4c0.736 0 1.333 0.599 1.333 1.333z"></path>\n</svg>\n';var sallaQuickOrderCss="";var SallaQuickOrder=function(){function e(e){var t=this;registerInstance(this,e);this.quickOrderSubmited=createEvent(this,"quickOrderSubmited",7);this.quickOrderTitle="ليش تنتظر؟";this.subTitle="احصل على المنتج مباشرة الآن";this.payButtonTitle="اطلب المنتج";this.confirmPayButtonTitle="اشتر الآن";this.agreementText=salla.lang.get("pages.checkout.show_full_agreement");this.isEmailRequired=false;this.productId=undefined;this.thanksMessage=undefined;this.quickOrderStyle="default";this.user=undefined;this.isAvailable=false;this.oneClick=false;this.expanded=false;this.isTermsRequired=false;this.countryCode=salla.config.get("user.country_code","SA")||"SA";this.submitSucess=false;this.placeHolderEmail=salla.lang.get("common.elements.email");this.emailOptional=salla.lang.get("common.elements.optional");this.agreementShowText=salla.lang.get("pages.checkout.show_full_agreement");this.agreementModalHead=salla.lang.get("pages.checkout.full_agreement");this.userNameLabel=salla.lang.get("pages.products.your_name");this.termsChecked=false;salla.onReady((function(){t.productId=t.productId||salla.config.get("page.id")}));salla.lang.onLoaded((function(){t.placeHolderEmail=salla.lang.get("common.elements.email");t.emailOptional=salla.lang.get("common.elements.optional");t.agreementShowText=salla.lang.get("pages.checkout.show_full_agreement");t.agreementModalHead=salla.lang.get("pages.checkout.full_agreement");t.userNameLabel=salla.lang.get("pages.products.your_name")}))}e.prototype.getBtnColor=function(){return this.quickOrderStyle==="default"?"light":"primary"};e.prototype.getErrorMessage=function(e,t){return t=="terms"?salla.lang.get("pages.checkout.check_agreement"):salla.lang.get("common.errors.".concat(e),{attribute:t=="name"?this.userNameLabel:this.placeHolderEmail})};e.prototype.handleInvalidInput=function(e){var t=e.target;var i=t.validity;var n;if(i.valueMissing){n=this.getErrorMessage("field_required",t.name);console.log(this.getErrorMessage("field_required",t.name))}else if(i.typeMismatch){n=this.getErrorMessage("invalid_value",t.name)}t.setCustomValidity(n)};e.prototype.setWrapperHeight=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){e=this.host.querySelector(".s-quick-order-expandable");setTimeout((function(){if(e.style.maxHeight||t.oneClick){e.style.maxHeight=null}else{e.style.maxHeight=e.scrollHeight+"px"}}),50);return[2]}))}))};e.prototype.getDarkOrLight=function(){return this.quickOrderStyle==="default"&&salla.config.get("theme.color.is_dark")?"dark":"light"};e.prototype.getStyleColor=function(){return{gray:"#f3f3f3",white:"#ffffff",default:salla.config.get("theme.color.primary")}[this.quickOrderStyle]||"#f3f3f3"};e.prototype.submit=function(e,t){if(t===void 0){t=false}return __awaiter(this,void 0,void 0,(function(){var i=this;return __generator(this,(function(n){e.preventDefault();if(t&&!this.oneClick){this.expanded=!this.expanded;this.setWrapperHeight();return[2]}return[2,this.submitBtn.load().then((function(){return i.getPayload()})).then((function(e){return salla.api.cart.createQuickOrder(e)})).then((function(){setTimeout((function(){i.submitBtn.stop();i.submitSucess=true;i.quickOrderSubmited.emit()}),200)})).catch((function(e){return e&&(console.error(e),i.submitBtn.stop())}))]}))}))};e.prototype.getPayload=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n,a,r,o;var s;return __generator(this,(function(l){switch(l.label){case 0:if(this.oneClick){return[2,{product_ids:[this.productId],agreement:true}]}s={product_ids:[this.productId],email:(e=this.emailInput)===null||e===void 0?void 0:e.value};o=Number;return[4,(t=this.phoneInput)===null||t===void 0?void 0:t.getValues()];case 1:s.phone=o.apply(void 0,[(i=l.sent())===null||i===void 0?void 0:i.phone]);return[4,(n=this.phoneInput)===null||n===void 0?void 0:n.getValues()];case 2:return[2,(s.country_code=((a=l.sent())===null||a===void 0?void 0:a.countryCode)||this.countryCode,s.name=(r=this.nameInput)===null||r===void 0?void 0:r.value,s.agreement=this.termsChecked,s)]}}))}))};e.prototype.formatAgreementText=function(e,t){if(t===void 0){t=150}if(!e)return"";if(e.length<=t)return e;var i=(new DOMParser).parseFromString(e,"text/html");return i.documentElement.innerText.substring(0,t)+"..."};e.prototype.loadQuickOrderSettings=function(){var e,t,i;var n=salla.config.get("store.settings.product.quick_order");if(!n){return Promise.resolve()}this.user=salla.config.get("user")||salla.storage.get("user")||{};this.countryCode=((e=this.user)===null||e===void 0?void 0:e.country_code)||this.countryCode;this.isEmailRequired=((t=this.user)===null||t===void 0?void 0:t.email)?false:this.isEmailRequired;this.oneClick=(i=this.user)===null||i===void 0?void 0:i.email;this.initComponentData(n);return Promise.resolve()};e.prototype.initComponentData=function(e){this.quickOrderTitle=e.title;this.subTitle=e.sub_title;this.payButtonTitle=e.order_now_button;this.isEmailRequired=e.is_email_required;this.isTermsRequired=e.show_agreement;this.agreementText=e.agreement;this.confirmPayButtonTitle=e.confirm_button;this.thanksMessage=e.thanks_message;this.quickOrderStyle=e.style;this.isAvailable=true};e.prototype.componentWillLoad=function(){var e=this;return new Promise((function(t){return salla.onReady((function(){return e.loadQuickOrderSettings().then(t)}))}))};e.prototype.render=function(){var e=this;if(!this.isAvailable){return}if(this.submitSucess){return h(Host,{class:"s-quick-order"},h("div",{class:"s-quick-order-confirm",style:{backgroundColor:salla.config.get("theme.color.primary")+"10",borderColor:salla.config.get("theme.color.primary")+"10",color:salla.config.get("theme.color.primary")}},h("i",{innerHTML:CelebrationIcon}),h("span",null,this.thanksMessage)))}return h(Host,{class:"s-quick-order s-quick-order-".concat(this.getDarkOrLight())},h("div",{class:"s-quick-order-container s-quick-order-".concat(this.quickOrderStyle),style:{backgroundColor:this.getStyleColor()}},h("div",{class:"s-quick-order-button-cont"},h("div",null,h("h3",null,this.quickOrderTitle),h("p",null,this.subTitle)),h("salla-button",{class:this.expanded?"s-quick-order-btn-close":"",onClick:function(t){return e.submit(t,true)},color:this.getBtnColor()},this.oneClick?this.confirmPayButtonTitle:this.expanded?h("i",{innerHTML:Cancel$1}):this.confirmPayButtonTitle)),h("form",{onSubmit:function(t){return e.submit(t)},class:"s-quick-order-expandable "+(this.expanded?"s-quick-order-shown":"")},Salla.config.isGuest()&&[h("div",{class:"s-form-group"},h("span",{innerHTML:PortraitIcon}),h("input",{type:"text",required:true,class:"s-form-control",name:"name",placeholder:this.userNameLabel,ref:function(t){return e.nameInput=t}})),h("div",{class:"s-quick-order-flex-input"},h("div",{class:"s-form-group"},h("span",{innerHTML:IphoneXIcon}),h("salla-tel-input",{ref:function(t){return e.phoneInput=t}})),h("div",{class:"s-form-group"},h("span",{innerHTML:MailIcon}),h("input",{type:"email",class:"s-form-control",name:"email",required:this.isEmailRequired,placeholder:this.placeHolderEmail+" "+(this.isEmailRequired?"":this.emailOptional),ref:function(t){return e.emailInput=t}})))],this.isTermsRequired&&h("label",{htmlFor:"terms",class:"s-quick-order-terms"},h("input",{type:"checkbox",required:true,name:"terms",id:"terms",ref:function(t){return e.termsInput=t},onChange:function(){return e.termsChecked=e.termsInput.checked},class:"s-checkbox"}),h("span",{class:"s-form-label"}," ",h("div",{innerHTML:this.formatAgreementText(this.agreementText,150)},this.agreementText.length>150&&h("salla-button",{shape:"link",onClick:function(){return e.agreementModal.open()}},this.agreementShowText))," ")),h("salla-button",{type:"submit",color:this.getBtnColor(),width:"wide",ref:function(t){return e.submitBtn=t}},this.payButtonTitle)),h("salla-modal",{"modal-title":this.agreementModalHead,ref:function(t){return e.agreementModal=t}},h("article",{innerHTML:this.agreementText}))))};e.prototype.componentDidLoad=function(){var e=this;this.host.querySelectorAll("input").forEach((function(t){t.addEventListener("invalid",(function(t){e.handleInvalidInput(t)}));t.addEventListener("input",(function(){t.setCustomValidity("");t.reportValidity()}))}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaQuickOrder.style=sallaQuickOrderCss;var WishListIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>star</title>\n<path d="M31.819 12.077c-0.367-0.883-1.209-1.411-2.259-1.411h-8.437l-2.681-8.871c-0.347-1.075-1.329-1.796-2.443-1.796s-2.096 0.721-2.447 1.805l-2.788 8.861h-8.275c-1.076 0-1.939 0.533-2.308 1.427-0.375 0.904-0.159 2.012 0.525 2.693 0.044 0.044 0.092 0.085 0.141 0.124l6.811 5.101-2.773 8.567c-0.344 1.063 0.019 2.228 0.899 2.899 0.459 0.351 1.001 0.527 1.544 0.527 0.528 0 1.056-0.165 1.511-0.499l7.159-5.267 7.161 5.268c0.896 0.659 2.168 0.645 3.051-0.028 0.884-0.671 1.245-1.836 0.901-2.9l-2.773-8.567 6.811-5.101c0.051-0.037 0.099-0.080 0.143-0.124 0.687-0.687 0.904-1.8 0.528-2.709zM21.976 18.448c-0.456 0.343-0.644 0.936-0.469 1.477l3.044 9.293-7.763-5.711c-0.235-0.173-0.513-0.259-0.791-0.259s-0.556 0.085-0.791 0.259l-7.713 5.676 2.997-9.257c0.175-0.541-0.013-1.136-0.469-1.477l-6.829-5.116h8.551c0.583 0 1.097-0.377 1.272-0.933l2.981-9.479 2.861 9.465c0.169 0.561 0.688 0.947 1.276 0.947h8.672z"></path>\n</svg>\n';var ShippingFast='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>shipping-fast</title>\n<path d="M10.667 14.667c0-0.737-0.597-1.333-1.333-1.333h-8c-0.736 0-1.333 0.596-1.333 1.333s0.597 1.333 1.333 1.333h8c0.736 0 1.333-0.596 1.333-1.333zM9.333 18.667c-2.941 0-5.333 2.392-5.333 5.333s2.392 5.333 5.333 5.333 5.333-2.392 5.333-5.333-2.392-5.333-5.333-5.333zM9.333 26.667c-1.471 0-2.667-1.196-2.667-2.667s1.196-2.667 2.667-2.667 2.667 1.196 2.667 2.667-1.196 2.667-2.667 2.667zM1.333 10.667h5.333c0.736 0 1.333-0.596 1.333-1.333s-0.597-1.333-1.333-1.333h-5.333c-0.736 0-1.333 0.596-1.333 1.333s0.597 1.333 1.333 1.333zM31.123 13.103l-3.147-3.935c-1.273-1.589-3.171-2.501-5.205-2.501h-1.437c0-2.205-1.795-4-4-4h-13.333c-0.736 0-1.333 0.596-1.333 1.333s0.597 1.333 1.333 1.333h13.333c0.735 0 1.333 0.597 1.333 1.333v1.333c0 0.248 0.087 0.468 0.204 0.667-0.117 0.199-0.204 0.419-0.204 0.667v5.333c0 0.737 0.597 1.333 1.333 1.333h9.333v6.667h-1.333c-0.063 0-0.117 0.028-0.179 0.036-0.583-2.313-2.664-4.036-5.155-4.036-2.941 0-5.333 2.392-5.333 5.333s2.392 5.333 5.333 5.333c2.491 0 4.572-1.723 5.155-4.036 0.061 0.008 0.116 0.036 0.179 0.036h2.667c0.736 0 1.333-0.596 1.333-1.333v-8.399c0-0.905-0.311-1.792-0.877-2.499zM21.333 13.333v-4h1.437c1.221 0 2.36 0.547 3.124 1.501l1.997 2.499zM22.667 26.667c-1.471 0-2.667-1.196-2.667-2.667s1.196-2.667 2.667-2.667 2.667 1.196 2.667 2.667-1.196 2.667-2.667 2.667z"></path>\n</svg>\n';var sallaRatingModalCss="";var SallaRatingModal=function(){function e(e){var t=this;registerInstance(this,e);this.stepsCount=0;this.currentIndex=0;this.submitted=[];this.order=undefined;this.hasError=false;this.errorMessage=undefined;this.orderId=salla.config.get("page.id");this.translationLoaded=false;salla.event.on("rating::open",(function(){return t.open()}));salla.lang.onLoaded((function(){t.translationLoaded=true}))}e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){return[2,this.modal.open().then((function(){return e.order||salla.api.withoutNotifier((function(){return salla.rating.api.order(e.orderId)})).then((function(t){return e.order=t.data}))})).then((function(){return e.modal.setTitle(salla.lang.get("pages.rating.rate_order")+' <span class="unicode">(#'+e.order.id+")</span>")})).then((function(){return e.modal.stopLoading()})).then((function(){return e.stepsCount=[e.order.testimonials_enabled,e.order.products_enabled,e.order.shipping_enabled].filter((function(e){return e})).length})).then((function(){return setTimeout((function(){return e.handleWizard()}),100)})).catch((function(t){var i,n,a,r;e.hasError=true;e.errorMessage=((a=(n=(i=t.response)===null||i===void 0?void 0:i.data)===null||n===void 0?void 0:n.error)===null||a===void 0?void 0:a.message)||((r=t.response)===null||r===void 0?void 0:r.data);e.modal.stopLoading()}))]}))}))};e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.modal.close()]}))}))};e.prototype.handleWizard=function(){this.steps=this.modal.querySelectorAll(".s-rating-modal-step");this.dots=this.modal.querySelectorAll(".s-rating-modal-step-dot");this.showActiveStep()};e.prototype.showActiveStep=function(e){var t=this;if(e===void 0){e=null}var i,n;this.currentTab=e||this.steps[this.currentIndex];Helper.toggleClassIf(".s-rating-modal-step-dot","s-rating-modal-bg-gray","s-rating-modal-bg-primary",(function(e){return e!=t.dots[t.currentIndex]})).toggleClassIf(".s-rating-modal-step","s-rating-modal-active","s-rating-modal-hidden",(function(e){return e==t.currentTab}));if(this.currentIndex!=0){Helper.toggleElementClassIf(this.currentTab,"s-rating-modal-unactive","s-rating-modal-hidden",(function(){return true}));setTimeout((function(){return Helper.toggleElementClassIf(t.currentTab,"s-rating-modal-active","s-rating-modal-unactive",(function(){return true}))}),300)}var a=(i=this.steps[this.currentIndex+1])===null||i===void 0?void 0:i.dataset.type;(n=this.nextBtn)===null||n===void 0?void 0:n.setText(a?salla.lang.get("pages.rating.rate")+" "+salla.lang.get("pages.rating."+a):salla.lang.get("pages.rating.send_ratings"));setTimeout((function(){var e,i;return(e=t.body)===null||e===void 0?void 0:e.setAttribute("style","height:"+((i=t.currentTab)===null||i===void 0?void 0:i.offsetHeight)+"px")}))};e.prototype.previousTab=function(){var e=this;this.currentIndex>0&&this.currentIndex--;Helper.toggleElementClassIf(this.backBtn,"s-rating-modal-unvisiable","block",(function(){return e.currentIndex==0}));this.showActiveStep()};e.prototype.submit=function(){var e=this;this.submittedBefore()||this.validate();salla.config.canLeave=false;this.nextBtn.load().then((function(){return e.submittedBefore()||e.sendFeedback()})).then((function(){return e.currentTab.querySelectorAll("[name],.s-rating-modal-btn-star").forEach((function(e){return e.setAttribute("disabled","")}))})).then((function(){return e.currentIndex<e.stepsCount&&e.currentIndex++})).then((function(){return e.showActiveStep()})).then((function(){return Helper.toggleClassIf("#prev-btn","block","s-rating-modal-unvisiable",(function(){return true}))})).finally((function(){e.nextBtn.stop();salla.config.canLeave=true;e.currentIndex==e.stepsCount&&e.showThankYou();e.modal.isClosable=false}))};e.prototype.submittedBefore=function(){return this.submitted.includes(this.currentIndex)};e.prototype.validate=function(e,t){var i=this;if(e===void 0){e=null}if(t===void 0){t=null}if(!e&&this.currentTab.dataset.type=="products"){return this.currentTab.querySelectorAll(".rating-outer-form").forEach((function(e){return i.validate(e,"product")}))}e=e||this.currentTab;var n=e.querySelector(".rating_hidden_input").value;var a=e.querySelector(".s-rating-modal-comment");var r=e.querySelector(".s-rating-modal-validation-msg");if(n&&a.value&&a.value.length>3){a.classList.remove("s-has-error");r.innerHTML="";return}t=t||e["dataset"].type;Helper.toggleElementClassIf(a,"save","s-has-error",(function(e){return e.value.length>3}));throw r.innerHTML=n?salla.lang.get("common.errors.not_less_than_chars",{chars:4})+" "+a.getAttribute("placeholder"):salla.lang.get("pages.rating.rate_".concat(t,"_stars")).replace(" (:item)","")};e.prototype.sendFeedback=function(){var e={};this.currentTab.querySelectorAll("[name]").forEach((function(t){var i=salla.helpers.inputData(t.name,t.value,e);e[i.name]=i.value}));if(Object.keys(e).length==0){return}e["order_id"]=this.orderId;e["type"]=this.currentTab.dataset.type;this.submitted.push(this.currentIndex);return salla.rating.api[this.currentTab.dataset.type](e)};e.prototype.showThankYou=function(){var e=this;var t=10;var i=setInterval((function(){e.thanksTime.innerHTML="00:0"+t--;if(t>0){return}clearInterval(i);e.thanksTime.remove();e.close().then((function(){return window.location.reload()}))}),1e3);this.modal.querySelector(".s-rating-modal-footer").classList.add("s-rating-modal-unvisiable");this.showActiveStep(this.thanksTab)};e.prototype.render=function(){var e=this;var t;return h(Host,{class:"s-rating-modal"},h("salla-modal",{class:"s-rating-modal-wrap",isLoading:true,width:"md",ref:function(t){return e.modal=t}},h("div",{slot:"loading"},h("div",{class:"s-rating-modal-skeleton"},h("salla-skeleton",{type:"circle",height:"80px",width:"80px"}),h("salla-skeleton",{height:"15px",width:"60%"}),h("salla-skeleton",{height:"10px",width:"30%"}),h("div",{class:"s-rating-modal-skeleton-stars"},__spreadArray([],Array(5),true).map((function(){return h("div",{innerHTML:WishListIcon})}))),h("salla-skeleton",{height:"100px",width:"100%"}),h("div",{class:"s-rating-modal-skeleton-footer"},h("salla-skeleton",{height:"40px",width:"30%"})))),!this.hasError&&this.order?[h("div",{class:"s-rating-modal-wrapper",ref:function(t){return e.body=t}},((t=this.order)===null||t===void 0?void 0:t.testimonials_enabled)?h("div",{class:"rating-outer-form s-rating-modal-step-wrap s-rating-modal-step s-rating-modal-hidden","data-type":"store"},h("div",{class:"s-rating-modal-rounded-icon"},h("img",{src:salla.config.get("store.logo","https://assets.salla.sa/cp/assets/images/logo-new.png"),alt:"store name",class:"s-rating-modal-store-logo"})),h("h2",{class:"s-rating-modal-title"},salla.lang.get("pages.rating.rate_the_store")),h("div",{class:"s-rating-modal-stars-company"},h("salla-rating-stars",{size:"large"})),h("textarea",{name:"comment",class:"s-rating-modal-comment",placeholder:salla.lang.get("pages.rating.write_store_rate")}),h("small",{class:"s-rating-modal-validation-msg"})):"",this.order.products_enabled?h("section",{class:"s-rating-modal-step s-rating-modal-hidden","data-type":"products"},this.order.products.map((function(e,t){return h("div",{class:"rating-outer-form s-rating-modal-product","data-stars-error":salla.lang.get("pages.rating.rate_product_stars")},h("div",{class:"s-rating-modal-product-img-wrap"},h("img",{src:e.product.thumbnail,alt:e.product.name,class:"s-rating-modal-product-img"})),h("div",{class:"s-rating-modal-product-details"},h("h3",{class:"s-rating-modal-product-title"}," ",e.product.name),h("div",{class:"s-rating-modal-stars-product"},h("salla-rating-stars",{size:"small",name:"products[".concat(t,"][rating]")})),h("input",{type:"hidden",name:"products[".concat(t,"][product_id]"),value:e.product.id}),h("textarea",{placeholder:salla.lang.get("pages.rating.write_product_rate"),name:"products[".concat(t,"][comment]"),class:"s-rating-modal-comment"}),h("small",{class:"s-rating-modal-validation-msg"})))}))):"",this.order.shipping_enabled?h("div",{class:"rating-outer-form s-rating-modal-step-wrap s-rating-modal-step s-rating-modal-hidden","data-type":"shipping"},h("input",{type:"hidden",name:"shipping_company_id",value:this.order.shipping.company.id}),this.order.shipping.company.logo?h("div",{class:"s-rating-modal-rounded-icon"},h("img",{src:this.order.shipping.company.logo,class:"s-rating-modal-shipping-logo",alt:this.order.shipping.company.name})):h("span",{class:"s-rating-modal-icon",innerHTML:ShippingFast}),h("div",{class:"s-rating-modal-title"}," ",salla.lang.get("pages.rating.rate_shipping")+" "+this.order.shipping.company.name),h("div",{class:"s-rating-modal-stars-company"},h("salla-rating-stars",{size:"large"})),h("textarea",{name:"comment",class:"s-rating-modal-comment",placeholder:salla.lang.get("pages.rating.write_shipping_rate")}),h("small",{class:"s-rating-modal-validation-msg"})):"",h("div",{class:"s-rating-modal-thanks s-rating-modal-hidden",ref:function(t){return e.thanksTab=t}},h("span",{class:"s-rating-modal-icon",innerHTML:CheckCircle2}),h("h3",{class:"s-rating-modal-thanks-title"},salla.lang.get("pages.rating.thanks")),h("div",{class:"s-rating-modal-thanks-msg",innerHTML:this.order.thanks_message}),h("time",{class:"s-rating-modal-thanks-time",ref:function(t){return e.thanksTime=t}}))),h("div",{class:"s-rating-modal-footer"},h("button",{ref:function(t){return e.backBtn=t},onClick:function(){return e.previousTab()},class:"s-rating-modal-btn s-rating-modal-unvisiable"},salla.lang.get("common.elements.back")),this.stepsCount>1?h("ul",{class:"s-rating-modal-dots"},[0,1,2].slice(0,this.stepsCount).map((function(){return h("li",{class:"s-rating-modal-bg-gray s-rating-modal-step-dot"})}))):"",h("salla-button",{"loader-position":"center",ref:function(t){return e.nextBtn=t},onClick:function(){return e.submit()}},salla.lang.get("common.elements.next")))]:h("salla-placeholder",{alignment:"center"})))};e.prototype.componentDidLoad=function(){salla.event.dispatch("rating::ready",this)};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaRatingModal.style=sallaRatingModalCss;var sallaRatingStarsCss="";var SallaRatingStars=function(){function e(e){var t=this;registerInstance(this,e);this.name="rating";this.size="medium";this.value=undefined;this.reviews=0;salla.lang.onLoaded((function(){t.reviewsElement&&(t.reviewsElement.innerText="(".concat(salla.helpers.number(salla.lang.choice("pages.rating.reviews",t.reviews)),")"))}))}e.prototype.initiateRating=function(){var e=this;this.host.addEventListener("click",(function(){if(!e.startsElem)return;var t=e.startsElem.querySelectorAll(".s-rating-stars-hovered");var i=t[t.length-1];if(!i)return;var n=i.getAttribute("data-star");e.startsElem.querySelector(".rating_hidden_input").value=n;e.startsElem.querySelectorAll(".s-rating-stars-btn-star").forEach((function(e,t){return Helper.toggleElementClassIf(e,"s-rating-stars-selected","s-rating-stars-unselected",(function(){return t<parseInt(n)}))}));e.startsElem.querySelectorAll("[aria-pressed]").forEach((function(e){return e.removeAttribute("aria-pressed")}));i.setAttribute("aria-pressed","true")}))};e.prototype.highlightSelectedStars=function(){var e,t;var i="s-rating-stars-hovered",n=(e=this.startsElem)===null||e===void 0?void 0:e.querySelectorAll(".s-rating-stars-btn-star");n===null||n===void 0?void 0:n.forEach((function(e,t){e.addEventListener("mouseover",(function(){for(var e=0;e<=t;e++){n[e].classList.add(i)}}));e.addEventListener("mouseout",(function(){return e.classList.remove(i)}))}));(t=this.startsElem)===null||t===void 0?void 0:t.addEventListener("mouseout",(function(){return n.forEach((function(e){return e.classList.remove(i)}))}))};e.prototype.createStars=function(e){var t;var i=this;var n=[];for(var a=0;a<5;a++){n.push(h("span",{class:(t={"s-rating-stars-btn-star":true},t["s-rating-stars-"+this.size]=true,t["s-rating-stars-selected"]=a<e,t),innerHTML:Rate}))}if(this.reviews>0){n.push(h("span",{class:"s-rating-stars-reviews",ref:function(e){return i.reviewsElement=e}},"(",salla.helpers.number(salla.lang.choice("pages.rating.reviews",this.reviews)),")"))}return n};e.prototype.render=function(){var e=this;var t;return((t=this.host.closest(".swiper-slide"))===null||t===void 0?void 0:t.classList.contains("swiper-slide-duplicate"))?"":h(Host,null,this.value||this.value==0?h("div",{class:"s-rating-stars-wrapper"}," ",this.createStars(this.value)," "):h("div",{class:"s-rating-stars-element",ref:function(t){return e.startsElem=t}},h("input",{type:"hidden",class:"rating_hidden_input",name:this.name,value:""}),[1,2,3,4,5].map((function(t){return h("button",{class:"s-rating-stars-btn-star s-rating-stars-"+e.size,"data-star":t},h("span",{innerHTML:Rate}))}))))};e.prototype.componentDidLoad=function(){this.initiateRating();this.highlightSelectedStars()};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaRatingStars.style=sallaRatingStarsCss;var StoreAlt='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>store-alt</title>\n<path d="M6.667 24h5.333c0.736 0 1.333-0.596 1.333-1.333s-0.597-1.333-1.333-1.333h-5.333c-0.736 0-1.333 0.596-1.333 1.333s0.597 1.333 1.333 1.333zM31.86 10.071l-4-8c-0.227-0.452-0.688-0.737-1.193-0.737h-21.333c-0.505 0-0.967 0.285-1.193 0.737l-4 8c-0.092 0.184-0.14 0.389-0.14 0.596v18.667c0 0.737 0.597 1.333 1.333 1.333h29.333c0.736 0 1.333-0.596 1.333-1.333v-18.667c0-0.207-0.048-0.412-0.14-0.596zM6.157 4h19.685l3.333 6.667h-26.352zM24 28h-5.333v-9.333h5.333zM29.333 28h-2.667v-10.667c0-0.737-0.597-1.333-1.333-1.333h-8c-0.736 0-1.333 0.596-1.333 1.333v10.667h-13.333v-14.667h26.667zM6.667 18.667h5.333c0.736 0 1.333-0.596 1.333-1.333s-0.597-1.333-1.333-1.333h-5.333c-0.736 0-1.333 0.596-1.333 1.333s0.597 1.333 1.333 1.333z"></path>\n</svg>\n';var Search='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>search</title>\n<path d="M30.276 28.391l-7.576-7.576c1.644-2.053 2.633-4.652 2.633-7.481 0-6.616-5.384-12-12-12s-12 5.384-12 12 5.384 12 12 12c2.829 0 5.428-0.989 7.481-2.633l7.576 7.576c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885zM13.333 22.667c-5.147 0-9.333-4.187-9.333-9.333s4.187-9.333 9.333-9.333 9.333 4.187 9.333 9.333-4.187 9.333-9.333 9.333z"></path>\n</svg>\n';var ModeType;(function(e){e["DEFAULT"]="default";e["AVAILABILITY"]="availability"})(ModeType||(ModeType={}));var sallaScopesCss=".s-scopes-availability-content{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.s-scopes-placeholder{-ms-flex:0 0 85%;flex:0 0 85%}";var SallaScopees=function(){function e(e){var t;var i=this;registerInstance(this,e);this.loadedScopes=(t={},t[ModeType.DEFAULT]=null,t[ModeType.AVAILABILITY]=null,t);this.getFormTitle=function(){var e;if(((e=i.originalScopesList)===null||e===void 0?void 0:e.length)<2)return"";return i.mode===ModeType.DEFAULT?salla.lang.get("blocks.scope.shopping_from_another_branch"):salla.lang.get("blocks.scope.search_for_availability_in_other_branches")};this.translationLoaded=false;this.mode=ModeType.DEFAULT;this.current_scope=undefined;this.scopes=[];this.originalScopesList=[];this.selected_scope=undefined;this.isOpenedBefore=salla.storage.get("branch-choosed-before");this.hasError=false;this.loading=false;this.selection="optional";this.searchDisplayLimit=6;salla.event.on("scopes::open",(function(e){var t=e.mode,n=t===void 0?null:t,a=e.product_id,r=a===void 0?null:a;i.open(n,r)}));salla.lang.onLoaded((function(){i.translationLoaded=true}))}e.prototype.close=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,(e=this.modal)===null||e===void 0?void 0:e.close()];case 1:return[2,t.sent()]}}))}))};e.prototype.open=function(e,t){if(e===void 0){e=ModeType.DEFAULT}if(t===void 0){t=null}return __awaiter(this,void 0,void 0,(function(){var i;var n=this;return __generator(this,(function(a){switch(a.label){case 0:this.hasError=false;this.mode=[ModeType.AVAILABILITY,ModeType.DEFAULT].includes(e)?e:ModeType.DEFAULT;this.loading=!this.loadedScopes[this.mode];this.setScopeValues([]);salla.log("SallaScope:: opened");this.modal.open();if(!this.loading){this.setScopeValues(this.loadedScopes[this.mode]);return[2,this.modal.stopLoading()]}i=function(){return e==ModeType.AVAILABILITY?salla.scope.getProductAvailability(t):salla.scope.get()};return[4,salla.api.withoutNotifier(i).then((function(t){if(e==ModeType.AVAILABILITY){return n.setScopeValues(n.loadedScopes[ModeType.AVAILABILITY]=t.data)}n.setScopeValues(n.loadedScopes[n.mode]=t.data.scopes)})).catch((function(e){console.log(e);n.hasError=true})).finally((function(){n.modal.stopLoading();n.loading=false}))];case 1:return[2,a.sent()]}}))}))};e.prototype.handleSubmit=function(){return __awaiter(this,void 0,void 0,(function(){var e;var t=this;return __generator(this,(function(i){switch(i.label){case 0:e={id:this.current_scope.id};this.changeBtn.load();return[4,salla.scope.change(e).then((function(){salla.storage.set("branch-choosed-before",true);salla.storage.set("scope",{type:t.current_scope.type,id:t.current_scope.id});window.location.replace(salla.helpers.addParamToUrl("scope",t.current_scope.id))})).catch((function(e){return console.log(e)})).finally((function(){t.changeBtn.stop()}))];case 1:return[2,i.sent()]}}))}))};e.prototype.setScopeValues=function(e){this.scopes=e;this.originalScopesList=e;if((e===null||e===void 0?void 0:e.length)==1){this.current_scope=e[0];this.selected_scope=e[0]}else{this.current_scope=e===null||e===void 0?void 0:e.find((function(e){return e.selected}));this.selected_scope=e===null||e===void 0?void 0:e.find((function(e){return e.selected}))}};e.prototype.handleSearchFieldTyping=function(e){var t=e.target.value.toLocaleLowerCase();if(!!t){this.scopes=this.originalScopesList.filter((function(e){return e.name.toLowerCase().includes(t)}))}else{this.scopes=this.originalScopesList}};e.prototype.handleScopeSelection=function(e){var t;this.current_scope=(t=this.scopes)===null||t===void 0?void 0:t.find((function(t){return t.id==e.target.value}))};e.prototype.placeholderContent=function(){return h("salla-placeholder",{alignment:"center",class:"s-scopes-placeholder"},h("span",{slot:"title"},salla.lang.get("blocks.scope.branch_looking_for_not_found")),h("span",{slot:"description"},salla.lang.get("blocks.scope.our_services_not_available_in_this_branch")))};e.prototype.defaultContent=function(){var e=this;var t;return[h("div",{class:"s-scopes-container s-scrollbar"},(t=this.scopes)===null||t===void 0?void 0:t.map((function(t){return h("div",{class:"s-scopes-input-wrap","data-selection":e.selection},h("input",{id:"".concat(e.selection," + '_scope_' + ").concat(t.id),name:"lang",type:"radio",value:t.id,onChange:function(t){return e.handleScopeSelection(t)},class:"s-scopes-input",checked:!!e.current_scope&&e.current_scope.id==t.id}),h("label",{htmlFor:"".concat(e.selection," + '_scope_' + ").concat(t.id),class:"s-scopes-label s-scopes-clickable"},h("span",null,t.name)))}))),this.footerContent()]};e.prototype.availabilityContent=function(){var e=this;var t;return h("div",{class:"s-scopes-container"},(t=this.scopes)===null||t===void 0?void 0:t.map((function(t){var i,n,a;return h("div",{class:"s-scopes-input-wrap","data-selection":e.selection},h("h2",{class:{"s-scopes-label":true,"s-scopes-clickable":e.mode===ModeType.DEFAULT}},h("span",null,t.name)),h("h2",{style:{color:(i=t===null||t===void 0?void 0:t.availability)===null||i===void 0?void 0:i.color},class:"s-scopes-".concat((n=t===null||t===void 0?void 0:t.availability)===null||n===void 0?void 0:n.key)},(a=t===null||t===void 0?void 0:t.availability)===null||a===void 0?void 0:a.label))})))};e.prototype.footerContent=function(){var e=this;return h("div",{class:"s-scopes-footer"},h("slot",{name:"footer"},h("salla-button",{ref:function(t){return e.changeBtn=t},disabled:!this.current_scope,onClick:function(){return e.handleSubmit()},class:"s-scopes-submit","loader-position":"center",width:"wide"},salla.lang.get("common.elements.confirm"))))};e.prototype.render=function(){var e=this;var t,i,n,a;return h(Host,null,h("salla-modal",{ref:function(t){return e.modal=t},isClosable:!!(this.isOpenedBefore||this.selection=="optional"),class:"s-scopes-modal",isLoading:this.loading,"has-skeleton":true},this.loading?h("div",{slot:"loading"},h("div",{class:"s-scopes-skeleton"},h("salla-list-tile",{class:"s-scopes-header"},h("div",{slot:"icon",class:"s-scopes-header-icon"},h("salla-skeleton",{type:"circle"})),h("div",{slot:"title",class:"s-scopes-header-title mb-5"},h("salla-skeleton",{height:"15px",width:"50%"})),h("div",{slot:"subtitle",class:"s-scopes-header-subtitle"},h("salla-skeleton",{height:"10px"}),h("salla-skeleton",{height:"10px",width:"75%"}))),h("div",{class:"s-scopes-skeleton-search"},h("salla-skeleton",{height:"10px",width:"50%"}),h("salla-skeleton",{height:"30px",width:"100%"})),h("div",{class:"s-scopes-skeleton-scopes"},h("salla-skeleton",{height:"10px",width:"30%"}),h("salla-skeleton",{height:"10px",width:"25%"}),h("salla-skeleton",{height:"10px",width:"30%"}),h("salla-skeleton",{height:"10px",width:"25%"}),h("salla-skeleton",{height:"10px",width:"30%"}),h("salla-skeleton",{height:"10px",width:"25%"}),h("salla-skeleton",{height:"10px",width:"30%"}),h("salla-skeleton",{height:"10px",width:"25%"})),h("div",{class:"s-scopes-skeleton-btn"},h("salla-skeleton",{height:"40px",width:"100%"})))):[h("salla-list-tile",{class:((t=this.originalScopesList)===null||t===void 0?void 0:t.length)?"s-scopes-header block":"s-hidden"},h("div",{slot:"icon",class:"s-scopes-header-icon",innerHTML:StoreAlt}),h("div",{slot:"title",class:"s-scopes-header-title"},salla.lang.get("blocks.scope.you_are_browse_store_from")),h("div",{slot:"subtitle",class:"s-scopes-header-subtitle"},!!this.selected_scope?this.selected_scope.name:"")),h("div",{class:"s-scopes-wrap"},!!((i=this.originalScopesList)===null||i===void 0?void 0:i.length)&&h("h4",{class:"s-scopes-title"},this.getFormTitle()),((n=this.originalScopesList)===null||n===void 0?void 0:n.length)>this.searchDisplayLimit?h("div",{class:"s-scopes-search-wrapper"},h("div",{class:"s-scopes-search-icon",innerHTML:Search}),h("input",{type:"text",class:"s-scopes-search-input",onInput:function(t){return e.handleSearchFieldTyping(t)},enterkeyhint:"search",placeholder:salla.lang.get("blocks.scope.searching_for_a_branch")})):"",this.hasError||((a=this.originalScopesList)===null||a===void 0?void 0:a.length)<2?this.placeholderContent():this.mode===ModeType.DEFAULT?this.defaultContent():this.availabilityContent())]))};e.prototype.componentDidLoad=function(){if(!this.isOpenedBefore&&this.selection=="mandatory"){this.open()}};return e}();SallaScopees.style=sallaScopesCss;var sallaSearchCss="";var SallaSearch=function(){function e(e){var t=this;registerInstance(this,e);var i;this.inputValue="";this.translationLoaded=false;this.results=undefined;this.loading=false;this.typing=false;this.debounce=setTimeout((function(){return""}),1e3);this.search_term=undefined;this.inline=false;this.oval=false;this.height=60;this.productSlot=((i=this.host.querySelector('[slot="product"]'))===null||i===void 0?void 0:i.innerHTML)||this.getDefaultProductSlot();salla.event.on("search::open",(function(){return t.open()}));salla.lang.onLoaded((function(){t.translationLoaded=true}));salla.event.on("modalClosed",(function(){return t.onModalClose()}))}e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:if(!!this.inline)return[3,2];return[4,this.modal.open().then((function(){return setTimeout((function(){return e.searchInput.focus()}),300)}))];case 1:t.sent();t.label=2;case 2:return[2]}}))}))};e.prototype.onModalClose=function(){this.searchInput.value="";this.results=undefined;this.afterSearching();this.container.classList.remove("s-search-no-results")};e.prototype.handleKeyDown=function(e){var t;if(e.key==="Enter"&&((t=this.search_term)===null||t===void 0?void 0:t.length)){window.location.href=salla.url.get("search?q="+encodeURI(this.search_term))}};e.prototype.getDefaultProductSlot=function(){return'<div class="s-search-product-image-container">'+'  <img class="s-search-product-image" src="{image}" alt="{name}"/>'+"</div>"+'<div class="s-search-product-details">'+'  <div class="s-search-product-title">{name}</div> <div class="s-search-product-price">{price} <span class="s-search-product-regular-price">{regular_price}</span></div>'+"</div>"};e.prototype.debounceSearch=function(e){var t=this;this.typing=true;clearTimeout(this.debounce);this.debounce=setTimeout((function(){t.typing=false;t.search_term=e.target.value}),700)};e.prototype.handleSearch=function(e){this.inputValue=e;if(e.length>2){this.search(e)}else{this.results=undefined;this.afterSearching()}};e.prototype.search=function(e){var t=this;this.noResults.style.display="none";this.loading=true;salla.product.search(e).then((function(e){return t.results=e})).catch((function(e){return e!=="Query is same as previous one!"?t.results=undefined:null})).finally((function(){return t.afterSearching(false)}))};e.prototype.afterSearching=function(e){var t=this;if(e===void 0){e=true}var i;this.noResults.style.display=e||((i=this.results)===null||i===void 0?void 0:i.data.length)>0?"none":"block";Helper.toggleElementClassIf(this.container,"s-search-container-open","s-search-no-results",(function(){var e;return(e=t.results)===null||e===void 0?void 0:e.data.length}));this.loading=false;salla.product.api.previousQuery="";this.inputValue.length<3?this.container.classList.remove("s-search-no-results"):""};e.prototype.render=function(){var e=this;var t;var i=h("div",{class:{"s-search-container":true,"s-search-inline":this.inline},ref:function(t){return e.container=t}},h("input",{type:"search",enterkeyhint:"search",autocomplete:"off",class:"s-search-input",placeholder:salla.lang.get("blocks.header.search_placeholder"),onInput:function(t){return e.debounceSearch(t)},onKeyDown:function(t){return e.handleKeyDown(t)},ref:function(t){return e.searchInput=t},style:{height:this.height+"px",borderRadius:this.oval?this.height/2+"px":""}}),h("span",{class:"s-search-icon-wrap"},h("span",{class:"s-search-icon",innerHTML:this.loading?'<i class="s-search-spinner-loader"></i>':Search})),h("div",{class:"s-search-results"},(t=this.results)===null||t===void 0?void 0:t.data.map((function(t){return h("a",{href:t.url,class:{"s-search-product":true,"s-search-product-not-available":!t.is_available},innerHTML:e.productSlot.replace(/\{name\}/g,t.name).replace(/\{price\}/g,salla.money(t.price)).replace(/\{regular_price\}/g,t.has_special_price?salla.money(t.regular_price):"").replace(/\{image\}/g,t.thumbnail)})})),h("p",{ref:function(t){return e.noResults=t},class:"s-search-no-results-placeholder"},salla.lang.get("common.elements.no_options"))));return this.inline?h("div",{class:"s-search-modal"},i):h("salla-modal",{position:"top",class:"s-search-modal",ref:function(t){return e.modal=t}},i)};e.prototype.componentDidLoad=function(){this.afterSearching()};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{search_term:["handleSearch"]}},enumerable:false,configurable:true});return e}();SallaSearch.style=sallaSearchCss;var sallaSkeletonCss=":host{display:block}";var SallaSkeleton=function(){function e(e){registerInstance(this,e);this.type="normal";this.width="100%";this.height="100%"}e.prototype.render=function(){var e={"s-skeleton-item":true,"s-skeleton-item-circular":this.type=="circle"};return h(Host,{class:"s-skeleton-wrapper",style:{width:this.width,height:this.height}},h("div",{class:e}," "))};return e}();SallaSkeleton.style=sallaSkeletonCss;var ArrowLeftIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>keyboard_arrow_left</title>\n<path d="M20.563 22.104l-1.875 1.875-8-8 8-8 1.875 1.875-6.125 6.125z"></path>\n</svg>\n';var sallaSliderCss='@font-face{font-family:"swiper-icons";src:url("data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA") format("woff");font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{-ms-flex-direction:column;flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:-ms-flexbox;display:flex;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform, -webkit-transform;-webkit-box-sizing:content-box;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{-webkit-transform:translate3d(0px, 0, 0);transform:translate3d(0px, 0, 0)}.swiper-pointer-events{-ms-touch-action:pan-y;touch-action:pan-y}.swiper-pointer-events.swiper-vertical{-ms-touch-action:pan-x;touch-action:pan-x}.swiper-slide{-ms-flex-negative:0;flex-shrink:0;width:100%;height:100%;position:relative;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform, -webkit-transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{-ms-flex-align:start;align-items:flex-start;-webkit-transition-property:height, -webkit-transform;transition-property:height, -webkit-transform;transition-property:transform, height;transition-property:transform, height, -webkit-transform}.swiper-backface-hidden .swiper-slide{-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{-webkit-perspective:1200px;perspective:1200px}.swiper-3d .swiper-wrapper,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-cube-shadow{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0, 0, 0, 0.15)}.swiper-3d .swiper-slide-shadow-left{background-image:-webkit-gradient(linear, right top, left top, from(rgba(0, 0, 0, 0.5)), to(rgba(0, 0, 0, 0)));background-image:linear-gradient(to left, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0))}.swiper-3d .swiper-slide-shadow-right{background-image:-webkit-gradient(linear, left top, right top, from(rgba(0, 0, 0, 0.5)), to(rgba(0, 0, 0, 0)));background-image:linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0))}.swiper-3d .swiper-slide-shadow-top{background-image:-webkit-gradient(linear, left bottom, left top, from(rgba(0, 0, 0, 0.5)), to(rgba(0, 0, 0, 0)));background-image:linear-gradient(to top, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:-webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.5)), to(rgba(0, 0, 0, 0)));background-image:linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none;}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{-webkit-scroll-snap-type:x mandatory;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{-webkit-scroll-snap-type:y mandatory;-ms-scroll-snap-type:y mandatory;scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper::before{content:"";-ms-flex-negative:0;flex-shrink:0;-ms-flex-order:9999;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-start:var(--swiper-centered-offset-before);margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{-webkit-margin-before:var(--swiper-centered-offset-before);margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}:root{}.swiper-pagination{position:absolute;text-align:center;-webkit-transition:300ms opacity;transition:300ms opacity;-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none !important}.swiper-pagination-fraction,.swiper-pagination-custom,.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transform:scale(0.33);transform:scale(0.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active{-webkit-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{-webkit-transform:scale(1);transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{-webkit-transform:scale(0.66);transform:scale(0.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{-webkit-transform:scale(0.33);transform:scale(0.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{-webkit-transform:scale(0.66);transform:scale(0.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{-webkit-transform:scale(0.33);transform:scale(0.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, 0.2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;-webkit-box-shadow:none;box-shadow:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none !important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-vertical>.swiper-pagination-bullets,.swiper-pagination-vertical.swiper-pagination-bullets{right:10px;top:50%;-webkit-transform:translate3d(0px, -50%, 0);transform:translate3d(0px, -50%, 0)}.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);width:8px}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;-webkit-transition:200ms top, 200ms -webkit-transform;transition:200ms top, 200ms -webkit-transform;transition:200ms transform, 200ms top;transition:200ms transform, 200ms top, 200ms -webkit-transform}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:200ms left, 200ms -webkit-transform;transition:200ms left, 200ms -webkit-transform;transition:200ms transform, 200ms left;transition:200ms transform, 200ms left, 200ms -webkit-transform}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{-webkit-transition:200ms right, 200ms -webkit-transform;transition:200ms right, 200ms -webkit-transform;transition:200ms transform, 200ms right;transition:200ms transform, 200ms right, 200ms -webkit-transform}.swiper-pagination-progressbar{background:rgba(0, 0, 0, 0.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left top;transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{-webkit-transform-origin:right top;transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-vertical>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}:root{--swiper-navigation-size:44px;}.swiper-button-prev,.swiper-button-next{position:absolute;top:50%;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size) / 2);z-index:10;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-prev.swiper-button-disabled,.swiper-button-next.swiper-button-disabled{opacity:0.35;cursor:auto;pointer-events:none}.swiper-button-prev.swiper-button-hidden,.swiper-button-next.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-prev,.swiper-navigation-disabled .swiper-button-next{display:none !important}.swiper-button-prev:after,.swiper-button-next:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none !important;letter-spacing:0;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}';var SallaSwiper=function(){function e(e){registerInstance(this,e);this.afterInit=createEvent(this,"afterInit",7);this.slideChange=createEvent(this,"slideChange",7);this.reachBeginning=createEvent(this,"reachBeginning",7);this.reachEnd=createEvent(this,"reachEnd",7);this.slideChangeTransitionEnd=createEvent(this,"slideChangeTransitionEnd",7);this.slideChangeTransitionStart=createEvent(this,"slideChangeTransitionStart",7);this.slideNextTransitionEnd=createEvent(this,"slideNextTransitionEnd",7);this.slideNextTransitionStart=createEvent(this,"slideNextTransitionStart",7);this.slidePrevTransitionEnd=createEvent(this,"slidePrevTransitionEnd",7);this.slidePrevTransitionStart=createEvent(this,"slidePrevTransitionStart",7);this.sliderMove=createEvent(this,"sliderMove",7);this.touchSliderEnd=createEvent(this,"touchSliderEnd",7);this.touchSliderMove=createEvent(this,"touchSliderMove",7);this.touchSliderStart=createEvent(this,"touchSliderStart",7);this.sliderTransitionEnd=createEvent(this,"sliderTransitionEnd",7);this.sliderTransitionStart=createEvent(this,"sliderTransitionStart",7);this.hasThumbSlot=false;this.pre_defined_config={carousel:{speed:300,slidesPerView:"auto",spaceBetween:0},fullwidth:{speed:750,parallax:true},fullscreen:{speed:1e3,parallax:true,direction:"vertical",followFinger:false,touchReleaseOnEdges:true,lazy:true,mousewheel:{}},testimonials:{draggable:true,slidesPerView:1,breakpoints:{1024:{slidesPerView:2}}},blog:{parallax:true,speed:800,loop:true,slidesPerView:1,centeredSlides:true,spaceBetween:30,breakpoints:{320:{spaceBetween:10},768:{spaceBetween:15},980:{paceBetween:30}}},thumbs:{slidesPerView:1,spaceBetween:30}};this.blockTitle="";this.listenToThumbnailsOption=false;this.blockSubtitle="";this.displayAllUrl="";this.arrowsCentered=false;this.verticalThumbs=false;this.gridThumbs=false;this.vertical=false;this.autoHeight=false;this.showControls=true;this.controlsOuter=false;this.showThumbsControls=true;this.autoPlay=false;this.slidesPerView="auto";this.pagination=false;this.centered=false;this.loop=false;this.direction=undefined;this.type="";this.sliderConfig=undefined;this.thumbsConfig={};this.currentIndex=undefined;this.isEnd=false;this.isBeginning=true;this.swiperScript=undefined;this.displayAllTitle=undefined;this.direction=this.direction||document.documentElement.dir}e.prototype.slideTo=function(e,t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return[2,this.slider.slideTo(e,t,i)]}))}))};e.prototype.slideNext=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){(i=this.slider)===null||i===void 0?void 0:i.slideNext(e,t);return[2]}))}))};e.prototype.slidePrev=function(e,t){return __awaiter(this,void 0,void 0,(function(){var i;return __generator(this,(function(n){(i=this.slider)===null||i===void 0?void 0:i.slidePrev(e,t);return[2]}))}))};e.prototype.slideToLoop=function(e,t,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){this.slider.slideToLoop(e,t,i);return[2]}))}))};e.prototype.slideNextLoop=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.slider.slideNextLoop(e,t);return[2]}))}))};e.prototype.slidePrevLoop=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.slider.slidePrevLoop(e,t);return[2]}))}))};e.prototype.slideReset=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.slider.slideReset(e,t);return[2]}))}))};e.prototype.slideToClosest=function(e,t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(i){this.slider.slideToClosest(e,t);return[2]}))}))};e.prototype.update=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.slider.update();return[2]}))}))};e.prototype.updateAutoHeight=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.slider.updateAutoHeight(e);return[2]}))}))};e.prototype.updateSlides=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.slider.updateSlides();return[2]}))}))};e.prototype.updateProgress=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.slider.updateProgress();return[2]}))}))};e.prototype.updateSlidesClasses=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.slider.updateSlidesClasses();return[2]}))}))};e.prototype.getSlides=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,(e=this.slider)===null||e===void 0?void 0:e.slides];case 1:return[2,t.sent()]}}))}))};e.prototype.componentWillLoad=function(){var e=this;salla.lang.onLoaded((function(){e.displayAllTitle=salla.lang.get("blocks.home.display_all")}));this.hasThumbSlot=!!this.host.querySelector('[slot="thumbs"]');if(this.listenToThumbnailsOption){salla.event.on("product-options::change",(function(t){var i;if(t.option.type=="thumbnail"){var n=(i=e.sliderWrapper.querySelector('[data-img-id="'.concat(t.detail.option_value,'"]')))===null||i===void 0?void 0:i.getAttribute("data-slid-index");n?e.slideTo(parseInt(n),300,false):""}}))}return new Promise((function(t,i){if(typeof Swiper!=="undefined"){return t(true)}if(document.getElementById("swiper-script")){var n=setInterval((function(){if(typeof Swiper!=="undefined"){clearInterval(n);t(true)}}),5)}else{e.swiperScript=document.createElement("script");e.swiperScript.onload=function(){t(true);salla.event.emit("swiper::loaded")};e.swiperScript.onerror=function(e){salla.logger.warn("failed load swiper bundle",e);i(true)};e.swiperScript.src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js";e.swiperScript.setAttribute("id","swiper-script");document.body.appendChild(e.swiperScript)}}))};e.prototype.getSwiperConfig=function(){var e=this;var t={loop:this.loop,autoplay:this.type=="fullwidth"&&!!this.autoPlay?{delay:5e3}:this.autoPlay,centeredSlides:this.centered,slidesPerView:this.slidesPerView,autoHeight:this.autoHeight,lazy:true,on:{afterInit:function(t){var i;e.afterInit.emit(t);(i=document.lazyLoadInstance)===null||i===void 0?void 0:i.update();e.loop&&t.slides.map((function(e){if(!e.classList.contains("swiper-slide-duplicate")){return}e.querySelectorAll("img.lazy:not(.loaded)").forEach((function(e){return e.classList.add("loaded")}))}))}},pagination:this.pagination?{el:this.host.id?"#".concat(this.host.id," .swiper-pagination"):"",clickable:true}:false,navigation:this.showControls?{nextEl:this.host.id?"#".concat(this.host.id," .s-slider-next"):"",prevEl:this.host.id?"#".concat(this.host.id," .s-slider-prev"):""}:false,breakpoints:{768:{direction:this.vertical?"vertical":"horizontal"}}};this.pre_defined_config.fullscreen.mousewheel={releaseOnEdges:this.host.querySelectorAll(".swiper-slide").length>1?false:true},t=Object.assign(Object.assign({},t),this.pre_defined_config[this.type]||{});if(this.type=="thumbs"&&this.thumbsSliderWrapper){for(var i=0,n=this.thumbsSliderWrapper.children;i<n.length;i++){var a=n[i];a.classList.add("swiper-slide")}this.thumbsSlider=new Swiper(this.thumbsSliderContainer,{freeMode:false,watchSlidesProgress:true,slidesPerView:4,spaceBetween:10,watchOverflow:true,watchSlidesVisibility:true,breakpoints:{768:{direction:this.verticalThumbs?"vertical":"horizontal",spaceBetween:16}},navigation:this.showThumbsControls?{nextEl:this.host.id?"#".concat(this.host.id," .s-slider-thumbs-next"):"",prevEl:this.host.id?"#".concat(this.host.id," .s-slider-thumbs-prev"):""}:false});t.thumbs={swiper:this.thumbsSlider}}t=Object.assign({},t);if(this.sliderConfig){try{t=Object.assign(Object.assign({},t),JSON.parse(this.sliderConfig))}catch(e){salla.logger.warn("failed to parse slider config",e)}}return t};e.prototype.initSlider=function(){var e=this;for(var t=0,i=this.sliderWrapper.children;t<i.length;t++){var n=i[t];n.classList.add("swiper-slide")}this.slider=new Swiper(this.sliderContainer,this.getSwiperConfig());this.slider.on("slideChange",(function(t){e.isBeginning=t.isBeginning;e.isEnd=t.isEnd;e.slideChange.emit(t)}));this.slider.on("reachBeginning",(function(t){return e.reachBeginning.emit(t)}));this.slider.on("reachEnd",(function(t){return e.reachEnd.emit(t)}));this.slider.on("slideChangeTransitionEnd",(function(t){if(e.type=="fullscreen"){var i=t.activeIndex;t.params.mousewheel.releaseOnEdges=i===0||i===t.slides.length-1}e.slideChangeTransitionEnd.emit(t)}));this.slider.on("slideChangeTransitionStart",(function(t){return e.slideChangeTransitionStart.emit(t)}));this.slider.on("slideNextTransitionEnd",(function(t){return e.slideNextTransitionEnd.emit(t)}));this.slider.on("slideNextTransitionStart",(function(t){return e.slideNextTransitionStart.emit(t)}));this.slider.on("slidePrevTransitionEnd",(function(t){return e.slidePrevTransitionEnd.emit(t)}));this.slider.on("slidePrevTransitionStart",(function(t){return e.slidePrevTransitionStart.emit(t)}));this.slider.on("sliderMove",(function(t){return e.sliderMove.emit(t)}));this.slider.on("touchEnd",(function(t){return e.touchSliderEnd.emit(t)}));this.slider.on("touchMove",(function(t){return e.touchSliderMove.emit(t)}));this.slider.on("touchStart",(function(t){return e.touchSliderStart.emit(t)}));this.slider.on("transitionEnd",(function(t){return e.sliderTransitionEnd.emit(t)}));this.slider.on("transitionStart",(function(t){return e.sliderTransitionStart.emit(t)}))};e.prototype.render=function(){var e=this;var t=this.type?this.type+"-slider ":"";t+=this.controlsOuter?" s-slider-controls-outer ":"";t+=this.blockTitle==""?" s-slider-has-notitle s-slider-v-centered ":"";t+=this.verticalThumbs?" s-slider-vertical ":" s-slider-horizontal ";t+=this.arrowsCentered?" s-slider-v-centered ":"";t+=this.gridThumbs?" s-slider-with-grid-thumbs ":"";return h(Host,{class:"s-slider-wrapper "+t},this.blockTitle||this.showControls?h("div",{class:"s-slider-block__title"},this.blockTitle?h("div",{class:"s-slider-block__title-right"},h("h2",null,this.blockTitle),this.blockSubtitle?h("p",{innerHTML:this.blockSubtitle}):""):"",h("div",{class:"s-slider-block__title-left"},this.displayAllUrl?h("a",{href:this.displayAllUrl,class:"s-slider-block__display-all"},this.displayAllTitle):"",this.showControls?h("div",{class:"s-slider-block__title-nav",dir:"rtl"},h("button",{"aria-label":"Previous Slide",class:"s-slider-prev s-slider-nav-arrow"},h("span",{class:"s-slider-button-icon",innerHTML:this.direction=="rtl"?ArrowRightIcon$1:ArrowLeftIcon})),h("button",{"aria-label":"Next Slide",class:"s-slider-next s-slider-nav-arrow"},h("span",{class:"s-slider-button-icon",innerHTML:this.direction=="rtl"?ArrowLeftIcon:ArrowRightIcon$1}))):"")):"",h("div",{class:"swiper s-slider-container",ref:function(t){return e.sliderContainer=t},dir:this.vertical?"ltr":this.direction},h("slot",null),h("div",{class:"swiper-wrapper s-slider-swiper-wrapper",ref:function(t){return e.sliderWrapper=t}},h("slot",{name:"items"})),this.pagination?h("div",{class:"swiper-pagination"}):""),this.type=="thumbs"&&this.hasThumbSlot?h("div",{class:"s-slider-thumbs"},h("div",{class:"swiper s-slider-thumbs-container",dir:this.verticalThumbs?"ltr":this.direction,ref:function(t){return e.thumbsSliderContainer=t}},h("div",{class:{"s-slider-swiper-wrapper swiper-wrapper":true,"s-slider-grid-thumbs":this.gridThumbs},ref:function(t){return e.thumbsSliderWrapper=t}},h("slot",{name:"thumbs"})),this.showThumbsControls?h("div",{class:"s-slider-thumbs-nav",dir:"rtl"},h("button",{"aria-label":"Previous Slide",class:"s-slider-thumbs-prev s-slider-nav-arrow"},h("span",{class:"s-slider-button-icon",innerHTML:this.direction=="rtl"?ArrowRightIcon$1:ArrowLeftIcon})),h("button",{"aria-label":"Next Slide",class:"s-slider-thumbs-next s-slider-nav-arrow"},h("span",{class:"s-slider-button-icon",innerHTML:this.direction=="rtl"?ArrowLeftIcon:ArrowRightIcon$1}))):null)):null)};e.prototype.componentDidLoad=function(){var e=this;var t=this.sliderWrapper.querySelector('div[slot="items"]');!!t?t.replaceWith.apply(t,t.children):null;if(this.type=="thumbs"&&this.hasThumbSlot){var i=this.thumbsSliderWrapper.querySelector('div[slot="thumbs"]');!!i?i.replaceWith.apply(i,i.children):null}if(typeof Swiper==="undefined"){salla.event.once("swiper::loaded",(function(){return e.initSlider()}))}else{this.initSlider()}};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaSwiper.style=sallaSliderCss;var facebook='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>facebook</title>\n<path d="M19 32h-6c-0.552 0-1-0.448-1-1v0-13h-3c-0.552 0-1-0.448-1-1v0-5c0-0.552 0.448-1 1-1v0h3v-4c0-3.866 3.134-7 7-7v0h4c0.552 0 1 0.448 1 1v0 5c0 0.552-0.448 1-1 1v0h-2c-0.552 0-1 0.448-1 1v0 3h5c0.552 0 1 0.448 1 1 0 0.134-0.026 0.262-0.074 0.379l0.002-0.007-2 5c-0.152 0.371-0.51 0.628-0.928 0.628h-3v13c0 0.552-0.448 1-1 1v0zM14 30h4v-13c0-0.552 0.448-1 1-1v0h3.324l1.2-3h-4.524c-0.552 0-1-0.448-1-1v0-4c0-1.657 1.343-3 3-3v0h1v-3h-3c-2.761 0-5 2.239-5 5v0 5c0 0.552-0.448 1-1 1v0h-3v3h3c0.552 0 1 0.448 1 1v0z"></path>\n</svg>\n';var twitter='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>twitter</title>\n<path d="M10.436 30c-0.012 0-0.026 0-0.041 0-3.691 0-7.129-1.088-10.009-2.961l0.071 0.043c-0.279-0.181-0.46-0.49-0.46-0.842 0-0.123 0.022-0.24 0.063-0.349l-0.002 0.007c0.148-0.387 0.516-0.657 0.948-0.657 0.042 0 0.083 0.003 0.123 0.007l-0.005-0c0.399 0.049 0.86 0.077 1.328 0.077 1.836 0 3.57-0.432 5.108-1.199l-0.066 0.030c-1.941-0.823-3.42-2.412-4.079-4.377l-0.015-0.051c-0.033-0.095-0.053-0.205-0.053-0.32 0-0.255 0.096-0.488 0.253-0.665l-0.001 0.001 0.062-0.062c-1.511-1.323-2.46-3.254-2.462-5.408v-0c0-0 0-0.001 0-0.001 0-0.374 0.194-0.703 0.488-0.89l0.004-0.003c0.115-0.070 0.25-0.121 0.393-0.145l0.007-0.001c-0.534-0.978-0.848-2.141-0.848-3.379 0-1.329 0.362-2.574 0.994-3.641l-0.018 0.033c0.176-0.301 0.498-0.501 0.866-0.501 0.312 0 0.591 0.143 0.774 0.367l0.001 0.002c2.627 3.213 6.397 5.405 10.682 5.953l0.082 0.009c0-0.098 0-0.2 0-0.302 0-0.001 0-0.002 0-0.002 0-3.949 3.201-7.15 7.15-7.15 1.852 0 3.54 0.704 4.81 1.86l-0.006-0.005c1.165-0.288 2.19-0.719 3.127-1.282l-0.051 0.028c0.146-0.088 0.323-0.141 0.512-0.141 0.552 0 1 0.448 1 1 0 0.109-0.017 0.214-0.050 0.312l0.002-0.007c-0.151 0.464-0.324 0.861-0.531 1.237l0.019-0.037c0.117-0.052 0.253-0.082 0.396-0.082 0.552 0 1 0.448 1 1 0 0.208-0.064 0.401-0.172 0.561l0.002-0.004c-0.812 1.212-1.772 2.247-2.87 3.114l-0.028 0.022c0 0.1 0 0.2 0 0.306 0 0.051 0.001 0.111 0.001 0.171 0 10.12-8.204 18.324-18.324 18.324-0.062 0-0.124-0-0.186-0.001l0.009 0zM5 27.084c1.616 0.58 3.481 0.916 5.424 0.916 0.004 0 0.008 0 0.013 0h-0.001c0.048 0 0.104 0.001 0.161 0.001 9.027 0 16.344-7.317 16.344-16.344 0-0.055-0-0.11-0.001-0.165l0 0.008c0-0.256 0-0.502-0.022-0.746-0.001-0.014-0.001-0.031-0.001-0.049 0-0.335 0.165-0.632 0.418-0.813l0.003-0.002q0.312-0.222 0.6-0.466l-0.364 0.052c-0.038 0.005-0.082 0.008-0.126 0.008-0.552 0-1-0.448-1-1 0-0.363 0.193-0.68 0.482-0.856l0.004-0.003q0.222-0.134 0.428-0.286c-0.3 0.082-0.6 0.154-0.912 0.214-0.059 0.012-0.127 0.020-0.197 0.020-0.286 0-0.544-0.12-0.727-0.313l-0-0c-0.943-1.007-2.28-1.634-3.764-1.634-2.845 0-5.152 2.307-5.152 5.152 0 0.001 0 0.002 0 0.002v-0c-0 0.020-0 0.043-0 0.066 0 0.395 0.043 0.781 0.125 1.151l-0.007-0.035c0.017 0.069 0.027 0.148 0.027 0.23 0 0.242-0.086 0.463-0.228 0.636l0.001-0.002c-0.177 0.219-0.445 0.358-0.746 0.358-0.024 0-0.047-0.001-0.071-0.003l0.003 0c-4.85-0.253-9.167-2.342-12.31-5.577l-0.004-0.005c-0.098 0.376-0.155 0.808-0.155 1.253 0 1.778 0.902 3.345 2.272 4.27l0.018 0.012c0.27 0.182 0.446 0.487 0.446 0.832 0 0.552-0.448 1-1 1-0.008 0-0.015-0-0.023-0l0.001 0c-0.548-0.010-1.074-0.082-1.577-0.21l0.047 0.010c0.554 1.812 2.029 3.181 3.866 3.574l0.034 0.006c0.458 0.097 0.797 0.499 0.797 0.979 0 0.456-0.305 0.841-0.722 0.961l-0.007 0.002c-0.412 0.117-0.89 0.198-1.383 0.225l-0.017 0.001c0.926 1.304 2.415 2.156 4.105 2.2l0.007 0c0.546 0.009 0.984 0.453 0.984 1 0 0.319-0.15 0.603-0.382 0.787l-0.002 0.002c-1.596 1.249-3.522 2.154-5.625 2.568l-0.085 0.014z"></path>\n</svg>\n';var copy_link='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>link</title>\n<path d="M19.247 23.019l-4.189 4.189c-2.831 2.831-7.435 2.831-10.265 0-1.371-1.372-2.125-3.193-2.125-5.132s0.755-3.761 2.125-5.133l4.189-4.191c0.521-0.521 0.521-1.364 0-1.885s-1.364-0.521-1.885 0l-4.189 4.191c-1.875 1.875-2.907 4.367-2.907 7.019s1.032 5.143 2.907 7.017 4.368 2.907 7.019 2.907 5.143-1.032 7.017-2.908l4.189-4.189c0.521-0.521 0.521-1.364 0-1.885s-1.364-0.52-1.885 0.001zM22.276 9.724c-0.521-0.521-1.364-0.521-1.885 0l-10.667 10.667c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l10.667-10.667c0.521-0.521 0.521-1.364 0-1.885zM29.093 2.908c-1.875-1.876-4.368-2.908-7.019-2.908s-5.143 1.032-7.017 2.908l-4.189 4.188c-0.521 0.521-0.521 1.364 0 1.885s1.364 0.521 1.885 0l4.189-4.189c2.831-2.831 7.435-2.831 10.265 0 1.371 1.372 2.125 3.193 2.125 5.132s-0.755 3.761-2.125 5.133l-4.189 4.191c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l4.189-4.191c1.875-1.875 2.907-4.367 2.907-7.019s-1.032-5.143-2.907-7.016z"></path>\n</svg>\n';var whatsapp='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>whatsapp</title>\n<path d="M16 32c-0.008 0-0.018 0-0.028 0-3.1 0-5.993-0.887-8.439-2.421l0.066 0.039-7.2 2.3 2.336-6.964c-1.713-2.492-2.736-5.575-2.736-8.897 0-0.020 0-0.040 0-0.060v0.003c0.009-8.833 7.167-15.991 15.999-16h0.001c8.837 0 16 7.163 16 16s-7.163 16-16 16v0zM7.906 27.424l0.4 0.264c2.169 1.449 4.837 2.312 7.707 2.312 7.732 0 14-6.268 14-14s-6.268-14-14-14c-0.004 0-0.009 0-0.013 0h0.001c-7.729 0.008-13.992 6.271-14 13.999v0.001c-0 0.010-0 0.021-0 0.032 0 3.072 1 5.909 2.693 8.206l-0.027-0.038 0.304 0.416-1.4 4.2zM20.716 24.958c-1.684-0.131-3.237-0.574-4.641-1.271l0.073 0.033c-3.098-1.456-5.634-3.668-7.438-6.405l-0.042-0.067c-1.102-1.357-1.819-3.067-1.962-4.938l-0.002-0.030c-0.001-0.036-0.001-0.078-0.001-0.12 0-1.575 0.66-2.995 1.719-4l0.002-0.002c0.547-0.52 1.289-0.839 2.105-0.839 0.033 0 0.066 0.001 0.099 0.002l-0.005-0c0.2 0 0.378 0 0.542 0.018 0.016-0.001 0.035-0.001 0.054-0.001 0.815 0 1.502 0.549 1.711 1.298l0.003 0.012 0.324 0.782c0.376 0.906 0.858 2.068 0.942 2.244 0.144 0.251 0.23 0.552 0.23 0.873 0 0.286-0.068 0.557-0.188 0.797l0.005-0.010c-0.149 0.307-0.332 0.57-0.55 0.802l0.002-0.002c-0.148 0.168-0.248 0.274-0.346 0.378s-0.172 0.18-0.26 0.284c0.575 0.92 1.237 1.713 1.992 2.406l0.008 0.008c0.829 0.758 1.802 1.373 2.872 1.8l0.064 0.022c0.369-0.266 0.672-0.6 0.896-0.985l0.008-0.015 0.174-0.232c0.328-0.484 0.875-0.798 1.495-0.798 0.249 0 0.487 0.051 0.703 0.142l-0.012-0.004c0.492 0.168 2.922 1.372 2.946 1.384l0.228 0.11c0.415 0.149 0.758 0.417 0.996 0.763l0.004 0.007c0.107 0.349 0.169 0.75 0.169 1.166 0 0.591-0.125 1.153-0.349 1.661l0.010-0.026c-0.702 1.368-1.983 2.353-3.511 2.637l-0.031 0.005c-0.309 0.071-0.663 0.112-1.028 0.112-0.004 0-0.007 0-0.011 0h0.001zM10.632 9.318c-0.028-0.002-0.062-0.004-0.095-0.004-0.245 0-0.472 0.076-0.659 0.206l0.004-0.002c-0.726 0.651-1.18 1.591-1.18 2.638 0 0.044 0.001 0.087 0.002 0.13l-0-0.006c0.122 1.404 0.662 2.662 1.495 3.671l-0.009-0.011 0.12 0.168c1.627 2.491 3.865 4.46 6.504 5.723l0.096 0.041c3.136 1.288 3.916 1.124 4.426 1.014 0.87-0.159 1.601-0.656 2.067-1.347l0.007-0.011c0.12-0.316 0.204-0.682 0.237-1.063l0.001-0.015-0.040-0.018-0.256-0.124c-0.8-0.4-2.46-1.2-2.734-1.292l-0.058 0.184c-0.346 0.501-0.684 0.934-1.045 1.347l0.015-0.017c-0.344 0.349-0.821 0.565-1.349 0.565-0.28 0-0.546-0.061-0.785-0.17l0.012 0.005c-1.403-0.547-2.609-1.301-3.646-2.239l0.010 0.009c-0.975-0.891-1.81-1.912-2.486-3.039l-0.034-0.061c-0.152-0.244-0.242-0.54-0.242-0.857 0-0.463 0.191-0.88 0.499-1.178l0-0c0.13-0.162 0.264-0.302 0.4-0.444l0.236-0.256c0.091-0.096 0.177-0.201 0.254-0.311l0.006-0.009c-0.158-0.36-0.622-1.472-0.988-2.352l-0.322-0.772-0.038-0.086c-0.188-0.010-0.302-0.016-0.426-0.016zM12.462 12.442v0.012z"></path>\n</svg>\n';var Socials;(function(e){e["FACEBOOK"]="facebook";e["TWITTER"]="twitter";e["WHATSAPP"]="whatsapp";e["EMAIL"]="email";e["COPY_LINK"]="copy_link"})(Socials||(Socials={}));var ShareAlt='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>share-alt</title>\n<path d="M26.667 21.333c-1.699 0-3.196 0.812-4.173 2.052l-11.912-5.211c0.044-0.276 0.085-0.553 0.085-0.841 0-0.472-0.081-0.923-0.197-1.359l12.361-6.952c0.971 1.009 2.328 1.644 3.836 1.644 2.941 0 5.333-2.392 5.333-5.333s-2.392-5.333-5.333-5.333-5.333 2.392-5.333 5.333c0 0.472 0.081 0.923 0.197 1.359l-12.361 6.952c-0.971-1.009-2.328-1.644-3.836-1.644-2.941 0-5.333 2.392-5.333 5.333s2.392 5.333 5.333 5.333c1.699 0 3.196-0.812 4.173-2.052l11.912 5.211c-0.044 0.276-0.085 0.553-0.085 0.841 0 2.941 2.392 5.333 5.333 5.333s5.333-2.392 5.333-5.333-2.392-5.333-5.333-5.333zM26.667 2.667c1.471 0 2.667 1.196 2.667 2.667s-1.196 2.667-2.667 2.667-2.667-1.196-2.667-2.667 1.196-2.667 2.667-2.667zM5.333 20c-1.471 0-2.667-1.196-2.667-2.667s1.196-2.667 2.667-2.667 2.667 1.196 2.667 2.667-1.196 2.667-2.667 2.667zM26.667 29.333c-1.471 0-2.667-1.196-2.667-2.667s1.196-2.667 2.667-2.667 2.667 1.196 2.667 2.667-1.196 2.667-2.667 2.667z"></path>\n</svg>\n';var sallaSocialShareCss="";var SallaSocialShare=function(){function e(e){registerInstance(this,e);this.opened=false;this.allPlatforms=[Socials.WHATSAPP,Socials.FACEBOOK,Socials.TWITTER,Socials.EMAIL,Socials.COPY_LINK];this.platformIcons=[{icon:whatsapp,name:Socials.WHATSAPP},{icon:facebook,name:Socials.FACEBOOK},{icon:twitter,name:Socials.TWITTER},{icon:MailIcon,name:Socials.EMAIL},{icon:copy_link,name:Socials.COPY_LINK}];this.convertedPlatforms=[];this.url="";this.urlName="";this.platforms="facebook,twitter,whatsapp,email,copy_link"}e.prototype.componentWillLoad=function(){var e=this;if(document.getElementById("a2a-script")){return}var t=document.createElement("script");t.src="https://static.addtoany.com/menu/page.js";t.setAttribute("id","a2a-script");t.async=true;t.onload=function(){window.a2a_config=window.a2a_config||{};window.a2a_config.linkurl=e.url?e.url:window.location.href;window.a2a_config.linkname=e.urlName?e.urlName:document.title;window.a2a_config.locale=salla.config.get("user.language_code",salla.lang.getLocale())};document.body.appendChild(t)};e.prototype.open=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.opened=!this.opened;if(this.opened){this.shareMenu.classList.add("opened")}else{this.shareMenu.classList.remove("opened")}(new anime.timeline).add({targets:this.shareMenu,translateY:[-50,0],opacity:[0,1],duration:300,podding:"0",easing:"easeInOutSine"}).add({targets:this.platformItem,translateZ:0,translateY:[-30,0],scaleY:[0,1],opacity:[0,1],duration:1200,delay:anime.stagger(100)},"-=200");return[2]}))}))};e.prototype.render=function(){var e=this;return h("div",{class:"s-social-share-wrapper"},h("slot",{name:"widget"},h("salla-button",{"aria-label":"Share",onClick:function(){return e.open()},class:"s-social-share-btn",shape:"icon",fill:"outline",color:"light"},h("span",{innerHTML:this.opened?Cancel$1:ShareAlt}))),h("ul",{ref:function(t){return e.shareMenu=t},class:"s-social-share-list a2a_kit share"},this.platforms.split(",").map((function(t){return h("li",{ref:function(t){return e.platformItem=t}},h("a",{class:"a2a_button_".concat(t),"aria-label":"Share Via ".concat(t)},e.platformIcons.map((function(e){if(e.name===t){return h("span",{class:"s-social-share-icon",innerHTML:e.icon})}}))))}))))};return e}();SallaSocialShare.style=sallaSocialShareCss;var sallaTabContentCss="";var SallaTabContent=function(){function e(e){registerInstance(this,e);this.name=undefined;this.isSelected=false}e.prototype.getChild=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,{selected:this.selected.bind(this),unselect:this.unselect.bind(this),name:this.name}]}))}))};e.prototype.unselect=function(){this.isSelected=false};e.prototype.selected=function(){this.isSelected=true};e.prototype.render=function(){var e={"s-tabs-content":true,"s-tabs-content-selected":this.isSelected};return h("div",{class:e},h("slot",null))};return e}();SallaTabContent.style=sallaTabContentCss;function generateRandomId(){return Math.random().toString(36).slice(2,10)}var sallaTabHeaderCss="";var SallaTabHeader=function(){function e(e){registerInstance(this,e);this.tabSelected=createEvent(this,"tabSelected",7);this.id=generateRandomId();this.name=undefined;this.activeClass=undefined;this.height=undefined;this.centered=false;this.isSelected=false}e.prototype.getChild=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,{selected:this.selected.bind(this),unselect:this.unselect.bind(this),name:this.name,id:this.id}]}))}))};e.prototype.unselect=function(){this.isSelected=false};e.prototype.selected=function(){this.isSelected=true};e.prototype.onClick=function(){var e=this;this.getChild().then((function(t){e.tabSelected.emit(t)}))};e.prototype.render=function(){var e={"s-tabs-header-item":true,"s-tabs-bg-normal":true,"s-tabs-active":this.isSelected};return[h("div",{class:e,onClick:this.onClick.bind(this)},h("slot",null))]};return e}();SallaTabHeader.style=sallaTabHeaderCss;var sallaTabsCss=".s-tabs-header{-ms-overflow-style:none;scrollbar-width:none;}.s-tabs-header::-webkit-scrollbar{display:none}";var SallaTabs=function(){function e(e){registerInstance(this,e);this.backgroundColor=undefined;this.vertical=false}e.prototype.componentWillLoad=function(){var e=this;this.createGroup().then((function(){var t=e.tabGroup[0];e.selectGroup(t)}))};e.prototype.onSelectedTab=function(e){var t=this.tabGroup.find((function(t){return t.header.id===e.detail.id}));this.selectGroup(t)};e.prototype.createGroup=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,i,n;var a=this;return __generator(this,(function(r){switch(r.label){case 0:e=Array.from(this.host.querySelectorAll("salla-tab-header"));t=this;return[4,Promise.all(e.map((function(e){return e.getChild()})))];case 1:t.tabsHeader=r.sent();i=Array.from(this.host.querySelectorAll("salla-tab-content"));n=this;return[4,Promise.all(i.map((function(e){return e.getChild()})))];case 2:n.tabsContent=r.sent();this.tabGroup=this.tabsHeader.map((function(e){var t=a.tabsContent.find((function(t){return t.name===e.name}));return{header:e,content:t}}));return[2]}}))}))};e.prototype.selectGroup=function(e){this.tabGroup.map((function(e){e.header.unselect();e.content.unselect()}));e.header.selected();e.content.selected()};e.prototype.render=function(){return[h("div",{class:"s-tabs"},h("div",{class:"s-tabs-header"},h("slot",{name:"header"})),h("div",{class:"s-tabs-content-wrapper"},h("slot",{name:"content"})))]};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaTabs.style=sallaTabsCss;var intlTelInput$1=createCommonjsModule((function(e){(function(t){if(e.exports)e.exports=t();else window.intlTelInput=t()})((function(e){return function(){var t=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Ascension Island","ac","247"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Eswatini","sz","268"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["North Macedonia (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]];for(var i=0;i<t.length;i++){var n=t[i];t[i]={name:n[0],iso2:n[1],dialCode:n[2],priority:n[3]||0,areaCodes:n[4]||null}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,i){if(t)r(e.prototype,t);if(i)r(e,i);return e}var s={getInstance:function e(t){var i=t.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[i]},instances:{},documentReady:function e(){return document.readyState==="complete"}};if(typeof window==="object")window.intlTelInputGlobals=s;var l=0;var c={allowDropdown:true,autoHideDialCode:true,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:true,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:true,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:false,utilsScript:""};var u=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];var d=function e(t,i){var n=Object.keys(t);for(var a=0;a<n.length;a++){i(n[a],t[n[a]])}};var p=function e(t){d(window.intlTelInputGlobals.instances,(function(e){window.intlTelInputGlobals.instances[e][t]()}))};var f=function(){function i(e,t){var n=this;a(this,i);this.id=l++;this.telInput=e;this.activeItem=null;this.highlightedItem=null;var r=t||{};this.options={};d(c,(function(e,t){n.options[e]=r.hasOwnProperty(e)?r[e]:t}));this.hadInitialPlaceholder=Boolean(e.getAttribute("placeholder"))}o(i,[{key:"_init",value:function e(){var t=this;if(this.options.nationalMode)this.options.autoHideDialCode=false;if(this.options.separateDialCode){this.options.autoHideDialCode=this.options.nationalMode=false}this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(this.isMobile){document.body.classList.add("iti-mobile");if(!this.options.dropdownContainer)this.options.dropdownContainer=document.body}if(typeof Promise!=="undefined"){var i=new Promise((function(e,i){t.resolveAutoCountryPromise=e;t.rejectAutoCountryPromise=i}));var n=new Promise((function(e,i){t.resolveUtilsScriptPromise=e;t.rejectUtilsScriptPromise=i}));this.promise=Promise.all([i,n])}else{this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){};this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){}}this.selectedCountryData={};this._processCountryData();this._generateMarkup();this._setInitialState();this._initListeners();this._initRequests()}},{key:"_processCountryData",value:function e(){this._processAllCountries();this._processCountryCodes();this._processPreferredCountries();if(this.options.localizedCountries)this._translateCountriesByLocale();if(this.options.onlyCountries.length||this.options.localizedCountries){this.countries.sort(this._countryNameSort)}}},{key:"_addCountryCode",value:function t(i,n,a){if(n.length>this.countryCodeMaxLen){this.countryCodeMaxLen=n.length}if(!this.countryCodes.hasOwnProperty(n)){this.countryCodes[n]=[]}for(var r=0;r<this.countryCodes[n].length;r++){if(this.countryCodes[n][r]===i)return}var o=a!==e?a:this.countryCodes[n].length;this.countryCodes[n][o]=i}},{key:"_processAllCountries",value:function e(){if(this.options.onlyCountries.length){var i=this.options.onlyCountries.map((function(e){return e.toLowerCase()}));this.countries=t.filter((function(e){return i.indexOf(e.iso2)>-1}))}else if(this.options.excludeCountries.length){var n=this.options.excludeCountries.map((function(e){return e.toLowerCase()}));this.countries=t.filter((function(e){return n.indexOf(e.iso2)===-1}))}else{this.countries=t}}},{key:"_translateCountriesByLocale",value:function e(){for(var t=0;t<this.countries.length;t++){var i=this.countries[t].iso2.toLowerCase();if(this.options.localizedCountries.hasOwnProperty(i)){this.countries[t].name=this.options.localizedCountries[i]}}}},{key:"_countryNameSort",value:function e(t,i){return t.name.localeCompare(i.name)}},{key:"_processCountryCodes",value:function e(){this.countryCodeMaxLen=0;this.dialCodes={};this.countryCodes={};for(var t=0;t<this.countries.length;t++){var i=this.countries[t];if(!this.dialCodes[i.dialCode])this.dialCodes[i.dialCode]=true;this._addCountryCode(i.iso2,i.dialCode,i.priority)}for(var n=0;n<this.countries.length;n++){var a=this.countries[n];if(a.areaCodes){var r=this.countryCodes[a.dialCode][0];for(var o=0;o<a.areaCodes.length;o++){var s=a.areaCodes[o];for(var l=1;l<s.length;l++){var c=a.dialCode+s.substr(0,l);this._addCountryCode(r,c);this._addCountryCode(a.iso2,c)}this._addCountryCode(a.iso2,a.dialCode+s)}}}}},{key:"_processPreferredCountries",value:function e(){this.preferredCountries=[];for(var t=0;t<this.options.preferredCountries.length;t++){var i=this.options.preferredCountries[t].toLowerCase();var n=this._getCountryData(i,false,true);if(n)this.preferredCountries.push(n)}}},{key:"_createEl",value:function e(t,i,n){var a=document.createElement(t);if(i)d(i,(function(e,t){return a.setAttribute(e,t)}));if(n)n.appendChild(a);return a}},{key:"_generateMarkup",value:function e(){if(!this.telInput.hasAttribute("autocomplete")&&!(this.telInput.form&&this.telInput.form.hasAttribute("autocomplete"))){this.telInput.setAttribute("autocomplete","off")}var t="iti";if(this.options.allowDropdown)t+=" iti--allow-dropdown";if(this.options.separateDialCode)t+=" iti--separate-dial-code";if(this.options.customContainer){t+=" ";t+=this.options.customContainer}var i=this._createEl("div",{class:t});this.telInput.parentNode.insertBefore(i,this.telInput);this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},i);i.appendChild(this.telInput);this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-controls":"iti-".concat(this.id,"__country-listbox"),"aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.flagsContainer);this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag);if(this.options.separateDialCode){this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)}if(this.options.allowDropdown){this.selectedFlag.setAttribute("tabindex","0");this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag);this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox","aria-label":"List of countries"});if(this.preferredCountries.length){this._appendListItems(this.preferredCountries,"iti__preferred",true);this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)}this._appendListItems(this.countries,"iti__standard");if(this.options.dropdownContainer){this.dropdown=this._createEl("div",{class:"iti iti--container"});this.dropdown.appendChild(this.countryList)}else{this.flagsContainer.appendChild(this.countryList)}}if(this.options.hiddenInput){var n=this.options.hiddenInput;var a=this.telInput.getAttribute("name");if(a){var r=a.lastIndexOf("[");if(r!==-1)n="".concat(a.substr(0,r),"[").concat(n,"]")}this.hiddenInput=this._createEl("input",{type:"hidden",name:n});i.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function e(t,i,n){var a="";for(var r=0;r<t.length;r++){var o=t[r];var s=n?"-preferred":"";a+="<li class='iti__country ".concat(i,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(o.iso2).concat(s,"' role='option' data-dial-code='").concat(o.dialCode,"' data-country-code='").concat(o.iso2,"' aria-selected='false'>");a+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(o.iso2,"'></div></div>");a+="<span class='iti__country-name'>".concat(o.name,"</span>");a+="<span class='iti__dial-code'>+".concat(o.dialCode,"</span>");a+="</li>"}this.countryList.insertAdjacentHTML("beforeend",a)}},{key:"_setInitialState",value:function e(){var t=this.telInput.getAttribute("value");var i=this.telInput.value;var n=t&&t.charAt(0)==="+"&&(!i||i.charAt(0)!=="+");var a=n?t:i;var r=this._getDialCode(a);var o=this._isRegionlessNanp(a);var s=this.options,l=s.initialCountry,c=s.nationalMode,u=s.autoHideDialCode,d=s.separateDialCode;if(r&&!o){this._updateFlagFromNumber(a)}else if(l!=="auto"){if(l){this._setFlag(l.toLowerCase())}else{if(r&&o){this._setFlag("us")}else{this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2;if(!a){this._setFlag(this.defaultCountry)}}}if(!a&&!c&&!u&&!d){this.telInput.value="+".concat(this.selectedCountryData.dialCode)}}if(a)this._updateValFromNumber(a)}},{key:"_initListeners",value:function e(){this._initKeyListeners();if(this.options.autoHideDialCode)this._initBlurListeners();if(this.options.allowDropdown)this._initDropdownListeners();if(this.hiddenInput)this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function e(){var t=this;this._handleHiddenInputSubmit=function(){t.hiddenInput.value=t.getNumber()};if(this.telInput.form)this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function e(){var t=this.telInput;while(t&&t.tagName!=="LABEL"){t=t.parentNode}return t}},{key:"_initDropdownListeners",value:function e(){var t=this;this._handleLabelClick=function(e){if(t.countryList.classList.contains("iti__hide"))t.telInput.focus();else e.preventDefault()};var i=this._getClosestLabel();if(i)i.addEventListener("click",this._handleLabelClick);this._handleClickSelectedFlag=function(){if(t.countryList.classList.contains("iti__hide")&&!t.telInput.disabled&&!t.telInput.readOnly){t._showDropdown()}};this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag);this._handleFlagsContainerKeydown=function(e){var i=t.countryList.classList.contains("iti__hide");if(i&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(e.key)!==-1){e.preventDefault();e.stopPropagation();t._showDropdown()}if(e.key==="Tab")t._closeDropdown()};this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function e(){var t=this;if(this.options.utilsScript&&!window.intlTelInputUtils){if(window.intlTelInputGlobals.documentReady()){window.intlTelInputGlobals.loadUtils(this.options.utilsScript)}else{window.addEventListener("load",(function(){window.intlTelInputGlobals.loadUtils(t.options.utilsScript)}))}}else this.resolveUtilsScriptPromise();if(this.options.initialCountry==="auto")this._loadAutoCountry();else this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function e(){if(window.intlTelInputGlobals.autoCountry){this.handleAutoCountry()}else if(!window.intlTelInputGlobals.startedLoadingAutoCountry){window.intlTelInputGlobals.startedLoadingAutoCountry=true;if(typeof this.options.geoIpLookup==="function"){this.options.geoIpLookup((function(e){window.intlTelInputGlobals.autoCountry=e.toLowerCase();setTimeout((function(){return p("handleAutoCountry")}))}),(function(){return p("rejectAutoCountryPromise")}))}}}},{key:"_initKeyListeners",value:function e(){var t=this;this._handleKeyupEvent=function(){if(t._updateFlagFromNumber(t.telInput.value)){t._triggerCountryChange()}};this.telInput.addEventListener("keyup",this._handleKeyupEvent);this._handleClipboardEvent=function(){setTimeout(t._handleKeyupEvent)};this.telInput.addEventListener("cut",this._handleClipboardEvent);this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function e(t){var i=this.telInput.getAttribute("maxlength");return i&&t.length>i?t.substr(0,i):t}},{key:"_initBlurListeners",value:function e(){var t=this;this._handleSubmitOrBlurEvent=function(){t._removeEmptyDialCode()};if(this.telInput.form)this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent);this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function e(){if(this.telInput.value.charAt(0)==="+"){var t=this._getNumeric(this.telInput.value);if(!t||this.selectedCountryData.dialCode===t){this.telInput.value=""}}}},{key:"_getNumeric",value:function e(t){return t.replace(/\D/g,"")}},{key:"_trigger",value:function e(t){var i=document.createEvent("Event");i.initEvent(t,true,true);this.telInput.dispatchEvent(i)}},{key:"_showDropdown",value:function e(){this.countryList.classList.remove("iti__hide");this.selectedFlag.setAttribute("aria-expanded","true");this._setDropdownPosition();if(this.activeItem){this._highlightListItem(this.activeItem,false);this._scrollTo(this.activeItem,true)}this._bindDropdownListeners();this.dropdownArrow.classList.add("iti__arrow--up");this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function e(t,i,n){if(n&&!t.classList.contains(i))t.classList.add(i);else if(!n&&t.classList.contains(i))t.classList.remove(i)}},{key:"_setDropdownPosition",value:function e(){var t=this;if(this.options.dropdownContainer){this.options.dropdownContainer.appendChild(this.dropdown)}if(!this.isMobile){var i=this.telInput.getBoundingClientRect();var n=window.pageYOffset||document.documentElement.scrollTop;var a=i.top+n;var r=this.countryList.offsetHeight;var o=a+this.telInput.offsetHeight+r<n+window.innerHeight;var s=a-r>n;this._toggleClass(this.countryList,"iti__country-list--dropup",!o&&s);if(this.options.dropdownContainer){var l=!o&&s?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(a+l,"px");this.dropdown.style.left="".concat(i.left+document.body.scrollLeft,"px");this._handleWindowScroll=function(){return t._closeDropdown()};window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function e(t){var i=t;while(i&&i!==this.countryList&&!i.classList.contains("iti__country")){i=i.parentNode}return i===this.countryList?null:i}},{key:"_bindDropdownListeners",value:function e(){var t=this;this._handleMouseoverCountryList=function(e){var i=t._getClosestListItem(e.target);if(i)t._highlightListItem(i,false)};this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList);this._handleClickCountryList=function(e){var i=t._getClosestListItem(e.target);if(i)t._selectListItem(i)};this.countryList.addEventListener("click",this._handleClickCountryList);var i=true;this._handleClickOffToClose=function(){if(!i)t._closeDropdown();i=false};document.documentElement.addEventListener("click",this._handleClickOffToClose);var n="";var a=null;this._handleKeydownOnDropdown=function(e){e.preventDefault();if(e.key==="ArrowUp"||e.key==="Up"||e.key==="ArrowDown"||e.key==="Down")t._handleUpDownKey(e.key);else if(e.key==="Enter")t._handleEnterKey();else if(e.key==="Escape")t._closeDropdown();else if(/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)){if(a)clearTimeout(a);n+=e.key.toLowerCase();t._searchForCountry(n);a=setTimeout((function(){n=""}),1e3)}};document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function e(t){var i=t==="ArrowUp"||t==="Up"?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;if(i){if(i.classList.contains("iti__divider")){i=t==="ArrowUp"||t==="Up"?i.previousElementSibling:i.nextElementSibling}this._highlightListItem(i,true)}}},{key:"_handleEnterKey",value:function e(){if(this.highlightedItem)this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function e(t){for(var i=0;i<this.countries.length;i++){if(this._startsWith(this.countries[i].name,t)){var n=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[i].iso2));this._highlightListItem(n,false);this._scrollTo(n,true);break}}}},{key:"_startsWith",value:function e(t,i){return t.substr(0,i.length).toLowerCase()===i}},{key:"_updateValFromNumber",value:function e(t){var i=t;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var n=!this.options.separateDialCode&&(this.options.nationalMode||i.charAt(0)!=="+");var a=intlTelInputUtils.numberFormat,r=a.NATIONAL,o=a.INTERNATIONAL;var s=n?r:o;i=intlTelInputUtils.formatNumber(i,this.selectedCountryData.iso2,s)}i=this._beforeSetNumber(i);this.telInput.value=i}},{key:"_updateFlagFromNumber",value:function e(t){var i=t;var n=this.selectedCountryData.dialCode;var a=n==="1";if(i&&this.options.nationalMode&&a&&i.charAt(0)!=="+"){if(i.charAt(0)!=="1")i="1".concat(i);i="+".concat(i)}if(this.options.separateDialCode&&n&&i.charAt(0)!=="+"){i="+".concat(n).concat(i)}var r=this._getDialCode(i,true);var o=this._getNumeric(i);var s=null;if(r){var l=this.countryCodes[this._getNumeric(r)];var c=l.indexOf(this.selectedCountryData.iso2)!==-1&&o.length<=r.length-1;var u=n==="1"&&this._isRegionlessNanp(o);if(!u&&!c){for(var d=0;d<l.length;d++){if(l[d]){s=l[d];break}}}}else if(i.charAt(0)==="+"&&o.length){s=""}else if(!i||i==="+"){s=this.defaultCountry}if(s!==null){return this._setFlag(s)}return false}},{key:"_isRegionlessNanp",value:function e(t){var i=this._getNumeric(t);if(i.charAt(0)==="1"){var n=i.substr(1,3);return u.indexOf(n)!==-1}return false}},{key:"_highlightListItem",value:function e(t,i){var n=this.highlightedItem;if(n)n.classList.remove("iti__highlight");this.highlightedItem=t;this.highlightedItem.classList.add("iti__highlight");if(i)this.highlightedItem.focus()}},{key:"_getCountryData",value:function e(i,n,a){var r=n?t:this.countries;for(var o=0;o<r.length;o++){if(r[o].iso2===i){return r[o]}}if(a){return null}throw new Error("No country data for '".concat(i,"'"))}},{key:"_setFlag",value:function e(t){var i=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=t?this._getCountryData(t,false,false):{};if(this.selectedCountryData.iso2){this.defaultCountry=this.selectedCountryData.iso2}this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(t));var n=t?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";this.selectedFlag.setAttribute("title",n);if(this.options.separateDialCode){var a=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=a;var r=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(r+6,"px")}this._updatePlaceholder();if(this.options.allowDropdown){var o=this.activeItem;if(o){o.classList.remove("iti__active");o.setAttribute("aria-selected","false")}if(t){var s=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t));s.setAttribute("aria-selected","true");s.classList.add("iti__active");this.activeItem=s;this.selectedFlag.setAttribute("aria-activedescendant",s.getAttribute("id"))}}return i.iso2!==t}},{key:"_getHiddenSelectedFlagWidth",value:function e(){var t=this.telInput.parentNode.cloneNode();t.style.visibility="hidden";document.body.appendChild(t);var i=this.flagsContainer.cloneNode();t.appendChild(i);var n=this.selectedFlag.cloneNode(true);i.appendChild(n);var a=n.offsetWidth;t.parentNode.removeChild(t);return a}},{key:"_updatePlaceholder",value:function e(){var t=this.options.autoPlaceholder==="aggressive"||!this.hadInitialPlaceholder&&this.options.autoPlaceholder==="polite";if(window.intlTelInputUtils&&t){var i=intlTelInputUtils.numberType[this.options.placeholderNumberType];var n=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,i):"";n=this._beforeSetNumber(n);if(typeof this.options.customPlaceholder==="function"){n=this.options.customPlaceholder(n,this.selectedCountryData)}this.telInput.setAttribute("placeholder",n)}}},{key:"_selectListItem",value:function e(t){var i=this._setFlag(t.getAttribute("data-country-code"));this._closeDropdown();this._updateDialCode(t.getAttribute("data-dial-code"),true);this.telInput.focus();var n=this.telInput.value.length;this.telInput.setSelectionRange(n,n);if(i){this._triggerCountryChange()}}},{key:"_closeDropdown",value:function e(){this.countryList.classList.add("iti__hide");this.selectedFlag.setAttribute("aria-expanded","false");this.dropdownArrow.classList.remove("iti__arrow--up");document.removeEventListener("keydown",this._handleKeydownOnDropdown);document.documentElement.removeEventListener("click",this._handleClickOffToClose);this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList);this.countryList.removeEventListener("click",this._handleClickCountryList);if(this.options.dropdownContainer){if(!this.isMobile)window.removeEventListener("scroll",this._handleWindowScroll);if(this.dropdown.parentNode)this.dropdown.parentNode.removeChild(this.dropdown)}this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function e(t,i){var n=this.countryList;var a=window.pageYOffset||document.documentElement.scrollTop;var r=n.offsetHeight;var o=n.getBoundingClientRect().top+a;var s=o+r;var l=t.offsetHeight;var c=t.getBoundingClientRect().top+a;var u=c+l;var d=c-o+n.scrollTop;var p=r/2-l/2;if(c<o){if(i)d-=p;n.scrollTop=d}else if(u>s){if(i)d+=p;var f=r-l;n.scrollTop=d-f}}},{key:"_updateDialCode",value:function e(t,i){var n=this.telInput.value;var a="+".concat(t);var r;if(n.charAt(0)==="+"){var o=this._getDialCode(n);if(o){r=n.replace(o,a)}else{r=a}}else if(this.options.nationalMode||this.options.separateDialCode){return}else{if(n){r=a+n}else if(i||!this.options.autoHideDialCode){r=a}else{return}}this.telInput.value=r}},{key:"_getDialCode",value:function e(t,i){var n="";if(t.charAt(0)==="+"){var a="";for(var r=0;r<t.length;r++){var o=t.charAt(r);if(!isNaN(parseInt(o,10))){a+=o;if(i){if(this.countryCodes[a]){n=t.substr(0,r+1)}}else{if(this.dialCodes[a]){n=t.substr(0,r+1);break}}if(a.length===this.countryCodeMaxLen){break}}}}return n}},{key:"_getFullNumber",value:function e(){var t=this.telInput.value.trim();var i=this.selectedCountryData.dialCode;var n;var a=this._getNumeric(t);if(this.options.separateDialCode&&t.charAt(0)!=="+"&&i&&a){n="+".concat(i)}else{n=""}return n+t}},{key:"_beforeSetNumber",value:function e(t){var i=t;if(this.options.separateDialCode){var n=this._getDialCode(i);if(n){n="+".concat(this.selectedCountryData.dialCode);var a=i[n.length]===" "||i[n.length]==="-"?n.length+1:n.length;i=i.substr(a)}}return this._cap(i)}},{key:"_triggerCountryChange",value:function e(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function e(){if(this.options.initialCountry==="auto"){this.defaultCountry=window.intlTelInputGlobals.autoCountry;if(!this.telInput.value){this.setCountry(this.defaultCountry)}this.resolveAutoCountryPromise()}}},{key:"handleUtils",value:function e(){if(window.intlTelInputUtils){if(this.telInput.value){this._updateValFromNumber(this.telInput.value)}this._updatePlaceholder()}this.resolveUtilsScriptPromise()}},{key:"destroy",value:function e(){var t=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown();this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag);this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var i=this._getClosestLabel();if(i)i.removeEventListener("click",this._handleLabelClick)}if(this.hiddenInput&&t)t.removeEventListener("submit",this._handleHiddenInputSubmit);if(this.options.autoHideDialCode){if(t)t.removeEventListener("submit",this._handleSubmitOrBlurEvent);this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)}this.telInput.removeEventListener("keyup",this._handleKeyupEvent);this.telInput.removeEventListener("cut",this._handleClipboardEvent);this.telInput.removeEventListener("paste",this._handleClipboardEvent);this.telInput.removeAttribute("data-intl-tel-input-id");var n=this.telInput.parentNode;n.parentNode.insertBefore(this.telInput,n);n.parentNode.removeChild(n);delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function e(){if(window.intlTelInputUtils){return intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2)}return""}},{key:"getNumber",value:function e(t){if(window.intlTelInputUtils){var i=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),i,t)}return""}},{key:"getNumberType",value:function e(){if(window.intlTelInputUtils){return intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2)}return-99}},{key:"getSelectedCountryData",value:function e(){return this.selectedCountryData}},{key:"getValidationError",value:function e(){if(window.intlTelInputUtils){var t=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),t)}return-99}},{key:"isValidNumber",value:function e(){var t=this._getFullNumber().trim();var i=this.options.nationalMode?this.selectedCountryData.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,i):null}},{key:"setCountry",value:function e(t){var i=t.toLowerCase();if(!this.selectedFlagInner.classList.contains("iti__".concat(i))){this._setFlag(i);this._updateDialCode(this.selectedCountryData.dialCode,false);this._triggerCountryChange()}}},{key:"setNumber",value:function e(t){var i=this._updateFlagFromNumber(t);this._updateValFromNumber(t);if(i){this._triggerCountryChange()}}},{key:"setPlaceholderNumberType",value:function e(t){this.options.placeholderNumberType=t;this._updatePlaceholder()}}]);return i}();s.getCountryData=function(){return t};var h=function e(t,i,n){var a=document.createElement("script");a.onload=function(){p("handleUtils");if(i)i()};a.onerror=function(){p("rejectUtilsScriptPromise");if(n)n()};a.className="iti-load-utils";a.async=true;a.src=t;document.body.appendChild(a)};s.loadUtils=function(e){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){window.intlTelInputGlobals.startedLoadingUtilsScript=true;if(typeof Promise!=="undefined"){return new Promise((function(t,i){return h(e,t,i)}))}h(e)}return null};s.defaults=c;s.version="17.0.18";return function(e,t){var i=new f(e,t);i._init();e.setAttribute("data-intl-tel-input-id",i.id);window.intlTelInputGlobals.instances[i.id]=i;return i}}()}))}));var intlTelInput=intlTelInput$1;var sallaTelInputCss='.iti{width:100%;position:relative;display:inline-block}.iti *{-webkit-box-sizing:border-box;box-sizing:border-box;-moz-box-sizing:border-box}.iti__hide{display:none}.iti__v-hide{visibility:hidden}.iti input,.iti input[type=text],.iti input[type=tel]{position:relative;z-index:0;direction:ltr !important;margin-top:0 !important;margin-bottom:0 !important;padding-left:95px !important;padding-right:15px !important;margin-left:0 !important}.iti__flag-container{width:100%;position:absolute;top:0;bottom:0;left:0;padding:1px}.iti__selected-flag{width:80px;z-index:1;position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;height:100%;float:left;padding:0 15px;-webkit-box-shadow:none !important;box-shadow:none !important;outline:none !important}.ltr .iti__selected-flag{-ms-flex-pack:end;justify-content:flex-end}.iti__selected-flag:before{content:"";display:block;width:1px;height:70%;background:#eee;position:absolute;top:15%;right:0}.iti__selected-flag .iti__flag{display:none}.iti__arrow{width:15px;height:15px;line-height:15px;position:absolute;left:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.iti__arrow:after{content:url("data:image/svg+xml,<svg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 32 32\'><title>keyboard_arrow_down</title><path d=\'M9.875 11.104l6.125 6.125 6.125-6.125 1.875 1.875-8 8-8-8z\'></path></svg>");font-size:16px;color:#999;opacity:0.65}.iti__arrow--up:after{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.iti__country-list{width:100%;max-height:160px;position:absolute;top:100%;left:0;z-index:2;list-style:none;margin:0;padding:0;margin:5px 0 0 0;border-radius:5px;-webkit-box-shadow:0px 2px 4px 2px rgba(0, 0, 0, 0.05);box-shadow:0px 2px 4px 2px rgba(0, 0, 0, 0.05);border:1px solid #f5f7f9;background-color:white;white-space:nowrap;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}.iti__country-list::-webkit-scrollbar{width:4px}.dark .iti__country-list{background-color:#52525b;border-color:#52525b}.iti__country-list li{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-direction:row;flex-direction:row;padding:8px 10px;-webkit-transition:background-color 0.3s;transition:background-color 0.3s}.iti__country-list li span{font-size:12px}.iti__country-list li:hover,.iti__country-list li.highlighted{background-color:rgba(0, 0, 0, 0.05)}.iti__country-list--dropup{bottom:100%;top:unset;margin:0 0 5px 0}@media (max-width: 500px){.iti__country-list{white-space:normal}}.iti__flag-box{display:inline-block;width:20px;margin:0 0 0 5px}.iti__divider{padding-bottom:5px;margin-bottom:5px;border-bottom:1px solid #eee}.iti__country{padding:5px 10px;outline:none}.iti__dial-code{font-family:Arial;color:#999;unicode-bidi:-webkit-plaintext;unicode-bidi:plaintext;letter-spacing:1px}.iti__country.iti__highlight{background-color:rgba(0, 0, 0, 0.05)}.iti__flag-box,.iti__country-name,.iti__dial-code{vertical-align:middle}.iti__country-name{-ms-flex:auto;flex:auto;margin:0;padding:0 10px;white-space:normal;line-height:1.3}.iti--allow-dropdown .iti__flag-container,.iti--separate-dial-code .iti__flag-container{left:0}.iti--allow-dropdown .iti__flag-container:hover{cursor:pointer}.iti--allow-dropdown input[disabled]+.iti__flag-container:hover,.iti--allow-dropdown input[readonly]+.iti__flag-container:hover{cursor:default}.iti--allow-dropdown input[disabled]+.iti__flag-container:hover .iti__selected-flag,.iti--allow-dropdown input[readonly]+.iti__flag-container:hover .iti__selected-flag{background-color:transparent}.iti--separate-dial-code .iti__selected-dial-code{unicode-bidi:-webkit-plaintext;unicode-bidi:plaintext;direction:ltr;letter-spacing:1px;font-family:"Arial", serif;font-size:13px}.iti--container{position:absolute;top:-1000px;z-index:1060;padding:1px}.iti--container:hover{cursor:pointer}.iti-mobile .iti--container{inset:0;margin:20px;width:calc(100% - 40px);position:fixed;z-index:9999}.iti-mobile .iti__country-list{max-height:100%;width:100%;inset:0}.iti-mobile .iti__country{padding:10px 10px;line-height:1.5em}.iti__flag{width:20px}.iti__flag.iti__be{width:18px}.iti__flag.iti__ch{width:15px}.iti__flag.iti__mc{width:19px}.iti__flag.iti__ne{width:18px}.iti__flag.iti__np{width:13px}.iti__flag.iti__va{width:15px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.iti__flag{background-size:5652px 15px}}.iti__flag.iti__ac{height:10px;background-position:0px 0px}.iti__flag.iti__ad{height:14px;background-position:-22px 0px}.iti__flag.iti__ae{height:10px;background-position:-44px 0px}.iti__flag.iti__af{height:14px;background-position:-66px 0px}.iti__flag.iti__ag{height:14px;background-position:-88px 0px}.iti__flag.iti__ai{height:10px;background-position:-110px 0px}.iti__flag.iti__al{height:15px;background-position:-132px 0px}.iti__flag.iti__am{height:10px;background-position:-154px 0px}.iti__flag.iti__ao{height:14px;background-position:-176px 0px}.iti__flag.iti__aq{height:14px;background-position:-198px 0px}.iti__flag.iti__ar{height:13px;background-position:-220px 0px}.iti__flag.iti__as{height:10px;background-position:-242px 0px}.iti__flag.iti__at{height:14px;background-position:-264px 0px}.iti__flag.iti__au{height:10px;background-position:-286px 0px}.iti__flag.iti__aw{height:14px;background-position:-308px 0px}.iti__flag.iti__ax{height:13px;background-position:-330px 0px}.iti__flag.iti__az{height:10px;background-position:-352px 0px}.iti__flag.iti__ba{height:10px;background-position:-374px 0px}.iti__flag.iti__bb{height:14px;background-position:-396px 0px}.iti__flag.iti__bd{height:12px;background-position:-418px 0px}.iti__flag.iti__be{height:15px;background-position:-440px 0px}.iti__flag.iti__bf{height:14px;background-position:-460px 0px}.iti__flag.iti__bg{height:12px;background-position:-482px 0px}.iti__flag.iti__bh{height:12px;background-position:-504px 0px}.iti__flag.iti__bi{height:12px;background-position:-526px 0px}.iti__flag.iti__bj{height:14px;background-position:-548px 0px}.iti__flag.iti__bl{height:14px;background-position:-570px 0px}.iti__flag.iti__bm{height:10px;background-position:-592px 0px}.iti__flag.iti__bn{height:10px;background-position:-614px 0px}.iti__flag.iti__bo{height:14px;background-position:-636px 0px}.iti__flag.iti__bq{height:14px;background-position:-658px 0px}.iti__flag.iti__br{height:14px;background-position:-680px 0px}.iti__flag.iti__bs{height:10px;background-position:-702px 0px}.iti__flag.iti__bt{height:14px;background-position:-724px 0px}.iti__flag.iti__bv{height:15px;background-position:-746px 0px}.iti__flag.iti__bw{height:14px;background-position:-768px 0px}.iti__flag.iti__by{height:10px;background-position:-790px 0px}.iti__flag.iti__bz{height:14px;background-position:-812px 0px}.iti__flag.iti__ca{height:10px;background-position:-834px 0px}.iti__flag.iti__cc{height:10px;background-position:-856px 0px}.iti__flag.iti__cd{height:15px;background-position:-878px 0px}.iti__flag.iti__cf{height:14px;background-position:-900px 0px}.iti__flag.iti__cg{height:14px;background-position:-922px 0px}.iti__flag.iti__ch{height:15px;background-position:-944px 0px}.iti__flag.iti__ci{height:14px;background-position:-961px 0px}.iti__flag.iti__ck{height:10px;background-position:-983px 0px}.iti__flag.iti__cl{height:14px;background-position:-1005px 0px}.iti__flag.iti__cm{height:14px;background-position:-1027px 0px}.iti__flag.iti__cn{height:14px;background-position:-1049px 0px}.iti__flag.iti__co{height:14px;background-position:-1071px 0px}.iti__flag.iti__cp{height:14px;background-position:-1093px 0px}.iti__flag.iti__cr{height:12px;background-position:-1115px 0px}.iti__flag.iti__cu{height:10px;background-position:-1137px 0px}.iti__flag.iti__cv{height:12px;background-position:-1159px 0px}.iti__flag.iti__cw{height:14px;background-position:-1181px 0px}.iti__flag.iti__cx{height:10px;background-position:-1203px 0px}.iti__flag.iti__cy{height:14px;background-position:-1225px 0px}.iti__flag.iti__cz{height:14px;background-position:-1247px 0px}.iti__flag.iti__de{height:12px;background-position:-1269px 0px}.iti__flag.iti__dg{height:10px;background-position:-1291px 0px}.iti__flag.iti__dj{height:14px;background-position:-1313px 0px}.iti__flag.iti__dk{height:15px;background-position:-1335px 0px}.iti__flag.iti__dm{height:10px;background-position:-1357px 0px}.iti__flag.iti__do{height:14px;background-position:-1379px 0px}.iti__flag.iti__dz{height:14px;background-position:-1401px 0px}.iti__flag.iti__ea{height:14px;background-position:-1423px 0px}.iti__flag.iti__ec{height:14px;background-position:-1445px 0px}.iti__flag.iti__ee{height:13px;background-position:-1467px 0px}.iti__flag.iti__eg{height:14px;background-position:-1489px 0px}.iti__flag.iti__eh{height:10px;background-position:-1511px 0px}.iti__flag.iti__er{height:10px;background-position:-1533px 0px}.iti__flag.iti__es{height:14px;background-position:-1555px 0px}.iti__flag.iti__et{height:10px;background-position:-1577px 0px}.iti__flag.iti__eu{height:14px;background-position:-1599px 0px}.iti__flag.iti__fi{height:12px;background-position:-1621px 0px}.iti__flag.iti__fj{height:10px;background-position:-1643px 0px}.iti__flag.iti__fk{height:10px;background-position:-1665px 0px}.iti__flag.iti__fm{height:11px;background-position:-1687px 0px}.iti__flag.iti__fo{height:15px;background-position:-1709px 0px}.iti__flag.iti__fr{height:14px;background-position:-1731px 0px}.iti__flag.iti__ga{height:15px;background-position:-1753px 0px}.iti__flag.iti__gb{height:10px;background-position:-1775px 0px}.iti__flag.iti__gd{height:12px;background-position:-1797px 0px}.iti__flag.iti__ge{height:14px;background-position:-1819px 0px}.iti__flag.iti__gf{height:14px;background-position:-1841px 0px}.iti__flag.iti__gg{height:14px;background-position:-1863px 0px}.iti__flag.iti__gh{height:14px;background-position:-1885px 0px}.iti__flag.iti__gi{height:10px;background-position:-1907px 0px}.iti__flag.iti__gl{height:14px;background-position:-1929px 0px}.iti__flag.iti__gm{height:14px;background-position:-1951px 0px}.iti__flag.iti__gn{height:14px;background-position:-1973px 0px}.iti__flag.iti__gp{height:14px;background-position:-1995px 0px}.iti__flag.iti__gq{height:14px;background-position:-2017px 0px}.iti__flag.iti__gr{height:14px;background-position:-2039px 0px}.iti__flag.iti__gs{height:10px;background-position:-2061px 0px}.iti__flag.iti__gt{height:13px;background-position:-2083px 0px}.iti__flag.iti__gu{height:11px;background-position:-2105px 0px}.iti__flag.iti__gw{height:10px;background-position:-2127px 0px}.iti__flag.iti__gy{height:12px;background-position:-2149px 0px}.iti__flag.iti__hk{height:14px;background-position:-2171px 0px}.iti__flag.iti__hm{height:10px;background-position:-2193px 0px}.iti__flag.iti__hn{height:10px;background-position:-2215px 0px}.iti__flag.iti__hr{height:10px;background-position:-2237px 0px}.iti__flag.iti__ht{height:12px;background-position:-2259px 0px}.iti__flag.iti__hu{height:10px;background-position:-2281px 0px}.iti__flag.iti__ic{height:14px;background-position:-2303px 0px}.iti__flag.iti__id{height:14px;background-position:-2325px 0px}.iti__flag.iti__ie{height:10px;background-position:-2347px 0px}.iti__flag.iti__il{height:15px;background-position:-2369px 0px}.iti__flag.iti__im{height:10px;background-position:-2391px 0px}.iti__flag.iti__in{height:14px;background-position:-2413px 0px}.iti__flag.iti__io{height:10px;background-position:-2435px 0px}.iti__flag.iti__iq{height:14px;background-position:-2457px 0px}.iti__flag.iti__ir{height:12px;background-position:-2479px 0px}.iti__flag.iti__is{height:15px;background-position:-2501px 0px}.iti__flag.iti__it{height:14px;background-position:-2523px 0px}.iti__flag.iti__je{height:12px;background-position:-2545px 0px}.iti__flag.iti__jm{height:10px;background-position:-2567px 0px}.iti__flag.iti__jo{height:10px;background-position:-2589px 0px}.iti__flag.iti__jp{height:14px;background-position:-2611px 0px}.iti__flag.iti__ke{height:14px;background-position:-2633px 0px}.iti__flag.iti__kg{height:12px;background-position:-2655px 0px}.iti__flag.iti__kh{height:13px;background-position:-2677px 0px}.iti__flag.iti__ki{height:10px;background-position:-2699px 0px}.iti__flag.iti__km{height:12px;background-position:-2721px 0px}.iti__flag.iti__kn{height:14px;background-position:-2743px 0px}.iti__flag.iti__kp{height:10px;background-position:-2765px 0px}.iti__flag.iti__kr{height:14px;background-position:-2787px 0px}.iti__flag.iti__kw{height:10px;background-position:-2809px 0px}.iti__flag.iti__ky{height:10px;background-position:-2831px 0px}.iti__flag.iti__kz{height:10px;background-position:-2853px 0px}.iti__flag.iti__la{height:14px;background-position:-2875px 0px}.iti__flag.iti__lb{height:14px;background-position:-2897px 0px}.iti__flag.iti__lc{height:10px;background-position:-2919px 0px}.iti__flag.iti__li{height:12px;background-position:-2941px 0px}.iti__flag.iti__lk{height:10px;background-position:-2963px 0px}.iti__flag.iti__lr{height:11px;background-position:-2985px 0px}.iti__flag.iti__ls{height:14px;background-position:-3007px 0px}.iti__flag.iti__lt{height:12px;background-position:-3029px 0px}.iti__flag.iti__lu{height:12px;background-position:-3051px 0px}.iti__flag.iti__lv{height:10px;background-position:-3073px 0px}.iti__flag.iti__ly{height:10px;background-position:-3095px 0px}.iti__flag.iti__ma{height:14px;background-position:-3117px 0px}.iti__flag.iti__mc{height:15px;background-position:-3139px 0px}.iti__flag.iti__md{height:10px;background-position:-3160px 0px}.iti__flag.iti__me{height:10px;background-position:-3182px 0px}.iti__flag.iti__mf{height:14px;background-position:-3204px 0px}.iti__flag.iti__mg{height:14px;background-position:-3226px 0px}.iti__flag.iti__mh{height:11px;background-position:-3248px 0px}.iti__flag.iti__mk{height:10px;background-position:-3270px 0px}.iti__flag.iti__ml{height:14px;background-position:-3292px 0px}.iti__flag.iti__mm{height:14px;background-position:-3314px 0px}.iti__flag.iti__mn{height:10px;background-position:-3336px 0px}.iti__flag.iti__mo{height:14px;background-position:-3358px 0px}.iti__flag.iti__mp{height:10px;background-position:-3380px 0px}.iti__flag.iti__mq{height:14px;background-position:-3402px 0px}.iti__flag.iti__mr{height:14px;background-position:-3424px 0px}.iti__flag.iti__ms{height:10px;background-position:-3446px 0px}.iti__flag.iti__mt{height:14px;background-position:-3468px 0px}.iti__flag.iti__mu{height:14px;background-position:-3490px 0px}.iti__flag.iti__mv{height:14px;background-position:-3512px 0px}.iti__flag.iti__mw{height:14px;background-position:-3534px 0px}.iti__flag.iti__mx{height:12px;background-position:-3556px 0px}.iti__flag.iti__my{height:10px;background-position:-3578px 0px}.iti__flag.iti__mz{height:14px;background-position:-3600px 0px}.iti__flag.iti__na{height:14px;background-position:-3622px 0px}.iti__flag.iti__nc{height:10px;background-position:-3644px 0px}.iti__flag.iti__ne{height:15px;background-position:-3666px 0px}.iti__flag.iti__nf{height:10px;background-position:-3686px 0px}.iti__flag.iti__ng{height:10px;background-position:-3708px 0px}.iti__flag.iti__ni{height:12px;background-position:-3730px 0px}.iti__flag.iti__nl{height:14px;background-position:-3752px 0px}.iti__flag.iti__no{height:15px;background-position:-3774px 0px}.iti__flag.iti__np{height:15px;background-position:-3796px 0px}.iti__flag.iti__nr{height:10px;background-position:-3811px 0px}.iti__flag.iti__nu{height:10px;background-position:-3833px 0px}.iti__flag.iti__nz{height:10px;background-position:-3855px 0px}.iti__flag.iti__om{height:10px;background-position:-3877px 0px}.iti__flag.iti__pa{height:14px;background-position:-3899px 0px}.iti__flag.iti__pe{height:14px;background-position:-3921px 0px}.iti__flag.iti__pf{height:14px;background-position:-3943px 0px}.iti__flag.iti__pg{height:15px;background-position:-3965px 0px}.iti__flag.iti__ph{height:10px;background-position:-3987px 0px}.iti__flag.iti__pk{height:14px;background-position:-4009px 0px}.iti__flag.iti__pl{height:13px;background-position:-4031px 0px}.iti__flag.iti__pm{height:14px;background-position:-4053px 0px}.iti__flag.iti__pn{height:10px;background-position:-4075px 0px}.iti__flag.iti__pr{height:14px;background-position:-4097px 0px}.iti__flag.iti__ps{height:10px;background-position:-4119px 0px}.iti__flag.iti__pt{height:14px;background-position:-4141px 0px}.iti__flag.iti__pw{height:13px;background-position:-4163px 0px}.iti__flag.iti__py{height:11px;background-position:-4185px 0px}.iti__flag.iti__qa{height:8px;background-position:-4207px 0px}.iti__flag.iti__re{height:14px;background-position:-4229px 0px}.iti__flag.iti__ro{height:14px;background-position:-4251px 0px}.iti__flag.iti__rs{height:14px;background-position:-4273px 0px}.iti__flag.iti__ru{height:14px;background-position:-4295px 0px}.iti__flag.iti__rw{height:14px;background-position:-4317px 0px}.iti__flag.iti__sa{height:14px;background-position:-4339px 0px}.iti__flag.iti__sb{height:10px;background-position:-4361px 0px}.iti__flag.iti__sc{height:10px;background-position:-4383px 0px}.iti__flag.iti__sd{height:10px;background-position:-4405px 0px}.iti__flag.iti__se{height:13px;background-position:-4427px 0px}.iti__flag.iti__sg{height:14px;background-position:-4449px 0px}.iti__flag.iti__sh{height:10px;background-position:-4471px 0px}.iti__flag.iti__si{height:10px;background-position:-4493px 0px}.iti__flag.iti__sj{height:15px;background-position:-4515px 0px}.iti__flag.iti__sk{height:14px;background-position:-4537px 0px}.iti__flag.iti__sl{height:14px;background-position:-4559px 0px}.iti__flag.iti__sm{height:15px;background-position:-4581px 0px}.iti__flag.iti__sn{height:14px;background-position:-4603px 0px}.iti__flag.iti__so{height:14px;background-position:-4625px 0px}.iti__flag.iti__sr{height:14px;background-position:-4647px 0px}.iti__flag.iti__ss{height:10px;background-position:-4669px 0px}.iti__flag.iti__st{height:10px;background-position:-4691px 0px}.iti__flag.iti__sv{height:12px;background-position:-4713px 0px}.iti__flag.iti__sx{height:14px;background-position:-4735px 0px}.iti__flag.iti__sy{height:14px;background-position:-4757px 0px}.iti__flag.iti__sz{height:14px;background-position:-4779px 0px}.iti__flag.iti__ta{height:10px;background-position:-4801px 0px}.iti__flag.iti__tc{height:10px;background-position:-4823px 0px}.iti__flag.iti__td{height:14px;background-position:-4845px 0px}.iti__flag.iti__tf{height:14px;background-position:-4867px 0px}.iti__flag.iti__tg{height:13px;background-position:-4889px 0px}.iti__flag.iti__th{height:14px;background-position:-4911px 0px}.iti__flag.iti__tj{height:10px;background-position:-4933px 0px}.iti__flag.iti__tk{height:10px;background-position:-4955px 0px}.iti__flag.iti__tl{height:10px;background-position:-4977px 0px}.iti__flag.iti__tm{height:14px;background-position:-4999px 0px}.iti__flag.iti__tn{height:14px;background-position:-5021px 0px}.iti__flag.iti__to{height:10px;background-position:-5043px 0px}.iti__flag.iti__tr{height:14px;background-position:-5065px 0px}.iti__flag.iti__tt{height:12px;background-position:-5087px 0px}.iti__flag.iti__tv{height:10px;background-position:-5109px 0px}.iti__flag.iti__tw{height:14px;background-position:-5131px 0px}.iti__flag.iti__tz{height:14px;background-position:-5153px 0px}.iti__flag.iti__ua{height:14px;background-position:-5175px 0px}.iti__flag.iti__ug{height:14px;background-position:-5197px 0px}.iti__flag.iti__um{height:11px;background-position:-5219px 0px}.iti__flag.iti__un{height:14px;background-position:-5241px 0px}.iti__flag.iti__us{height:11px;background-position:-5263px 0px}.iti__flag.iti__uy{height:14px;background-position:-5285px 0px}.iti__flag.iti__uz{height:10px;background-position:-5307px 0px}.iti__flag.iti__va{height:15px;background-position:-5329px 0px}.iti__flag.iti__vc{height:14px;background-position:-5346px 0px}.iti__flag.iti__ve{height:14px;background-position:-5368px 0px}.iti__flag.iti__vg{height:10px;background-position:-5390px 0px}.iti__flag.iti__vi{height:14px;background-position:-5412px 0px}.iti__flag.iti__vn{height:14px;background-position:-5434px 0px}.iti__flag.iti__vu{height:12px;background-position:-5456px 0px}.iti__flag.iti__wf{height:14px;background-position:-5478px 0px}.iti__flag.iti__ws{height:10px;background-position:-5500px 0px}.iti__flag.iti__xk{height:15px;background-position:-5522px 0px}.iti__flag.iti__ye{height:14px;background-position:-5544px 0px}.iti__flag.iti__yt{height:14px;background-position:-5566px 0px}.iti__flag.iti__za{height:14px;background-position:-5588px 0px}.iti__flag.iti__zm{height:14px;background-position:-5610px 0px}.iti__flag.iti__zw{height:10px;background-position:-5632px 0px}.iti__flag{height:15px;-webkit-box-shadow:0px 0px 1px 0px #888;box-shadow:0px 0px 1px 0px #888;background-image:url("https://cdn.salla.network/images/flags.png");background-repeat:no-repeat;background-color:#f5f7f9;background-position:20px 0}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){.iti__flag{background-image:url("https://cdn.salla.network/images/flags@2x.png")}}.iti__flag.iti__np{background-color:transparent}';var SallaTelInput=function(){function e(e){var t=this;registerInstance(this,e);this.phoneEntered=createEvent(this,"phoneEntered",7);this.phone=undefined;this.name="phone";this.countryCode=salla.config.get("user.country_code","SA")||"SA";this.mobileRequired=undefined;this.countryCodeLabel=salla.lang.get("common.country_code");this.mobileLabel=salla.lang.get("common.elements.mobile");this.tooShort=salla.lang.get("common.errors.too_short",{attribute:this.mobileLabel});this.tooLong=salla.lang.get("common.errors.too_long",{attribute:this.mobileLabel});this.invalidCountryCode=salla.lang.get("common.errors.invalid_value",{attribute:this.countryCodeLabel});this.invalidNumber=salla.lang.get("common.errors.invalid_value",{attribute:this.mobileLabel});this.errorMap=[this.invalidNumber,this.invalidCountryCode,this.tooShort,this.tooLong,this.invalidNumber];salla.lang.onLoaded((function(){t.mobileLabel=salla.lang.get("common.elements.mobile");t.countryCodeLabel=salla.lang.get("common.elements.country_code");t.invalidNumber=salla.lang.get("common.errors.invalid_value",{attribute:t.mobileLabel});t.invalidCountryCode=salla.lang.get("common.errors.invalid_value",{attribute:t.countryCodeLabel});t.tooShort=salla.lang.get("common.errors.too_short",{attribute:t.mobileLabel});t.tooLong=salla.lang.get("common.errors.too_long",{attribute:t.mobileLabel});t.mobileRequired=salla.lang.get("common.errors.field_required",{attribute:t.mobileLabel});t.errorMap=[t.invalidNumber,t.invalidCountryCode,t.tooShort,t.tooLong,t.invalidNumber]}))}e.prototype.getValues=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){return[2,(e={},e[this.name]=this.phone=this.phoneInput.value,e.countryCode=this.countryCode=this.countryCodeInput.value,e)]}))}))};e.prototype.isValid=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){this.reset();if(this.iti.isValidNumber())return[2,true];if(!this.phoneInput.value.trim()){this.phoneInput.classList.add("s-has-error");this.errorMsg.innerText=this.mobileRequired||"The mobile is required";return[2]}this.phoneInput.classList.add("s-has-error");e=this.iti.getValidationError();this.errorMsg.innerText=this.errorMap[e]||"";salla.logger.info("Phone number ("+this.countryCode+" - "+this.phone+") is not valid, error code "+e);return[2,false]}))}))};e.prototype.initTelInput=function(){var e=this;salla.helpers.inputDigitsOnly(this.phoneInput);this.iti=intlTelInput(this.phoneInput,{initialCountry:this.countryCode||"sa",preferredCountries:["sa","ae","kw","bh","qa","iq","om","ye","eg","jo","sy","ps","sd","lb","dz","tn","ma","ly"],formatOnDisplay:false,separateDialCode:true,autoPlaceholder:"aggressive",utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/utils.min.js"});this.phoneInput.addEventListener("countrychange",(function(){var t=e.iti.getSelectedCountryData();var i=t.iso2.toUpperCase();e.countryCodeInput.value=i;e.countryCode=i;e.phoneEntered.emit({number:e.phone,country_code:i})}));this.phoneInput.addEventListener("input",(function(t){salla.helpers.inputDigitsOnly(t.target);e.reset();e.phoneEntered.emit({number:t.target.value,country_code:e.countryCode})}))};e.prototype.reset=function(){this.phoneInput.classList.remove("s-has-error");this.errorMsg.innerHTML=""};e.prototype.handleCountryInput=function(e){if(!!this.phone){this.phoneEntered.emit({number:e.target.value,country_code:this.countryCode})}};e.prototype.render=function(){var e=this;return h(Host,{class:"s-tel-input"},h("input",{type:"tel",name:this.name,value:this.phone,onChange:function(t){return e.handleCountryInput(t)},ref:function(t){return e.phoneInput=t},enterkeyhint:"next",autocomplete:"tel",class:"s-tel-input-control tel-input s-ltr"}),h("span",{class:"s-tel-input-error-msg",ref:function(t){return e.errorMsg=t}}),h("input",{type:"hidden",name:"country_code",value:this.countryCode,ref:function(t){return e.countryCodeInput=t},class:"country_code"}))};e.prototype.componentDidLoad=function(){this.initTelInput()};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaTelInput.style=sallaTelInputCss;var OrderIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>box-bankers</title>\n<path d="M28 1.333h-24c-2.205 0-4 1.795-4 4v5.333c0 0.736 0.597 1.333 1.333 1.333v14.667c0 2.205 1.795 4 4 4h21.333c2.205 0 4-1.795 4-4v-14.667c0.736 0 1.333-0.597 1.333-1.333v-5.333c0-2.205-1.795-4-4-4zM28 26.667c0 0.735-0.599 1.333-1.333 1.333h-21.333c-0.735 0-1.333-0.599-1.333-1.333v-14.667h5.333v2.667c0 1.471 1.196 2.667 2.667 2.667h8c1.471 0 2.667-1.196 2.667-2.667v-2.667h5.333zM12 14.667v-2.667h8v2.667zM29.333 9.333h-26.667v-4c0-0.735 0.599-1.333 1.333-1.333h24c0.735 0 1.333 0.599 1.333 1.333z"></path>\n</svg>\n';var UserCircle='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>user-circle</title>\n<path d="M16 22.964c-4.525 0-8.447 1.713-9.993 4.365-0.371 0.636-0.156 1.452 0.48 1.823s1.453 0.156 1.823-0.48c0.855-1.465 3.624-3.041 7.689-3.041s6.835 1.576 7.689 3.041c0.249 0.424 0.696 0.661 1.155 0.661 0.228 0 0.459-0.059 0.669-0.181 0.637-0.371 0.852-1.187 0.48-1.823-1.545-2.652-5.467-4.365-9.992-4.365zM22.667 13.631c0-3.676-2.991-6.667-6.667-6.667s-6.667 2.991-6.667 6.667 2.991 6.667 6.667 6.667 6.667-2.992 6.667-6.667zM12 13.631c0-2.205 1.795-4 4-4s4 1.795 4 4-1.795 4-4 4-4-1.795-4-4zM16 0.297c-8.823 0-16 7.177-16 16 0 2.941 0.821 5.831 2.373 8.357 0.252 0.411 0.689 0.636 1.137 0.636 0.239 0 0.479-0.064 0.696-0.197 0.628-0.385 0.824-1.207 0.439-1.833-1.295-2.108-1.979-4.516-1.979-6.963 0-7.352 5.981-13.333 13.333-13.333s13.333 5.981 13.333 13.333c0 2.448-0.684 4.856-1.979 6.961-0.385 0.628-0.189 1.448 0.437 1.835 0.627 0.384 1.448 0.189 1.835-0.437 1.553-2.527 2.373-5.416 2.373-8.359 0-8.823-7.177-16-16-16z"></path>\n</svg>\n';var LogoutIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>send-out</title>\n<path d="M16 26.667h-9.333c-0.736 0-1.333-0.597-1.333-1.333v-18.667c0-0.736 0.597-1.333 1.333-1.333h9.333c0.737 0 1.333-0.596 1.333-1.333s-0.596-1.333-1.333-1.333h-9.333c-2.205 0-4 1.795-4 4v18.667c0 2.205 1.795 4 4 4h9.333c0.737 0 1.333-0.596 1.333-1.333s-0.596-1.333-1.333-1.333zM29.231 15.491c-0.068-0.164-0.167-0.312-0.289-0.436l-5.332-5.332c-0.521-0.521-1.364-0.521-1.885 0s-0.521 1.364 0 1.885l3.057 3.059h-12.781c-0.737 0-1.333 0.596-1.333 1.333s0.596 1.333 1.333 1.333h12.781l-3.057 3.057c-0.521 0.521-0.521 1.364 0 1.885 0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391l5.332-5.332c0.124-0.123 0.221-0.271 0.289-0.435 0.135-0.325 0.135-0.693 0-1.019z"></path>\n</svg>\n';var sallaUserMenuCss="";var SallaUserMenu=function(){function e(e){var t=this;registerInstance(this,e);var i;this.items={notifications:BellRing,orders:OrderIcon,pending_orders:PendingOrdersIcon,wishlist:WishListIcon,profile:UserCircle};this.onClickOutside=function(){t.opened=false};this.accountLoading=false;this.opened=false;this.notifications=salla.lang.get("common.titles.notifications");this.orders=salla.lang.get("common.titles.orders");this.pending_orders=salla.lang.get("common.titles.pending_orders");this.wishlist=salla.lang.get("common.titles.wishlist");this.profile=salla.lang.get("common.titles.profile");this.rating=salla.lang.get("common.titles.rating");this.logout=salla.lang.get("blocks.header.logout");this.hello=salla.lang.get("pages.checkout.hello");this.first_name=salla.storage.get("user.first_name")||"";this.last_name=salla.storage.get("user.last_name")||"";this.avatar=salla.storage.get("user.avatar")||salla.url.cdn("images/avatar.png");this.is_loggedIn=undefined;this.badges={notifications:salla.helpers.number(salla.storage.get("user.notifications")||0),pending_orders:salla.helpers.number(salla.storage.get("user.pending_orders")||0)};this.hasBadges=Number(salla.storage.get("user.pending_orders"))>0||Number(salla.storage.get("user.notifications"))>0;this.inline=false;this.avatarOnly=false;this.showHeader=false;this.relativeDropdown=false;this.OrderUpdate=0;salla.lang.onLoaded((function(){t.notifications=salla.lang.get("common.titles.notifications");t.orders=salla.lang.get("common.titles.orders");t.pending_orders=salla.lang.get("common.titles.pending_orders");t.wishlist=salla.lang.get("common.titles.wishlist");t.profile=salla.lang.get("common.titles.profile");t.hello=salla.lang.get("pages.checkout.hello");t.rating=salla.lang.get("common.titles.rating");t.logout=salla.lang.get("blocks.header.logout")}));if(this.host.hasAttribute("with-rating")){this.items.rating=Rate}this.items.logout=LogoutIcon;this.triggerSlot=((i=this.host.querySelector('[slot="trigger"]'))===null||i===void 0?void 0:i.innerHTML)||'<div class="s-user-menu-trigger"><div class="s-user-menu-avatar-wrap"><img class="s-user-menu-trigger-avatar" src="{avatar}" alt="{first_name}{last_name}" /></div><div class="s-user-menu-trigger-content"><span class="s-user-menu-trigger-hello">{hello}</span><p class="s-user-menu-trigger-name">{first_name} {last_name}</p></div> <i class="s-user-menu-trigger-icon">{icon}</i></div>';salla.onReady((function(){if(salla.config.isGuest()){return}t.is_loggedIn=true;if(salla.url.is_page("customer.notifications")||salla.url.is_page("customer.orders.index.pending")||salla.url.is_page("customer.profile")||(Date.now()-(salla.storage.get("user.fetched_at")||0))/1e3/60>30){t.fetchFreshProfile()}}))}e.prototype.fetchFreshProfile=function(){var e=this;if(!salla.api.token){salla.log("trying to fetchFreshProfile before injected the token!!");return}salla.profile.api.info().then((function(t){e.badges.pending_orders=salla.helpers.number(t.data.pending_orders||0);e.badges.notifications=salla.helpers.number(t.data.notifications||0);e.hasBadges=Number(t.data.pending_orders)>0||Number(t.data.notifications)>0;e.first_name=t.data.first_name;e.last_name=t.data.last_name;e.avatar=t.data.avatar||salla.url.cdn("images/avatar.png")}))};e.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.opened=!this.opened;e.stopPropagation();if(this.opened){window.addEventListener("click",this.onClickOutside)}return[2]}))}))};e.prototype.menuItemClicked=function(e,t){if(t[0]!=="logout"){return}e.preventDefault();salla.auth.logout()};e.prototype.getTheHeader=function(){var e=this;return h("div",{class:{"s-user-menu-trigger-slot":true,"s-user-menu-red-dot":this.hasBadges,"s-user-menu-trigger-avatar-only":this.avatarOnly},id:"trigger-slot",onClick:function(t){return e.open(t)},innerHTML:this.triggerSlot.replace(/\{hello\}/g,this.hello).replace(/\{first_name\}/g,this.first_name).replace(/\{last_name\}/g,this.last_name).replace(/\{avatar\}/g,this.avatar).replace(/\{icon\}/g,ArrowDown)})};e.prototype.getMenuItem=function(e,t){var i=this;return h("li",{class:{"s-user-menu-dropdown-item":true,"s-user-menu-dropdown-item-logout":t+1==Object.entries(this.items).length}},h("a",{href:salla.url.get(e[0]),onClick:function(t){return i.menuItemClicked(t,e)}},h("i",{innerHTML:e[1]}," "),h("span",{class:"s-user-menu-dropdown-item-title"},this[e[0]]),!["٠","0",undefined].includes(this.badges[e[0]])?h("span",{class:"s-user-menu-dropdown-item-badge"},this.badges[e[0]]):""))};e.prototype.componentShouldUpdate=function(){if(!this.opened){window.removeEventListener("click",this.onClickOutside)}};e.prototype.render=function(){var e=this;if(!this.is_loggedIn){return h(Host,null,h("slot",{name:"login-btn"},h("button",{class:"s-user-menu-login-btn",onClick:function(){return salla.event.dispatch("login::open")},innerHTML:UserCircle})))}if(this.inline){return h(Host,null,h("ul",{class:"s-user-menu-inline"},Object.entries(this.items).map((function(t,i){return e.getMenuItem(t,i)}))))}return h(Host,null,h("div",{class:{"s-user-menu-wrapper":true,"s-user-menu-relative-dropdown":this.relativeDropdown}},this.getTheHeader(),h("div",{class:{"s-user-menu-toggler":true,opened:this.opened}},h("div",{class:"s-user-menu-dropdown",onClick:function(e){return e.stopPropagation()}},this.showHeader?h("div",{class:"s-user-menu-dropdown-header"},h("img",{src:this.avatar,alt:"".concat(this.first_name," ").concat(this.last_name)}),h("div",{class:"s-user-menu-dropdown-header-content"},h("span",null,this.hello),h("p",null,this.first_name," ",this.last_name)),h("button",{class:"s-user-menu-dropdown-header-close",innerHTML:Cancel$1,onClick:function(){return e.opened=false}})):"",h("ul",{class:"s-user-menu-dropdown-list"},Object.entries(this.items).map((function(t,i){return e.getMenuItem(t,i)})))))))};e.prototype.componentDidLoad=function(){var e;(e=document.lazyLoadInstance)===null||e===void 0?void 0:e.update(this.host.querySelectorAll(".lazy"))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaUserMenu.style=sallaUserMenuCss;var Bullhorn='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>bullhorn</title>\n<path d="M30.129 0.264c-0.339-0.252-0.776-0.328-1.179-0.208l-24.951 7.485v-0.216c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333v14.667c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-0.112l3.448 1.207-0.595 1.704c-0.321 1.019-0.227 2.103 0.267 3.051s1.327 1.647 2.345 1.968l6.359 2.004c0.399 0.127 0.804 0.187 1.201 0.187 1.699 0 3.277-1.091 3.812-2.785l0.423-1.295 7.633 2.672c0.143 0.049 0.292 0.075 0.44 0.075 0.273 0 0.543-0.084 0.772-0.247 0.352-0.249 0.561-0.655 0.561-1.087v-28c0-0.421-0.199-0.819-0.537-1.069zM18.297 28.4c-0.221 0.701-0.973 1.089-1.673 0.871l-6.357-2.004c-0.34-0.108-0.617-0.34-0.781-0.656s-0.196-0.676-0.101-0.977l0.581-1.665 8.777 3.072zM28 27.453l-24-8.4v-8.728l24-7.2z"></path>\n</svg>\n';var UserOff='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>user-off</title>\n<path d="M10.837 19.309c-4.963 1.284-8.171 4.303-8.171 7.691v3.667c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-3.667c0-2.101 2.48-4.155 6.172-5.109 0.713-0.184 1.141-0.912 0.957-1.625-0.184-0.711-0.908-1.137-1.625-0.956zM12.859 3.715c0.933-0.685 2.020-1.048 3.141-1.048 2.941 0 5.333 2.392 5.333 5.333 0 1.121-0.363 2.208-1.048 3.141-0.436 0.593-0.308 1.428 0.284 1.864 0.239 0.175 0.515 0.259 0.788 0.259 0.411 0 0.815-0.188 1.076-0.544 1.025-1.393 1.567-3.025 1.567-4.72 0-4.412-3.588-8-8-8-1.695 0-3.327 0.541-4.721 1.567-0.592 0.435-0.72 1.269-0.284 1.864 0.436 0.593 1.269 0.721 1.864 0.284zM31.609 29.724l-29.333-29.333c-0.521-0.521-1.364-0.521-1.885 0s-0.521 1.364 0 1.885l29.333 29.333c0.26 0.26 0.601 0.391 0.943 0.391s0.683-0.131 0.943-0.391c0.521-0.521 0.521-1.364 0-1.885z"></path>\n</svg>\n';var sallaUserSettingsCss="";var SallaUserSettings=function(){function e(e){var t=this;registerInstance(this,e);this.deactivateAccount=salla.lang.get("pages.profile.deactivate_account");this.promotionalMsgs=salla.lang.get("pages.profile.promotional_messages");this.deactivateDesc=salla.lang.get("pages.profile.deactivate_account_description");this.promotionalMsgsDesc=salla.lang.get("pages.profile.promotional_messages_description");this.sorryForLeavingText=salla.lang.get("pages.profile.warning_for_deactivate");this.warningText=salla.lang.get("pages.profile.sorry_for_leaving");this.keepAccount=salla.lang.get("pages.profile.keep_account");this.buttonLoading=false;this.isNotifiable=false;salla.lang.onLoaded((function(){t.deactivateAccount=salla.lang.get("pages.profile.deactivate_account");t.promotionalMsgs=salla.lang.get("pages.profile.promotional_messages");t.deactivateDesc=salla.lang.get("pages.profile.deactivate_account_description");t.promotionalMsgsDesc=salla.lang.get("pages.profile.promotional_messages_description");t.warningText=salla.lang.get("pages.profile.warning_for_deactivate");t.sorryForLeavingText=salla.lang.get("pages.profile.sorry_for_leaving");t.keepAccount=salla.lang.get("pages.profile.keep_account")}))}e.prototype.toggleNotification=function(e){salla.profile.updateSettings({is_notifiable:e.target.checked})};e.prototype.capitalizeText=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};e.prototype.openDeactivateModal=function(){this.confirmationModal.setTitle(this.capitalizeText(this.deactivateAccount));this.confirmationModal.open()};e.prototype.deleteAccount=function(){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(t){switch(t.label){case 0:return[4,salla.profile.delete().finally((function(){return e.confirmationModal.close()}))];case 1:t.sent();return[2]}}))}))};e.prototype.render=function(){var e=this;return h(Host,{class:"s-user-settings-wrapper"},h("div",{class:"s-user-settings-section"},h("salla-list-tile",null,h("div",{slot:"icon",class:"s-user-settings-section-icon"},h("span",{innerHTML:Bullhorn})),h("div",{slot:"title",class:"s-user-settings-section-title"},this.capitalizeText(this.promotionalMsgs)),h("div",{slot:"subtitle",class:"s-user-settings-section-subtitle"},this.capitalizeText(this.promotionalMsgsDesc)),h("div",{slot:"action",class:"s-user-settings-section-action"},h("label",{class:"s-toggle"},h("input",{class:"s-toggle-input",checked:this.isNotifiable,onChange:function(t){return e.toggleNotification(t)},type:"checkbox"}),h("div",{class:"s-toggle-switcher"}))))),h("div",{class:"s-user-settings-section s-user-settings-section-deactivate-user"},h("salla-list-tile",null,h("div",{slot:"icon",class:"s-user-settings-section-icon"},h("span",{innerHTML:UserOff})),h("div",{slot:"title",class:"s-user-settings-section-title"},this.capitalizeText(this.deactivateAccount)),h("div",{slot:"subtitle",class:"s-user-settings-section-subtitle"},this.capitalizeText(this.deactivateDesc)),h("div",{slot:"action",class:"s-user-settings-section-action"},h("salla-button",{fill:"outline",color:"danger",shape:"btn",size:"medium",width:"normal",onClick:function(){return e.openDeactivateModal()}},this.capitalizeText(this.deactivateAccount))))),h("salla-modal",{width:"sm",subTitle:this.capitalizeText(this.sorryForLeavingText),ref:function(t){return e.confirmationModal=t}},h("span",{slot:"icon",class:"s-user-settings-confirmation-icon",innerHTML:UserOff}),h("div",{class:"s-user-settings-confirmation"},h("div",{class:"s-user-settings-confirmation-warning"},this.capitalizeText(this.warningText)),h("div",{class:"s-user-settings-confirmation-actions"},h("salla-button",{width:"wide",onClick:function(){return e.confirmationModal.close()}},this.capitalizeText(this.keepAccount)),h("salla-button",{fill:"outline",loading:this.buttonLoading,width:"wide",onClick:function(){return e.deleteAccount()}},this.capitalizeText(this.deactivateAccount))))))};return e}();SallaUserSettings.style=sallaUserSettingsCss;var AndroidPhoneIcon='\x3c!-- Generated by IcoMoon.io --\x3e\n<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n<title>android-phone</title>\n<path d="M22.667 0h-13.333c-2.941 0-5.333 2.392-5.333 5.333v21.333c0 2.941 2.392 5.333 5.333 5.333h13.333c2.941 0 5.333-2.392 5.333-5.333v-21.333c0-2.941-2.392-5.333-5.333-5.333zM25.333 26.667c0 1.471-1.196 2.667-2.667 2.667h-13.333c-1.471 0-2.667-1.196-2.667-2.667v-2.667h18.667zM25.333 21.333h-18.667v-16c0-1.471 1.196-2.667 2.667-2.667h13.333c1.471 0 2.667 1.196 2.667 2.667zM13.333 28h5.333c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-5.333c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"></path>\n</svg>\n';var sallaVerifyCss="salla-verify{display:block}.s-verify-input{}.s-verify-input::-webkit-outer-spin-button,.s-verify-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.s-verify-input[type=number]{-moz-appearance:textfield}";var SallaVerify=function(){function e(e){var t=this;registerInstance(this,e);this.verified=createEvent(this,"verified",7);this.translationLoaded=false;this.display="modal";this.type="mobile";this.autoReload=true;this.supportWebAuth=true;this.title=undefined;this.resendAfter=30;this.isProfileVerify=false;salla.lang.onLoaded((function(){var e;t.translationLoaded=true;t.title=salla.lang.get("pages.profile.verify_title")+salla.lang.get("common.elements."+t.type);(e=t.modal)===null||e===void 0?void 0:e.setTitle(t.title)}));if(this.display=="inline"){this.modal={open:function(){return""},close:function(){return""},setTitle:function(){return""}};return}salla.event.on("profile::verification",(function(e){var i;var n=Array.isArray(e)?e[0]:e;t.isProfileVerify=true;t.open(n);t.title=salla.lang.get("pages.profile.verify_title")+salla.lang.get("common.elements."+n.type);(i=t.modal)===null||i===void 0?void 0:i.setTitle(t.title)}));salla.event.on("modalClosed",(function(){t.resendAfter=0;t.timer.innerHTML="30 : 00"}))}e.prototype.splitNumber=function(e){var t=e.data||e.target.value;if(!t)return;if(t.length===1)return;this.modifyNext(e.target,t)};e.prototype.modifyNext=function(e,t){e.value=t[0];t=t.substring(1);if(e.nextElementSibling&&t.length){this.modifyNext(e.nextElementSibling,t)}};e.prototype.checkAllInputs=function(){var e=true;for(var t=0;t<this.otpInputs.length;t++){if(this.otpInputs[t].value===""){e=false}}return e};e.prototype.handleKeyUp=function(e){var t,i,n,a;if(["Alt","Shift","Control","AltGraph","Ctrl"].includes(e.key)){return}var r=e.keyCode||e.charCode;if(e.target.value){(t=e.target.nextElementSibling)===null||t===void 0?void 0:t.focus();(i=e.target.nextElementSibling)===null||i===void 0?void 0:i.select()}else if([8,46].includes(r)){(n=e.target.previousElementSibling)===null||n===void 0?void 0:n.focus();(a=e.target.previousElementSibling)===null||a===void 0?void 0:a.select()}if(e.target.value.length>1){this.splitNumber(e)}};e.prototype.handlePaste=function(e){var t=this;var i=salla.helpers.number(e.clipboardData.getData("text")).replace(/[^0-9.]/g,"").replace("..",".");this.otpInputs.forEach((function(e,t){return e.value=i[t]||""}));setTimeout((function(){return t.otpInputs[3].focus()}),100)};e.prototype.handleInput=function(e){var t=this;salla.helpers.inputDigitsOnly(e.target);if(this.checkAllInputs()){setTimeout((function(){t.toggleOTPSubmit()}),100)}};e.prototype.handleFocus=function(e){var t;if(e.target===this.firstOtpInput)return;if(((t=this.firstOtpInput)===null||t===void 0?void 0:t.value)==""){this.firstOtpInput.focus()}if(e.target.previousElementSibling.value==""){e.target.previousElementSibling.focus()}};e.prototype.getCode=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,this.code.value]}))}))};e.prototype.open=function(e){return __awaiter(this,void 0,void 0,(function(){var t,i;var n=this;return __generator(this,(function(a){this.data=e;this.data.type=this.data.type||this.type;this.type=this.data.type;this.resendTimer();this.otpInputs=this.body.querySelectorAll(".s-verify-input");this.firstOtpInput=this.body.querySelector("#otp-1");this.reset();this.display=="modal"&&((t=this.modal)===null||t===void 0?void 0:t.setTitle(this.title));this.modal.open();(i=this.firstOtpInput)===null||i===void 0?void 0:i.addEventListener("input",(function(e){return n.splitNumber(e)}));setTimeout((function(){return n.otpInputs[0].focus()}),100);return[2]}))}))};e.prototype.toggleOTPSubmit=function(){var e=[];this.otpInputs.forEach((function(t){return t.value&&e.push(t.value)}));this.code.value=e.join("");if(e.length===4){this.btn.disable();this.btn.click();return}this.btn.enable()};e.prototype.reset=function(){this.otpInputs.forEach((function(e){return e.value=""}));this.code.value="";this.otpInputs[0].focus()};e.prototype.resendTimer=function(){var e=this;this.resendMessage.style.display="block";this.resend.style.display="none";this.resendAfter=30;var t=setInterval((function(){if(e.resendAfter<=0){clearInterval(t);e.resend.style.display="block";e.resendMessage.style.display="none"}else{e.timer.innerHTML="".concat(e.resendAfter>=10?e.resendAfter:"0"+e.resendAfter," : 00");e.resendAfter--}}),1e3)};e.prototype.resendCode=function(){var e=this;return this.btn.stop().then((function(){return e.btn.disable()})).then((function(){e.otpInputs.forEach((function(e){return e.value=""}));e.otpInputs[0].focus()})).then((function(){return salla.api.auth.resend(e.data)})).finally((function(){return e.resendTimer()}))};e.prototype.submit=function(){var e=this;if(this.code.value.length<4){this.otpInputs[this.code.value.length].focus();salla.log("Trying to submit without 4 digits!");return}var t=Object.assign({code:this.code.value},this.data);return this.btn.load().then((function(){return e.btn.disable()})).then((function(){return e.isProfileVerify?salla.profile.verify(t):salla.auth.verify(t,e.supportWebAuth)})).then((function(t){return e.verified.emit(t)})).then((function(){return e.btn.stop()&&e.btn.disable()})).then((function(){return e.modal.close()})).then((function(){return e.autoReload&&window.location.reload()})).catch((function(t){salla.logger.error(t);e.btn.stop()&&e.btn.enable()&&e.reset()}))};e.prototype.render=function(){var e=this;return this.display=="inline"?h(Host,null,this.myBody()):h("salla-modal",{width:"xs",class:"s-verify",ref:function(t){return e.modal=t},"modal-title":this.title},h("span",{slot:"icon",class:"s-verify-header-icon",innerHTML:this.type=="mobile"?AndroidPhoneIcon:MailIcon}),this.myBody())};e.prototype.myBody=function(){var e=this;return h("div",{class:"s-verify-body",ref:function(t){return e.body=t}},h("div",{class:"s-verify-message",innerHTML:salla.lang.get("pages.profile.verify_message")}),h("input",{type:"hidden",name:"code",maxlength:"4",required:true,ref:function(t){return e.code=t}}),h("div",{class:"s-verify-codes",dir:"ltr"},[1,2,3,4].map((function(t){return h("input",{type:"number",autocomplete:"one-time-code",pattern:"[0-9]*",inputmode:"numeric",maxlength:"1",value:"",id:"otp-".concat(t),class:"s-verify-input",onInput:function(t){return e.handleInput(t)},onPaste:function(t){return e.handlePaste(t)},onKeyUp:function(t){return e.handleKeyUp(t)},onFocus:function(t){return e.handleFocus(t)},required:true})}))),h("div",{slot:"footer",class:"s-verify-footer"},h("salla-button",{class:"s-verify-submit","loader-position":"center",disabled:true,onClick:function(){return e.submit()},ref:function(t){return e.btn=t}},salla.lang.get("pages.profile.verify")),h("p",{class:"s-verify-resend-message",ref:function(t){return e.resendMessage=t}},salla.lang.get("blocks.header.resend_after"),h("b",{class:"s-verify-timer",ref:function(t){return e.timer=t}})),h("a",{href:"#",class:"s-verify-resend",onClick:function(){return e.resendCode()},ref:function(t){return e.resend=t}},salla.lang.get("blocks.comments.submit"))),h("slot",{name:"after-footer"}))};Object.defineProperty(e.prototype,"host",{get:function(){return getElement(this)},enumerable:false,configurable:true});return e}();SallaVerify.style=sallaVerifyCss;export{SallaAddProductButton as salla_add_product_button,SallaButton as salla_button,SallaCartSummary as salla_cart_summary,SallaColorPicker as salla_color_picker,SallaCountDown as salla_count_down,SallaDatetimePicker as salla_datetime_picker,SallaFileUpload as salla_file_upload,SallaGifting as salla_gifting,SallaInfiniteScroll as salla_infinite_scroll,SallaListTile as salla_list_tile,SallaLoading as salla_loading,SallaLocalizationModal as salla_localization_modal,SallaLoginModal as salla_login_modal,SallaLoyalty as salla_loyalty,SallaMaintenanceAlert as salla_maintenance_alert,SallaMap as salla_map,SallaModal as salla_modal,SallaOfferModal as salla_offer_modal,SallaPlaceholder as salla_placeholder,SallaProductAvailability as salla_product_availability,SallaProductCard as salla_product_card,SallaProductSizeGuide as salla_product_size_guide,SallaProgressBar as salla_progress_bar,SallaQuantityInput as salla_quantity_input,SallaQuickBuy as salla_quick_buy,SallaQuickOrder as salla_quick_order,SallaRatingModal as salla_rating_modal,SallaRatingStars as salla_rating_stars,SallaScopees as salla_scopes,SallaSearch as salla_search,SallaSkeleton as salla_skeleton,SallaSwiper as salla_slider,SallaSocialShare as salla_social_share,SallaTabContent as salla_tab_content,SallaTabHeader as salla_tab_header,SallaTabs as salla_tabs,SallaTelInput as salla_tel_input,SallaUserMenu as salla_user_menu,SallaUserSettings as salla_user_settings,SallaVerify as salla_verify};
//# sourceMappingURL=salla-add-product-button_40.entry.js.map