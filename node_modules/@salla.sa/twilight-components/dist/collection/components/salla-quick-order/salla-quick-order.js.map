{"version":3,"file":"salla-quick-order.js","sourceRoot":"","sources":["../../../src/components/salla-quick-order/salla-quick-order.tsx"],"names":[],"mappings":"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","sourcesContent":["import {Component, Host, h, Prop, State, Event, EventEmitter, Element} from '@stencil/core';\nimport CelebrationIcon from '../../assets/svg/party-horn.svg';\nimport PortraitIcon from '../../assets/svg/portrait.svg';\nimport IphoneXIcon from '../../assets/svg/iphone-x.svg';\nimport MailIcon from '../../assets/svg/mail.svg';\nimport {CartRequest, QuickOrderSetting} from '@salla.sa/twilight/types/api/cart';\nimport quickOrderPayload = CartRequest.quickOrderPayload;\nimport CancelIcon from '../../assets/svg/cancel.svg';\n\n@Component({\n  tag: 'salla-quick-order',\n  styleUrl: 'salla-quick-order.scss',\n})\nexport class SallaQuickOrder {\n\n  @Element() host: HTMLElement;\n\n\n  // modal refs\n  private agreementModal: HTMLSallaModalElement;\n\n  // input refs\n  private nameInput: HTMLInputElement;\n  private emailInput: HTMLInputElement;\n  private phoneInput: HTMLSallaTelInputElement;\n  private termsInput: HTMLInputElement;\n  private submitBtn: HTMLSallaButtonElement;\n\n  /**\n   * quick order title\n   */\n  @Prop({mutable: true}) quickOrderTitle: string = 'ليش تنتظر؟';\n  /**\n   * quick order sub title\n   */\n  @Prop({mutable: true}) subTitle: string = 'احصل على المنتج مباشرة الآن';\n  /**\n   * quick order pay button text\n   */\n  @Prop({mutable: true}) payButtonTitle: string = 'اطلب المنتج';\n  /**\n   * quick order confirm pay button text\n   */\n  @Prop({mutable: true}) confirmPayButtonTitle: string = 'اشتر الآن';\n  /**\n   * agreement text from server or from props\n   */\n  @Prop({mutable: true}) agreementText: string = salla.lang.get(\n    'pages.checkout.show_full_agreement'\n  );\n  /**\n   * is email required\n   */\n  @Prop({mutable: true}) isEmailRequired: boolean = false;\n  /**\n   * product id local or from page\n   */\n  @Prop({mutable: true}) productId: string;\n\n  /**\n   * product id local or from page\n   */\n  @Prop({mutable: true}) thanksMessage: string;\n\n  /**\n   * Quick Order Style\n   */\n  @Prop({mutable: true}) quickOrderStyle: 'gray' | 'white' | 'default' = 'default';\n\n  /*\n   * states\n   */\n\n  @State() user: any;\n  @State() isAvailable: boolean = false;\n  @State() oneClick: boolean = false;\n  @State() expanded: boolean = false;\n  @State() isTermsRequired: boolean = false;\n  @State() countryCode: string = salla.config.get('user.country_code', 'SA') || 'SA';\n  @State() submitSucess: boolean = false;\n  //Langugae states\n  @State() placeHolderEmail: string = salla.lang.get('common.elements.email');\n  @State() emailOptional: string = salla.lang.get('common.elements.optional');\n  @State() agreementShowText: string = salla.lang.get('pages.checkout.show_full_agreement');\n  @State() agreementModalHead: string = salla.lang.get('pages.checkout.full_agreement');\n  @State() userNameLabel: string = salla.lang.get('pages.products.your_name');\n  @State() termsChecked: boolean = false;\n\n  /**\n   * Custome DOM event emitter when order gets submitted successfully.\n   */\n  @Event() quickOrderSubmited: EventEmitter;\n\n  constructor() {\n    salla.onReady(() => {\n      this.productId = this.productId || salla.config.get('page.id');\n    })\n\n    salla.lang.onLoaded(() => {\n      this.placeHolderEmail = salla.lang.get('common.elements.email');\n      this.emailOptional = salla.lang.get('common.elements.optional');\n      this.agreementShowText = salla.lang.get('pages.checkout.show_full_agreement');\n      this.agreementModalHead = salla.lang.get('pages.checkout.full_agreement');\n      this.userNameLabel = salla.lang.get('pages.products.your_name');\n    });\n  }\n\n  private getBtnColor() {\n    return this.quickOrderStyle === 'default' ? 'light' : 'primary';\n  }\n\n  private getErrorMessage(type, name) {\n    return name == 'terms'\n      ? salla.lang.get('pages.checkout.check_agreement')\n      : salla.lang.get(`common.errors.${type}`, {attribute: name == 'name' ? this.userNameLabel : this.placeHolderEmail});\n  }\n\n  private handleInvalidInput(e) {\n    let input = e.target;\n    let validity = input.validity;\n    let errorMessage;\n    if (validity.valueMissing) {\n      errorMessage = this.getErrorMessage('field_required', input.name);\n      console.log(this.getErrorMessage('field_required', input.name));\n    } else if (validity.typeMismatch) {\n      errorMessage = this.getErrorMessage('invalid_value', input.name);\n    }\n    input.setCustomValidity(errorMessage);\n  }\n\n\n  private async setWrapperHeight() {\n    let expandable: HTMLElement = this.host.querySelector('.s-quick-order-expandable') as HTMLElement;\n    setTimeout(() => {\n      if (expandable.style.maxHeight || this.oneClick) {\n        expandable.style.maxHeight = null;\n      } else {\n        expandable.style.maxHeight = expandable.scrollHeight + \"px\";\n      }\n    }, 50);\n  }\n\n  private getDarkOrLight() {\n    return this.quickOrderStyle === 'default' && salla.config.get('theme.color.is_dark') ? 'dark' : 'light';\n  }\n\n  private getStyleColor() {\n    return {\n      gray: '#f3f3f3',\n      white: '#ffffff',\n      default: salla.config.get('theme.color.primary'),\n    }[this.quickOrderStyle] || '#f3f3f3';\n  }\n\n  async submit(e, checkOneClick: boolean = false) {\n    e.preventDefault();\n    if (checkOneClick && !this.oneClick) {\n      this.expanded = !this.expanded;\n      this.setWrapperHeight();\n      return;\n    }\n\n    return this.submitBtn.load()\n      .then(() => this.getPayload())\n      .then((payload: quickOrderPayload) => salla.api.cart.createQuickOrder(payload))\n      .then(() => {\n        setTimeout(() => {\n          this.submitBtn.stop();\n          this.submitSucess = true;\n          this.quickOrderSubmited.emit();\n        }, 200);\n      })\n      .catch(error => error && (console.error(error), this.submitBtn.stop()));\n  }\n\n  private async getPayload(): Promise<CartRequest.quickOrderPayload | Object | false> {\n    if (this.oneClick) {\n      return {\n        product_ids: [this.productId],\n        agreement: true,\n      };\n    }\n\n    return {\n      product_ids: [this.productId],\n      email: this.emailInput?.value,\n      phone: Number((await this.phoneInput?.getValues())?.phone),\n      country_code: (await this.phoneInput?.getValues())?.countryCode || this.countryCode,\n      name: this.nameInput?.value,\n      agreement: this.termsChecked,\n    };\n  }\n\n  formatAgreementText(agreement_text, length = 150) {\n    if (!agreement_text) return '';\n    if (agreement_text.length <= length) return agreement_text;\n    const parsedToDOM = new DOMParser().parseFromString(agreement_text, 'text/html');\n    return parsedToDOM.documentElement.innerText.substring(0, length) + '...';\n  }\n\n  private loadQuickOrderSettings() {\n    let data = salla.config.get('store.settings.product.quick_order');\n    if (!data) {\n      return Promise.resolve();\n    }\n\n    this.user = salla.config.get('user') || salla.storage.get('user') || {};\n    this.countryCode = this.user?.country_code || this.countryCode;\n    // make email required if user is gust or is required from server\n    this.isEmailRequired = this.user?.email ? false : this.isEmailRequired;\n    // check if one click is available\n    this.oneClick = this.user?.email;\n    this.initComponentData(data);\n    return Promise.resolve();\n\n    // return salla.api.withoutNotifier(() => salla.api.cart.getQuickOrderSettings().then(res => this.initComponentData(res.data)));\n  }\n\n  private initComponentData(data: QuickOrderSetting) {\n    this.quickOrderTitle = data.title;\n    this.subTitle = data.sub_title;\n    this.payButtonTitle = data.order_now_button;\n    this.isEmailRequired = data.is_email_required;\n    this.isTermsRequired = data.show_agreement;\n    this.agreementText = data.agreement;\n    this.confirmPayButtonTitle = data.confirm_button;\n    this.thanksMessage = data.thanks_message;\n    this.quickOrderStyle = data.style;\n    this.isAvailable = true;\n  }\n\n  componentWillLoad() {\n    return new Promise(resolve => salla.onReady(() => this.loadQuickOrderSettings().then(resolve)))\n  }\n\n  render() {\n    if (!this.isAvailable) {\n      return;\n    }\n    if (this.submitSucess) {\n      return (\n        <Host class=\"s-quick-order\">\n          <div class={'s-quick-order-confirm'} style={{\n            backgroundColor: salla.config.get('theme.color.primary') + '10',\n            borderColor: salla.config.get('theme.color.primary') + '10',\n            color: salla.config.get('theme.color.primary')\n          }}>\n            <i innerHTML={CelebrationIcon}/>\n            <span>{this.thanksMessage}</span>\n          </div>\n        </Host>\n      );\n    }\n    return (\n      <Host class={`s-quick-order s-quick-order-${this.getDarkOrLight()}`}>\n        <div class={`s-quick-order-container s-quick-order-${this.quickOrderStyle}`}\n             style={{backgroundColor: this.getStyleColor()}}>\n          <div class=\"s-quick-order-button-cont\">\n            {/*todo:: if we can remove this dom, lets do it*/}\n            <div>\n              <h3>{this.quickOrderTitle}</h3>\n              <p>{this.subTitle}</p>\n            </div>\n\n            <salla-button class={this.expanded ? \"s-quick-order-btn-close\" : \"\"} onClick={(e) => this.submit(e, true)}\n                          color={this.getBtnColor()}>\n              {this.oneClick\n                ? this.confirmPayButtonTitle : this.expanded ? <i innerHTML={CancelIcon}/> : this.confirmPayButtonTitle}\n            </salla-button>\n          </div>\n          <form onSubmit={(e) => this.submit(e)}\n                class={'s-quick-order-expandable ' + (this.expanded ? 's-quick-order-shown' : '')}>\n            {/*we don't need to show name & phone & email unless it's guest*/}\n            {Salla.config.isGuest() &&\n            [\n              <div class=\"s-form-group\">\n                <span innerHTML={PortraitIcon}/>\n                <input type=\"text\"\n                       required\n                       class=\"s-form-control\"\n                       name='name'\n                       placeholder={this.userNameLabel}\n                       ref={el => (this.nameInput = el)}\n                />\n              </div>\n              ,\n              <div class=\"s-quick-order-flex-input\">\n                <div class=\"s-form-group\">\n                  <span innerHTML={IphoneXIcon}/>\n                  <salla-tel-input ref={el => (this.phoneInput = el)}/>\n                </div>\n                <div class=\"s-form-group\">\n                  <span innerHTML={MailIcon}/>\n                  <input type=\"email\"\n                         class=\"s-form-control\"\n                         name='email'\n                         required={this.isEmailRequired}\n                         placeholder={this.placeHolderEmail + ' ' + (this.isEmailRequired ? '' : this.emailOptional)}\n                         ref={el => (this.emailInput = el)}\n                  />\n                </div>\n              </div>,\n            ]\n            }\n            {this.isTermsRequired && (\n              <label htmlFor=\"terms\" class=\"s-quick-order-terms\">\n                <input type=\"checkbox\" required name='terms' id='terms' ref={el => (this.termsInput = el)}\n                       onChange={() => (this.termsChecked = this.termsInput.checked)} class=\"s-checkbox\"/>\n                <span class=\"s-form-label\"> <div innerHTML={this.formatAgreementText(this.agreementText, 150)}>\n                  {this.agreementText.length > 150 && (\n                    <salla-button shape=\"link\" onClick={() => this.agreementModal.open()}>\n                      {this.agreementShowText}\n                    </salla-button>\n                  )}\n                </div> </span>\n              </label>\n            )}\n            {/* @ts-ignore */}\n            <salla-button type=\"submit\" color={this.getBtnColor()} width=\"wide\" ref={el => (this.submitBtn = el)}>\n              {this.payButtonTitle}\n            </salla-button>\n          </form>\n          <salla-modal modal-title={this.agreementModalHead} ref={modal => (this.agreementModal = modal)}>\n            <article innerHTML={this.agreementText}/>\n          </salla-modal>\n        </div>\n      </Host>\n    );\n  }\n\n  componentDidLoad() {\n    this.host.querySelectorAll('input').forEach(input => {\n      input.addEventListener('invalid', e => {\n        this.handleInvalidInput(e);\n      });\n      input.addEventListener('input', () => {\n          input.setCustomValidity('');\n          input.reportValidity();\n        }\n      );\n    });\n  }\n}\n"]}