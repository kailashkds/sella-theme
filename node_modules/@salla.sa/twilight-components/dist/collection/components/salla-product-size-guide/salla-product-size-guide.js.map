{"version":3,"file":"salla-product-size-guide.js","sourceRoot":"","sources":["../../../src/components/salla-product-size-guide/salla-product-size-guide.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, State, Method, Element, h } from '@stencil/core';\nimport PencilRuler from \"../../assets/svg/pencil-ruler.svg\";\nexport interface SizeGuide {\n  name: string;\n  description: string;\n}\n\n/**\n * @slot header - The upper section of the component.Empty by default.\n * @slot footer - The bottom section of the component.Empty by default.\n */\n@Component({\n  tag: 'salla-product-size-guide',\n  styleUrl: 'salla-product-size-guide.scss',\n})\nexport class SallaProductSizeGuide {\n  constructor() {\n    salla.event.on('size-guide::open', (product_id) => this.open(product_id));\n    salla.lang.onLoaded(() => {\n      this.placeholder_title = salla.lang.get('pages.products.size_guide_placeholder')\n      this.placeholder_description = salla.lang.get('pages.products.size_guide_placeholder_info')\n      this.modal_title = salla.lang.get('pages.products.size_guides');\n    })\n  }\n  private modal: HTMLSallaModalElement;\n  @State() guides: Array<SizeGuide> | [];\n  @State() productId: number;\n\n  @State() placeholder_title: string;\n  @State() placeholder_description: string;\n  @State() modal_title: string;\n  @State() hasError: boolean = false;\n\n  @Element() host: HTMLElement;\n  /**\n   * Show the size-guide modal window\n   */\n  @Method()\n  async open(product_id: number) {\n    this.modal.setTitle(this.modal_title)\n    this.modal.open()\n    return await salla.api.withoutNotifier(() => salla.product.getSizeGuides(product_id))\n      .then((response) => {\n        this.guides = response.data;\n      })\n      .catch(e => {\n        console.log(e)\n        this.hasError = true;\n        this.placeholder_description = e.response?.data?.error?.message || e.response?.data;\n      })\n      .finally(() => this.modal.stopLoading())\n  }\n  /**\n   *\n   * Hide the size-guide modal window\n   */\n  @Method()\n  async close() {\n    return this.modal.close();\n  }\n  private showPlaceholder() {\n    return <salla-placeholder alignment=\"center\" iconSize=\"xl\">\n      <div slot=\"title\">\n        {this.placeholder_title}\n      </div>\n      <div slot=\"description\">\n        {this.placeholder_description}\n      </div>\n    </salla-placeholder>\n  }\n  render() {\n    return (\n      <salla-modal class=\"s-product-size-guide-wrapper\" id='salla-product-size-guide-modal' isLoading={true} has-skeleton width=\"md\" ref={modal => this.modal = modal}>\n        <span slot='icon' class=\"s-product-size-guide-header-icon\" innerHTML={PencilRuler}></span>\n        <div slot=\"loading\">\n          <div class=\"s-product-size-guide-skeleton\">\n            <salla-skeleton height='15px' width='25%'></salla-skeleton>\n\n            <div class=\"s-product-size-guide-skeleton-header\">\n              <salla-skeleton height='40px'></salla-skeleton>\n              <salla-skeleton height='40px'></salla-skeleton>\n              <salla-skeleton height='40px'></salla-skeleton>\n              <salla-skeleton height='40px'></salla-skeleton>\n            </div>\n            <div class=\"s-product-size-guide-skeleton-content\">\n              <salla-skeleton height='15px' width='25%'></salla-skeleton>\n              <salla-skeleton height='10px' width='75%'></salla-skeleton>\n              <salla-skeleton height='10px' width='50%'></salla-skeleton>\n              <salla-skeleton height='10px' width='75%'></salla-skeleton>\n              <salla-skeleton height='10px' width='100%'></salla-skeleton>\n              <salla-skeleton height='10px' width='25%'></salla-skeleton>\n              <salla-skeleton height='10px' width='60%'></salla-skeleton>\n              <salla-skeleton height='10px' width='45%'></salla-skeleton>\n              <salla-skeleton height='10px' width='30%'></salla-skeleton>\n            </div>\n\n\n          </div>\n        </div>\n        <slot name=\"header\" />\n        {!this.hasError && !!this.guides ?\n          [\n            <salla-tabs>\n              {this.guides.map((guide: SizeGuide) =>\n                <salla-tab-header slot=\"header\" name={guide.name}>\n                  <span>{guide.name}</span>\n                </salla-tab-header>\n              )}\n              {this.guides.map((guide: SizeGuide) =>\n                <salla-tab-content slot=\"content\" name={guide.name}>\n                  <div innerHTML={guide.description}></div>\n                </salla-tab-content>\n              )}\n            </salla-tabs>\n          ]\n          : this.showPlaceholder()\n        }\n        <slot name=\"footer\" />\n      </salla-modal>\n    );\n  }\n}\n"]}